"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21";
exports.ids = ["vendor-chunks/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21"];
exports.modules = {

/***/ "(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs":
/*!******************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SanityVision)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../node_modules/.pnpm/next@15.5.2_@babel+core@7.2_a4e656b99e842170c0a22eb76d21770b/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-compiler-runtime */ \"(ssr)/../node_modules/.pnpm/react-compiler-runtime@19.1.0-rc.2_react@18.3.1/node_modules/react-compiler-runtime/dist/index.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! sanity */ \"(ssr)/../node_modules/.pnpm/sanity@3.99.0_@emotion+is-p_bc64cbb7fc7bae6c354f41cec809cb1d/node_modules/sanity/lib/index.mjs\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sanity/ui */ \"(ssr)/../node_modules/.pnpm/@sanity+ui@2.16.16_@emotion_8f5412e5779c6f0ccce69345b87416a7/node_modules/@sanity/ui/dist/_chunks-es/_visual-editing.mjs\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @sanity/ui */ \"(ssr)/../node_modules/.pnpm/@sanity+ui@2.16.16_@emotion_8f5412e5779c6f0ccce69345b87416a7/node_modules/@sanity/ui/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/.pnpm/next@15.5.2_@babel+core@7.2_a4e656b99e842170c0a22eb76d21770b/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @rexxars/react-split-pane */ \"(ssr)/../node_modules/.pnpm/@rexxars+react-split-pane@1_d9b9a088cac165a8bb505925c7ad00a4/node_modules/@rexxars/react-split-pane/dist/index.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @sanity/icons */ \"(ssr)/../node_modules/.pnpm/@sanity+icons@3.7.4_react@18.3.1/node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var is_hotkey_esm__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! is-hotkey-esm */ \"(ssr)/../node_modules/.pnpm/is-hotkey-esm@1.0.0/node_modules/is-hotkey-esm/dist/index.js\");\n/* harmony import */ var use_effect_event__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! use-effect-event */ \"(ssr)/../node_modules/.pnpm/use-effect-event@2.0.3_react@18.3.1/node_modules/use-effect-event/dist/index.js\");\n/* harmony import */ var _uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uiw/react-codemirror */ \"(ssr)/../node_modules/.pnpm/@uiw+react-codemirror@4.25._0ea69cd3faaef1d64325e5dcf2d03daf/node_modules/@uiw/react-codemirror/esm/index.js\");\n/* harmony import */ var _codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @codemirror/autocomplete */ \"(ssr)/../node_modules/.pnpm/@codemirror+autocomplete@6.18.7/node_modules/@codemirror/autocomplete/dist/index.js\");\n/* harmony import */ var _codemirror_commands__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @codemirror/commands */ \"(ssr)/../node_modules/.pnpm/@codemirror+commands@6.8.1/node_modules/@codemirror/commands/dist/index.js\");\n/* harmony import */ var _codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @codemirror/lang-javascript */ \"(ssr)/../node_modules/.pnpm/@codemirror+lang-javascript@6.2.4/node_modules/@codemirror/lang-javascript/dist/index.js\");\n/* harmony import */ var _codemirror_language__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @codemirror/language */ \"(ssr)/../node_modules/.pnpm/@codemirror+language@6.11.3/node_modules/@codemirror/language/dist/index.js\");\n/* harmony import */ var _codemirror_search__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @codemirror/search */ \"(ssr)/../node_modules/.pnpm/@codemirror+search@6.5.11/node_modules/@codemirror/search/dist/index.js\");\n/* harmony import */ var _codemirror_view__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @codemirror/view */ \"(ssr)/../node_modules/.pnpm/@codemirror+view@6.38.2/node_modules/@codemirror/view/dist/index.js\");\n/* harmony import */ var _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lezer/highlight */ \"(ssr)/../node_modules/.pnpm/@lezer+highlight@1.2.1/node_modules/@lezer/highlight/dist/index.js\");\n/* harmony import */ var _sanity_color__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sanity/color */ \"(ssr)/../node_modules/.pnpm/@sanity+color@3.0.6/node_modules/@sanity/color/dist/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! styled-components */ \"(ssr)/../node_modules/.pnpm/styled-components@6.1.19_re_f9d4db8b2c9a8813869d34054868e571/node_modules/styled-components/dist/styled-components.esm.js\");\n/* harmony import */ var _index_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./index.mjs */ \"(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/index.mjs\");\n/* harmony import */ var lodash_debounce_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/debounce.js */ \"(ssr)/../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js\");\n/* harmony import */ var json5__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! json5 */ \"(ssr)/../node_modules/.pnpm/json5@2.2.3/node_modules/json5/dist/index.mjs\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isEqual.js */ \"(ssr)/../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js\");\n/* harmony import */ var _sanity_uuid__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @sanity/uuid */ \"(ssr)/../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs/operators */ \"(ssr)/../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var json_2_csv__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! json-2-csv */ \"(ssr)/../node_modules/.pnpm/json-2-csv@5.5.9/node_modules/json-2-csv/lib/converter.js\");\n/* harmony import */ var _rexxars_react_json_inspector__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @rexxars/react-json-inspector */ \"(ssr)/../node_modules/.pnpm/@rexxars+react-json-inspector@9.0.1_react@18.3.1/node_modules/@rexxars/react-json-inspector/dist/index.js\");\n/* harmony import */ var quick_lru__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! quick-lru */ \"(ssr)/../node_modules/.pnpm/quick-lru@5.1.1/node_modules/quick-lru/index.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! sanity/router */ \"(ssr)/../node_modules/.pnpm/sanity@3.99.0_@emotion+is-p_bc64cbb7fc7bae6c354f41cec809cb1d/node_modules/sanity/lib/router.mjs\");\n/* harmony import */ var react_rx__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! react-rx */ \"(ssr)/../node_modules/.pnpm/react-rx@4.1.32_react@18.3.1_rxjs@7.8.2/node_modules/react-rx/dist/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! rxjs */ \"(ssr)/../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/cjs/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst API_VERSIONS = [\"v1\", \"vX\", \"v2021-03-25\", \"v2021-10-21\", \"v2022-03-07\", \"v2025-02-19\", `v${(/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0]}`], [DEFAULT_API_VERSION] = API_VERSIONS.slice(-1);\nfunction DelayedSpinner(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5), [show, setShow] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);\n  let t0, t1;\n  $[0] !== props.delay ? (t0 = () => {\n    const timer = setTimeout(() => setShow(!0), props.delay || 500);\n    return () => clearTimeout(timer);\n  }, t1 = [props.delay], $[0] = props.delay, $[1] = t0, $[2] = t1) : (t0 = $[1], t1 = $[2]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1);\n  let t2;\n  return $[3] !== show ? (t2 = show ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Spinner, { muted: !0, size: 4 }) : null, $[3] = show, $[4] = t2) : t2 = $[4], t2;\n}\nconst codemirrorExtensions = [[_codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_11__.javascriptLanguage], (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_12__.lineNumbers)(), (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_12__.highlightActiveLine)(), (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_12__.highlightActiveLineGutter)(), (0,_codemirror_search__WEBPACK_IMPORTED_MODULE_13__.highlightSelectionMatches)(), (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_12__.highlightSpecialChars)(), (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_14__.indentOnInput)(), (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_14__.bracketMatching)(), (0,_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_15__.closeBrackets)(), (0,_codemirror_commands__WEBPACK_IMPORTED_MODULE_16__.history)(), (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_12__.drawSelection)(), (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_14__.syntaxHighlighting)(_codemirror_language__WEBPACK_IMPORTED_MODULE_14__.defaultHighlightStyle, {\n  fallback: !0\n}), _codemirror_view__WEBPACK_IMPORTED_MODULE_12__.keymap.of([\n  // Override the default keymap for Mod-Enter to not insert a new line, we have a custom event handler for executing queries\n  {\n    key: \"Mod-Enter\",\n    run: () => !0\n  },\n  // Add the default keymap and history keymap\n  _codemirror_commands__WEBPACK_IMPORTED_MODULE_16__.defaultKeymap,\n  _codemirror_commands__WEBPACK_IMPORTED_MODULE_16__.historyKeymap\n].flat().filter(Boolean))];\nfunction useCodemirrorTheme(theme) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7);\n  let t0, t1;\n  $[0] !== theme ? (t1 = createTheme(theme), $[0] = theme, $[1] = t1) : t1 = $[1], t0 = t1;\n  const cmTheme = t0;\n  let t2, t3;\n  $[2] !== theme ? (t3 = (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_14__.syntaxHighlighting)(createHighlight(theme)), $[2] = theme, $[3] = t3) : t3 = $[3], t2 = t3;\n  const cmHighlight = t2;\n  let t4;\n  return $[4] !== cmHighlight || $[5] !== cmTheme ? (t4 = [cmTheme, cmHighlight], $[4] = cmHighlight, $[5] = cmTheme, $[6] = t4) : t4 = $[6], t4;\n}\nfunction createTheme(theme) {\n  const {\n    color,\n    fonts\n  } = theme.sanity, card = color.card.enabled, cursor = _sanity_color__WEBPACK_IMPORTED_MODULE_17__.hues.blue[color.dark ? 400 : 500].hex, selection = _sanity_color__WEBPACK_IMPORTED_MODULE_17__.hues.gray[theme.sanity.color.dark ? 900 : 100].hex;\n  return _codemirror_view__WEBPACK_IMPORTED_MODULE_12__.EditorView.theme({\n    \"&\": {\n      color: card.fg,\n      backgroundColor: card.bg\n    },\n    \".cm-content\": {\n      caretColor: cursor\n    },\n    \".cm-editor\": {\n      fontFamily: fonts.code.family,\n      fontSize: (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(fonts.code.sizes[1].fontSize),\n      lineHeight: \"inherit\"\n    },\n    \".cm-cursor, .cm-dropCursor\": {\n      borderLeftColor: cursor\n    },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\": {\n      backgroundColor: selection\n    },\n    \".cm-panels\": {\n      backgroundColor: card.bg,\n      color: card.fg\n    },\n    \".cm-panels.cm-panels-top\": {\n      borderBottom: `2px solid ${card.border}`\n    },\n    \".cm-panels.cm-panels-bottom\": {\n      borderTop: `2px solid ${card.border}`\n    }\n  }, {\n    dark: color.dark\n  });\n}\nfunction createHighlight(theme) {\n  const c2 = theme.sanity.color.base, s = theme.sanity.color.syntax;\n  return _codemirror_language__WEBPACK_IMPORTED_MODULE_14__.HighlightStyle.define([{\n    tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.keyword,\n    color: s.keyword\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.propertyName, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.deleted, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.character, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.macroName],\n    color: s.property\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.function(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.variableName), _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.labelName],\n    color: s.function\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.color, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.constant(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name), _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.standard(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name)],\n    color: s.variable\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.definition(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.name), _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.separator],\n    color: s.constant\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.typeName, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.className, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.number, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.changed, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.annotation, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.modifier, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.self, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.namespace],\n    color: s.number\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.operator, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.operatorKeyword, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.url, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.escape, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.regexp, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.link, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.special(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.string)],\n    color: s.operator\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.meta, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.comment],\n    color: s.comment\n  }, {\n    tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.strong,\n    fontWeight: \"bold\"\n  }, {\n    tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.emphasis,\n    fontStyle: \"italic\"\n  }, {\n    tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.strikethrough,\n    textDecoration: \"line-through\"\n  }, {\n    tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.heading,\n    fontWeight: \"bold\",\n    color: s.property\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.atom, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.bool, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.special(_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.variableName)],\n    color: s.boolean\n  }, {\n    tag: [_lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.processingInstruction, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.string, _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.inserted],\n    color: s.string\n  }, {\n    tag: _lezer_highlight__WEBPACK_IMPORTED_MODULE_4__.tags.invalid,\n    color: c2.fg\n  }]);\n}\nconst EditorRoot = styled_components__WEBPACK_IMPORTED_MODULE_18__.styled.div`\n  width: 100%;\n  box-sizing: border-box;\n  height: 100%;\n  overflow: hidden;\n  overflow: clip;\n  position: relative;\n  display: flex;\n\n  & .cm-theme {\n    width: 100%;\n  }\n\n  & .cm-editor {\n    height: 100%;\n\n    font-size: 16px;\n    line-height: 21px;\n  }\n\n  & .cm-line {\n    padding-left: ${({\n  theme\n}) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(theme.sanity.space[3])};\n  }\n\n  & .cm-content {\n    border-right-width: ${({\n  theme\n}) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(theme.sanity.space[4])} !important;\n    padding-top: ${({\n  theme\n}) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(theme.sanity.space[5])};\n  }\n`, VisionCodeMirror = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((props, ref) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), [initialValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(props.initialValue), sanityTheme = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.useTheme)(), theme = useCodemirrorTheme(sanityTheme), codeMirrorRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = (newContent) => {\n    const editorView = codeMirrorRef.current?.view;\n    if (!editorView)\n      return;\n    const currentDoc = editorView.state.doc.toString();\n    newContent !== currentDoc && editorView.dispatch({\n      changes: {\n        from: 0,\n        to: currentDoc.length,\n        insert: newContent\n      },\n      selection: _uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_3__.EditorSelection.cursor(newContent.length)\n    });\n  }, $[0] = t0) : t0 = $[0];\n  const resetEditorContent = t0;\n  let t1, t2;\n  $[1] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = () => ({\n    resetEditorContent\n  }), t2 = [resetEditorContent], $[1] = t1, $[2] = t2) : (t1 = $[1], t2 = $[2]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useImperativeHandle)(ref, t1, t2);\n  let t3;\n  return $[3] !== initialValue || $[4] !== props.onChange || $[5] !== theme ? (t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EditorRoot, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { ref: codeMirrorRef, basicSetup: !1, theme, extensions: codemirrorExtensions, value: initialValue, onChange: props.onChange }) }), $[3] = initialValue, $[4] = props.onChange, $[5] = theme, $[6] = t3) : t3 = $[6], t3;\n});\nVisionCodeMirror.displayName = \"VisionCodeMirror\";\nconst SUPPORTED_PERSPECTIVES = [\"pinnedRelease\", \"raw\", \"published\", \"drafts\"], VIRTUAL_PERSPECTIVES = [\"pinnedRelease\"];\nfunction isSupportedPerspective(p) {\n  return SUPPORTED_PERSPECTIVES.includes(p);\n}\nfunction isVirtualPerspective(maybeVirtualPerspective) {\n  return typeof maybeVirtualPerspective == \"string\" && VIRTUAL_PERSPECTIVES.includes(maybeVirtualPerspective);\n}\nfunction hasPinnedPerspective({\n  selectedPerspectiveName\n}) {\n  return typeof selectedPerspectiveName < \"u\";\n}\nfunction getActivePerspective({\n  visionPerspective,\n  perspectiveStack\n}) {\n  return visionPerspective !== \"pinnedRelease\" ? visionPerspective : perspectiveStack;\n}\nfunction encodeQueryString(query, params = {}, options = {}) {\n  const searchParams = new URLSearchParams();\n  searchParams.set(\"query\", query);\n  for (const [key, value] of Object.entries(params))\n    searchParams.set(`$${key}`, JSON.stringify(value));\n  for (const [key, value] of Object.entries(options))\n    value && searchParams.set(key, `${value}`);\n  return `?${searchParams}`;\n}\nfunction isPlainObject(obj) {\n  return !!obj && typeof obj == \"object\" && Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nconst hasLocalStorage = supportsLocalStorage(), keyPrefix = \"sanityVision:\";\nfunction clearLocalStorage() {\n  if (hasLocalStorage)\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      key?.startsWith(keyPrefix) && localStorage.removeItem(key);\n    }\n}\nfunction getLocalStorage(namespace) {\n  const storageKey = `${keyPrefix}${namespace}`;\n  let loadedState = null;\n  return {\n    get,\n    set,\n    merge\n  };\n  function get(key, defaultVal) {\n    const state = ensureState();\n    return typeof state[key] > \"u\" ? defaultVal : state[key];\n  }\n  function set(key, value) {\n    const state = ensureState();\n    return state[key] = value, localStorage.setItem(storageKey, JSON.stringify(loadedState)), value;\n  }\n  function merge(props) {\n    const state = {\n      ...ensureState(),\n      ...props\n    };\n    return localStorage.setItem(storageKey, JSON.stringify(state)), state;\n  }\n  function ensureState() {\n    return loadedState === null && (loadedState = loadState()), loadedState;\n  }\n  function loadState() {\n    if (!hasLocalStorage)\n      return {};\n    try {\n      const stored = JSON.parse(localStorage.getItem(storageKey) || \"{}\");\n      return isPlainObject(stored) ? stored : {};\n    } catch {\n      return {};\n    }\n  }\n}\nfunction supportsLocalStorage() {\n  const mod = \"lsCheck\";\n  try {\n    return localStorage.setItem(mod, mod), localStorage.removeItem(mod), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction parseApiQueryString(qs) {\n  const params = {}, options = {};\n  for (const [key, value] of qs.entries()) {\n    if (key[0] === \"$\") {\n      params[key.slice(1)] = JSON.parse(value);\n      continue;\n    }\n    if (key === \"perspective\") {\n      options[key] = value;\n      continue;\n    }\n  }\n  return {\n    query: qs.get(\"query\") || \"\",\n    params,\n    options\n  };\n}\nfunction prefixApiVersion(version) {\n  return version[0] !== \"v\" && version !== \"other\" ? `v${version}` : version;\n}\nfunction validateApiVersion(apiVersion) {\n  const parseableApiVersion = apiVersion.replace(/^v/, \"\").trim().toUpperCase();\n  return parseableApiVersion.length > 0 && (parseableApiVersion === \"X\" || parseableApiVersion === \"1\" || /^\\d{4}-\\d{2}-\\d{2}$/.test(parseableApiVersion) && !isNaN(Date.parse(parseableApiVersion)));\n}\nfunction tryParseParams(val, t) {\n  try {\n    const parsed = val ? json5__WEBPACK_IMPORTED_MODULE_6__[\"default\"].parse(val) : {};\n    return typeof parsed == \"object\" && parsed && !Array.isArray(parsed) ? parsed : {};\n  } catch (err) {\n    return err.message = `${t(\"params.error.params-invalid-json\")}:\n\n${err.message.replace(\"JSON5:\", \"\")}`, err;\n  }\n}\nconst Root = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex))`\n  .sidebarPanes .Pane {\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  & .Resizer {\n    background: var(--card-border-color);\n    opacity: 1;\n    z-index: 1;\n    box-sizing: border-box;\n    background-clip: padding-box;\n    border: solid transparent;\n  }\n\n  & .Resizer:hover {\n    border-color: var(--card-shadow-ambient-color);\n  }\n\n  & .Resizer.horizontal {\n    height: 11px;\n    margin: -5px 0;\n    border-width: 5px 0;\n    cursor: row-resize;\n    width: 100%;\n    z-index: 4;\n  }\n\n  & .Resizer.vertical {\n    width: 11px;\n    margin: 0 -5px;\n    border-width: 0 5px;\n    cursor: col-resize;\n    z-index: 2; /* To prevent the resizer from being hidden behind CodeMirror scroll area */\n  }\n\n  .Resizer.disabled {\n    cursor: not-allowed;\n  }\n\n  .Resizer.disabled:hover {\n    border-color: transparent;\n  }\n`;\nRoot.displayName = \"Root\";\nconst Header = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card))`\n  border-bottom: 1px solid var(--card-border-color);\n`, StyledLabel = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Label))`\n  flex: 1;\n`, SplitpaneContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  position: relative;\n`, QueryCopyLink = styled_components__WEBPACK_IMPORTED_MODULE_18__.styled.a`\n  cursor: pointer;\n  margin-right: auto;\n`, InputBackgroundContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  position: absolute;\n  top: 1rem;\n  left: 0;\n  padding: 0;\n  margin: 0;\n  z-index: 10;\n  right: 0;\n\n  ${StyledLabel} {\n    user-select: none;\n  }\n`, InputBackgroundContainerLeft = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)(InputBackgroundContainer)`\n  // This is so its aligned with the gutters of CodeMirror\n  left: 33px;\n`, InputContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card))`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  flex-direction: column;\n`, ResultOuterContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex))`\n  height: 100%;\n`, ResultInnerContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  position: relative;\n`, ResultContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card))`\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  max-width: 100%;\n\n  ${({\n  $isInvalid\n}) => $isInvalid && (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.css)`\n      &:after {\n        background-color: var(--card-bg-color);\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n      }\n    `}\n`, Result = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 20;\n`, ResultFooter = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex))`\n  border-top: 1px solid var(--card-border-color);\n`, TimingsCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card))`\n  position: relative;\n`;\n(0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  width: 100%;\n  height: 100%;\n`;\nconst TimingsTextContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex))`\n  height: 100%;\n  min-height: ${({\n  theme\n}) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(theme.sanity.space[3] * 2 + theme.sanity.fonts.text.sizes[2].lineHeight - theme.sanity.fonts.text.sizes[2].ascenderHeight - theme.sanity.fonts.text.sizes[2].descenderHeight)};\n`, DownloadsCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card))`\n  position: relative;\n`, SaveResultLabel = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text))`\n  transform: initial;\n  &:before,\n  &:after {\n    content: none;\n  }\n  > span {\n    display: flex !important;\n    gap: ${({\n  theme\n}) => (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(theme.sanity.space[3])};\n    align-items: center;\n  }\n`, ControlsContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  border-top: 1px solid var(--card-border-color);\n`, defaultValue$1 = `{\n  \n}`;\nfunction ParamsEditor(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(33), {\n    onChange,\n    paramsError,\n    hasValidParams,\n    editorRef\n  } = props, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace);\n  let t0;\n  $[0] !== props.value || $[1] !== t ? (t0 = parseParams(props.value, t), $[0] = props.value, $[1] = t, $[2] = t0) : t0 = $[2];\n  const {\n    raw: value,\n    error,\n    parsed,\n    valid\n  } = t0, [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(valid), [init, setInit] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);\n  let t1, t2;\n  $[3] !== error || $[4] !== init || $[5] !== isValid || $[6] !== onChange || $[7] !== parsed || $[8] !== value ? (t1 = () => {\n    init || (onChange({\n      parsed,\n      raw: value,\n      valid: isValid,\n      error\n    }), setInit(!0));\n  }, t2 = [error, init, isValid, onChange, parsed, value], $[3] = error, $[4] = init, $[5] = isValid, $[6] = onChange, $[7] = parsed, $[8] = value, $[9] = t1, $[10] = t2) : (t1 = $[9], t2 = $[10]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  let t3;\n  $[11] !== onChange || $[12] !== t ? (t3 = (newValue) => {\n    const event = parseParams(newValue, t);\n    setValid(event.valid), onChange(event);\n  }, $[11] = onChange, $[12] = t, $[13] = t3) : t3 = $[13];\n  const handleChangeRaw = t3;\n  let t4, t5;\n  $[14] !== handleChangeRaw ? (t5 = lodash_debounce_js__WEBPACK_IMPORTED_MODULE_5__(handleChangeRaw, 333), $[14] = handleChangeRaw, $[15] = t5) : t5 = $[15], t4 = t5;\n  const handleChange = t4, t6 = hasValidParams ? \"default\" : \"critical\";\n  let t7;\n  $[16] !== t ? (t7 = t(\"params.label\"), $[16] = t, $[17] = t7) : t7 = $[17];\n  let t8;\n  $[18] !== t7 ? (t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { muted: !0, children: t7 }), $[18] = t7, $[19] = t8) : t8 = $[19];\n  let t9;\n  $[20] !== paramsError ? (t9 = paramsError && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Tooltip, { animate: !0, placement: \"top\", portal: !0, content: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { size: 1, children: paramsError }), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 1, marginX: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_21__.ErrorOutlineIcon, {}) }) }) }), $[20] = paramsError, $[21] = t9) : t9 = $[21];\n  let t10;\n  $[22] !== t8 || $[23] !== t9 ? (t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputBackgroundContainerLeft, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { children: [\n    t8,\n    t9\n  ] }) }), $[22] = t8, $[23] = t9, $[24] = t10) : t10 = $[24];\n  const t11 = props.value || defaultValue$1;\n  let t12;\n  $[25] !== editorRef || $[26] !== handleChange || $[27] !== t11 ? (t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionCodeMirror, { ref: editorRef, initialValue: t11, onChange: handleChange }), $[25] = editorRef, $[26] = handleChange, $[27] = t11, $[28] = t12) : t12 = $[28];\n  let t13;\n  return $[29] !== t10 || $[30] !== t12 || $[31] !== t6 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { flex: 1, tone: t6, \"data-testid\": \"params-editor\", children: [\n    t10,\n    t12\n  ] }), $[29] = t10, $[30] = t12, $[31] = t6, $[32] = t13) : t13 = $[32], t13;\n}\nfunction parseParams(value, t) {\n  const parsedParams = tryParseParams(value, t), params = parsedParams instanceof Error ? {} : parsedParams, validationError = parsedParams instanceof Error ? parsedParams.message : void 0;\n  return {\n    parsed: params,\n    raw: value,\n    valid: !validationError,\n    error: validationError\n  };\n}\nconst STORED_QUERIES_NAMESPACE = \"studio.vision-tool.saved-queries\", defaultValue = {\n  queries: []\n}, keyValueStoreKey = STORED_QUERIES_NAMESPACE;\nfunction useSavedQueries() {\n  const keyValueStore = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useKeyValueStore)(), [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(defaultValue), [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1), [deleting, setDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]), [saveQueryError, setSaveQueryError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(), [deleteQueryError, setDeleteQueryError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(), [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(), queries = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => keyValueStore.getKey(keyValueStoreKey), [keyValueStore]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const sub = queries.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.startWith)(defaultValue), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.map)((data) => data || defaultValue)).subscribe({\n      next: setValue,\n      error: (err) => setError(err)\n    });\n    return () => sub?.unsubscribe();\n  }, [queries, keyValueStore]);\n  const saveQuery = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((query) => {\n    setSaving(!0), setSaveQueryError(void 0);\n    try {\n      const newQueries = [{\n        ...query,\n        _key: (0,_sanity_uuid__WEBPACK_IMPORTED_MODULE_23__[\"default\"])()\n      }, ...value.queries];\n      setValue({\n        queries: newQueries\n      }), keyValueStore.setKey(keyValueStoreKey, {\n        queries: newQueries\n      });\n    } catch (err_0) {\n      setSaveQueryError(err_0);\n    } finally {\n      setSaving(!1);\n    }\n  }, [keyValueStore, value.queries]), updateQuery = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((query_0) => {\n    setSaving(!0), setSaveQueryError(void 0);\n    try {\n      const updatedQueries = value.queries.map((q) => q._key === query_0._key ? {\n        ...q,\n        ...query_0\n      } : q);\n      setValue({\n        queries: updatedQueries\n      }), keyValueStore.setKey(keyValueStoreKey, {\n        queries: updatedQueries\n      });\n    } catch (err_1) {\n      setSaveQueryError(err_1);\n    } finally {\n      setSaving(!1);\n    }\n  }, [keyValueStore, value.queries]), deleteQuery = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((key) => {\n    setDeleting((prev) => [...prev, key]), setDeleteQueryError(void 0);\n    try {\n      const filteredQueries = value.queries.filter((q_0) => q_0._key !== key);\n      setValue({\n        queries: filteredQueries\n      }), keyValueStore.setKey(keyValueStoreKey, {\n        queries: filteredQueries\n      });\n    } catch (err_2) {\n      setDeleteQueryError(err_2);\n    } finally {\n      setDeleting((prev) => prev.filter((k) => k !== key));\n    }\n  }, [keyValueStore, value.queries]);\n  return {\n    queries: value.queries,\n    saveQuery,\n    updateQuery,\n    deleteQuery,\n    saving,\n    deleting,\n    saveQueryError,\n    deleteQueryError,\n    error\n  };\n}\nconst FixedHeader = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack))`\n  position: sticky;\n  top: 0;\n  background: ${({\n  theme\n}) => theme.sanity.color.base.bg};\n  z-index: 1;\n`, ScrollContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${({\n  theme\n}) => theme.sanity.color.base.border};\n    border-radius: 4px;\n  }\n`;\nfunction QueryRecall(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(80), {\n    url,\n    getStateFromUrl,\n    setStateFromParsedUrl,\n    currentQuery,\n    currentParams,\n    generateUrl\n  } = t0, toast = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_24__.useToast)(), {\n    saveQuery,\n    updateQuery,\n    queries,\n    deleteQuery,\n    saving,\n    saveQueryError\n  } = useSavedQueries(), {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace);\n  let t1;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hour12: !0\n  }, $[0] = t1) : t1 = $[0];\n  const formatDate = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useDateTimeFormat)(t1), [editingKey, setEditingKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null), [editingTitle, setEditingTitle] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  let t2;\n  $[1] === Symbol.for(\"react.memo_cache_sentinel\") ? (t2 = {}, $[1] = t2) : t2 = $[1];\n  const [optimisticTitles, setOptimisticTitles] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t2), [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\"), [selectedUrl, setSelectedUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(url);\n  let t3;\n  $[2] !== currentParams || $[3] !== currentQuery || $[4] !== formatDate || $[5] !== generateUrl || $[6] !== getStateFromUrl || $[7] !== queries || $[8] !== saveQuery || $[9] !== saveQueryError || $[10] !== t || $[11] !== toast ? (t3 = async () => {\n    const newUrl = generateUrl(currentQuery, currentParams);\n    if (queries?.some((q) => {\n      const savedQueryObj = getStateFromUrl(q.url);\n      return savedQueryObj && savedQueryObj.query === currentQuery && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_7__(savedQueryObj.params, currentParams);\n    })) {\n      const duplicateQuery = queries?.find((q_0) => {\n        const savedQueryObj_0 = getStateFromUrl(q_0.url);\n        return savedQueryObj_0 && savedQueryObj_0.query === currentQuery && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_7__(savedQueryObj_0.params, currentParams);\n      });\n      toast.push({\n        closable: !0,\n        status: \"warning\",\n        title: t(\"save-query.already-saved\"),\n        description: `${duplicateQuery?.title} - ${formatDate.format(new Date(duplicateQuery?.savedAt || \"\"))}`\n      });\n      return;\n    }\n    newUrl && (await saveQuery({\n      url: newUrl,\n      savedAt: (/* @__PURE__ */ new Date()).toISOString(),\n      title: \"Untitled\"\n    }), setSelectedUrl(newUrl)), saveQueryError ? toast.push({\n      closable: !0,\n      status: \"error\",\n      title: t(\"save-query.error\"),\n      description: saveQueryError.message\n    }) : toast.push({\n      closable: !0,\n      status: \"success\",\n      title: t(\"save-query.success\")\n    });\n  }, $[2] = currentParams, $[3] = currentQuery, $[4] = formatDate, $[5] = generateUrl, $[6] = getStateFromUrl, $[7] = queries, $[8] = saveQuery, $[9] = saveQueryError, $[10] = t, $[11] = toast, $[12] = t3) : t3 = $[12];\n  const handleSave = t3;\n  let t4;\n  $[13] !== t || $[14] !== toast || $[15] !== updateQuery ? (t4 = async (query, newTitle) => {\n    setEditingKey(null), setOptimisticTitles((prev) => ({\n      ...prev,\n      [query._key]: newTitle\n    }));\n    try {\n      await updateQuery({\n        ...query,\n        title: newTitle\n      }), setOptimisticTitles((prev_1) => {\n        const next_0 = {\n          ...prev_1\n        };\n        return delete next_0[query._key], next_0;\n      });\n    } catch (t52) {\n      const err = t52;\n      setOptimisticTitles((prev_0) => {\n        const next = {\n          ...prev_0\n        };\n        return delete next[query._key], next;\n      }), toast.push({\n        closable: !0,\n        status: \"error\",\n        title: t(\"save-query.error\"),\n        description: err.message\n      });\n    }\n  }, $[13] = t, $[14] = toast, $[15] = updateQuery, $[16] = t4) : t4 = $[16];\n  const handleTitleSave = t4;\n  let t5;\n  $[17] !== currentParams || $[18] !== currentQuery || $[19] !== formatDate || $[20] !== generateUrl || $[21] !== getStateFromUrl || $[22] !== queries || $[23] !== t || $[24] !== toast || $[25] !== updateQuery ? (t5 = async (query_0) => {\n    const newUrl_0 = generateUrl(currentQuery, currentParams);\n    if (queries?.some((q_1) => {\n      if (q_1._key === query_0._key)\n        return !1;\n      const savedQueryObj_1 = getStateFromUrl(q_1.url);\n      return savedQueryObj_1 && savedQueryObj_1.query === currentQuery && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_7__(savedQueryObj_1.params, currentParams);\n    })) {\n      const duplicateQuery_0 = queries?.find((q_2) => {\n        if (q_2._key === query_0._key)\n          return !1;\n        const savedQueryObj_2 = getStateFromUrl(q_2.url);\n        return savedQueryObj_2 && savedQueryObj_2.query === currentQuery && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_7__(savedQueryObj_2.params, currentParams);\n      });\n      toast.push({\n        closable: !0,\n        status: \"warning\",\n        title: t(\"save-query.already-saved\"),\n        description: `${duplicateQuery_0?.title} - ${formatDate.format(new Date(duplicateQuery_0?.savedAt || \"\"))}`\n      });\n      return;\n    }\n    try {\n      await updateQuery({\n        ...query_0,\n        url: newUrl_0,\n        savedAt: (/* @__PURE__ */ new Date()).toISOString()\n      }), setSelectedUrl(newUrl_0), toast.push({\n        closable: !0,\n        status: \"success\",\n        title: t(\"save-query.success\")\n      });\n    } catch (t62) {\n      const err_0 = t62;\n      toast.push({\n        closable: !0,\n        status: \"error\",\n        title: t(\"save-query.error\"),\n        description: err_0.message\n      });\n    }\n  }, $[17] = currentParams, $[18] = currentQuery, $[19] = formatDate, $[20] = generateUrl, $[21] = getStateFromUrl, $[22] = queries, $[23] = t, $[24] = toast, $[25] = updateQuery, $[26] = t5) : t5 = $[26];\n  const handleUpdate = t5;\n  let T0, T1, t6, t7, t8;\n  if ($[27] !== currentParams || $[28] !== currentQuery || $[29] !== deleteQuery || $[30] !== editingKey || $[31] !== editingTitle || $[32] !== formatDate || $[33] !== getStateFromUrl || $[34] !== handleSave || $[35] !== handleTitleSave || $[36] !== handleUpdate || $[37] !== optimisticTitles || $[38] !== queries || $[39] !== saving || $[40] !== searchQuery || $[41] !== selectedUrl || $[42] !== setStateFromParsedUrl || $[43] !== t) {\n    const filteredQueries = queries?.filter((q_3) => q_3?.title?.toLowerCase().includes(searchQuery.toLowerCase()));\n    T1 = ScrollContainer;\n    let t92;\n    $[49] === Symbol.for(\"react.memo_cache_sentinel\") ? (t92 = {\n      textTransform: \"capitalize\"\n    }, $[49] = t92) : t92 = $[49];\n    let t102;\n    $[50] !== t ? (t102 = t(\"label.saved-queries\"), $[50] = t, $[51] = t102) : t102 = $[51];\n    let t11;\n    $[52] !== t102 ? (t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { weight: \"semibold\", style: t92, size: 4, children: t102 }), $[52] = t102, $[53] = t11) : t11 = $[53];\n    let t12;\n    $[54] !== t ? (t12 = t(\"action.save-query\"), $[54] = t, $[55] = t12) : t12 = $[55];\n    let t13;\n    $[56] !== handleSave || $[57] !== saving || $[58] !== t12 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { label: t12, icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.AddIcon, disabled: saving, onClick: handleSave, mode: \"bleed\" }), $[56] = handleSave, $[57] = saving, $[58] = t12, $[59] = t13) : t13 = $[59];\n    let t14;\n    $[60] !== t11 || $[61] !== t13 ? (t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { padding: 3, paddingTop: 4, paddingBottom: 0, justify: \"space-between\", align: \"center\", children: [\n      t11,\n      t13\n    ] }), $[60] = t11, $[61] = t13, $[62] = t14) : t14 = $[62];\n    let t15;\n    $[63] !== t ? (t15 = t(\"label.search-queries\"), $[63] = t, $[64] = t15) : t15 = $[64];\n    let t16;\n    $[65] === Symbol.for(\"react.memo_cache_sentinel\") ? (t16 = (event) => setSearchQuery(event.currentTarget.value), $[65] = t16) : t16 = $[65];\n    let t17;\n    $[66] !== searchQuery || $[67] !== t15 ? (t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 3, paddingTop: 0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.TextInput, { placeholder: t15, icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.SearchIcon, value: searchQuery, onChange: t16 }) }), $[66] = searchQuery, $[67] = t15, $[68] = t17) : t17 = $[68], $[69] !== t14 || $[70] !== t17 ? (t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(FixedHeader, { space: 3, children: [\n      t14,\n      t17\n    ] }), $[69] = t14, $[70] = t17, $[71] = t8) : t8 = $[71], T0 = _sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, t6 = 3, t7 = filteredQueries?.map((q_4) => {\n      const queryObj = getStateFromUrl(q_4.url), isSelected = selectedUrl === q_4.url, areQueriesEqual = queryObj && currentQuery === queryObj.query && lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_7__(currentParams, queryObj.params), isEdited = isSelected && !areQueriesEqual;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { width: \"fill\", padding: 4, border: !0, tone: isSelected ? \"positive\" : \"default\", onClick: () => {\n        setSelectedUrl(q_4.url);\n        const parsedUrl = getStateFromUrl(q_4.url);\n        parsedUrl && setStateFromParsedUrl(parsedUrl);\n      }, style: {\n        position: \"relative\"\n      }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { space: 3, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { justify: \"space-between\", align: \"center\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { align: \"center\", gap: 2, paddingRight: 1, children: [\n            editingKey === q_4._key ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.TextInput, { value: editingTitle, onChange: (event_0) => setEditingTitle(event_0.currentTarget.value), onKeyDown: (event_1) => {\n              event_1.key === \"Enter\" ? handleTitleSave(q_4, editingTitle) : event_1.key === \"Escape\" && setEditingKey(null);\n            }, onBlur: () => handleTitleSave(q_4, editingTitle), autoFocus: !0, style: {\n              maxWidth: \"170px\",\n              height: \"24px\"\n            } }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { weight: \"bold\", size: 3, textOverflow: \"ellipsis\", style: {\n              maxWidth: \"170px\",\n              cursor: \"pointer\",\n              padding: \"4px 0\"\n            }, title: optimisticTitles[q_4._key] || q_4.title || q_4._key.slice(q_4._key.length - 5, q_4._key.length), onClick: () => {\n              setEditingKey(q_4._key), setEditingTitle(q_4.title || q_4._key.slice(0, 5));\n            }, children: optimisticTitles[q_4._key] || q_4.title || q_4._key.slice(q_4._key.length - 5, q_4._key.length) }),\n            isEdited && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { style: {\n              width: \"6px\",\n              height: \"6px\",\n              borderRadius: \"50%\",\n              backgroundColor: \"var(--card-focus-ring-color)\"\n            } })\n          ] }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_24__.MenuButton, { button: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_19__.ContextMenuButton, {}), id: `${q_4._key}-menu`, menu: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Menu, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.MenuItem, { tone: \"critical\", padding: 3, icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.TrashIcon, text: t(\"action.delete\"), onClick: (event_2) => {\n            event_2.stopPropagation(), deleteQuery(q_4._key);\n          } }) }), popover: {\n            portal: !0,\n            placement: \"bottom-end\",\n            tone: \"default\"\n          } })\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Code, { muted: !0, children: queryObj?.query.split(\"{\")[0] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { align: \"center\", gap: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { size: 1, muted: !0, children: formatDate.format(new Date(q_4.savedAt || \"\")) }) }),\n        isEdited && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { mode: \"ghost\", tone: \"default\", size: 1, padding: 2, style: {\n          height: \"24px\",\n          position: \"absolute\",\n          right: \"16px\",\n          bottom: \"16px\",\n          fontSize: \"12px\"\n        }, text: t(\"action.update\"), onClick: (e) => {\n          e.stopPropagation(), handleUpdate(q_4);\n        } })\n      ] }) }, q_4._key);\n    }), $[27] = currentParams, $[28] = currentQuery, $[29] = deleteQuery, $[30] = editingKey, $[31] = editingTitle, $[32] = formatDate, $[33] = getStateFromUrl, $[34] = handleSave, $[35] = handleTitleSave, $[36] = handleUpdate, $[37] = optimisticTitles, $[38] = queries, $[39] = saving, $[40] = searchQuery, $[41] = selectedUrl, $[42] = setStateFromParsedUrl, $[43] = t, $[44] = T0, $[45] = T1, $[46] = t6, $[47] = t7, $[48] = t8;\n  } else\n    T0 = $[44], T1 = $[45], t6 = $[46], t7 = $[47], t8 = $[48];\n  let t9;\n  $[72] !== T0 || $[73] !== t6 || $[74] !== t7 ? (t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(T0, { paddingY: t6, children: t7 }), $[72] = T0, $[73] = t6, $[74] = t7, $[75] = t9) : t9 = $[75];\n  let t10;\n  return $[76] !== T1 || $[77] !== t8 || $[78] !== t9 ? (t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(T1, { children: [\n    t8,\n    t9\n  ] }), $[76] = T1, $[77] = t8, $[78] = t9, $[79] = t10) : t10 = $[79], t10;\n}\nfunction narrowBreakpoint() {\n  return typeof window < \"u\" && window.innerWidth > 600;\n}\nfunction calculatePaneSizeOptions(height) {\n  let rootHeight = height;\n  return rootHeight || (rootHeight = typeof window < \"u\" && typeof document < \"u\" ? document.body.getBoundingClientRect().height - 60 : 0), {\n    defaultSize: rootHeight / (narrowBreakpoint() ? 2 : 1),\n    size: rootHeight > 550 ? void 0 : rootHeight * 0.4,\n    allowResize: rootHeight > 550,\n    minSize: Math.min(170, Math.max(170, rootHeight / 2)),\n    maxSize: rootHeight > 650 ? rootHeight * 0.7 : rootHeight * 0.6\n  };\n}\nfunction usePaneSize(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), {\n    visionRootRef\n  } = t0, [isNarrowBreakpoint, setIsNarrowBreakpoint] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_temp$3), [paneSizeOptions, setPaneSizeOptions] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_temp2$2);\n  let t1;\n  $[0] !== visionRootRef.current ? (t1 = () => {\n    if (!visionRootRef.current)\n      return;\n    const handleResize = (entries) => {\n      setIsNarrowBreakpoint(narrowBreakpoint());\n      const entry = entries?.[0];\n      entry && setPaneSizeOptions(calculatePaneSizeOptions(entry.contentRect.height));\n    }, resizeObserver = new ResizeObserver(handleResize);\n    return resizeObserver.observe(visionRootRef.current), () => {\n      resizeObserver.disconnect();\n    };\n  }, $[0] = visionRootRef.current, $[1] = t1) : t1 = $[1];\n  let t2;\n  $[2] !== visionRootRef ? (t2 = [visionRootRef], $[2] = visionRootRef, $[3] = t2) : t2 = $[3], (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2);\n  let t3;\n  return $[4] !== isNarrowBreakpoint || $[5] !== paneSizeOptions ? (t3 = {\n    paneSizeOptions,\n    isNarrowBreakpoint\n  }, $[4] = isNarrowBreakpoint, $[5] = paneSizeOptions, $[6] = t3) : t3 = $[6], t3;\n}\nfunction _temp2$2() {\n  return calculatePaneSizeOptions(void 0);\n}\nfunction _temp$3() {\n  return narrowBreakpoint();\n}\nfunction VisionGuiControls(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(30), {\n    hasValidParams,\n    listenInProgress,\n    queryInProgress,\n    onQueryExecution,\n    onListenExecution\n  } = t0, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace);\n  let t1;\n  $[0] !== t ? (t1 = t(\"params.error.params-invalid-json\"), $[0] = t, $[1] = t1) : t1 = $[1];\n  let t2;\n  $[2] !== t1 ? (t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { radius: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { size: 1, muted: !0, children: t1 }) }), $[2] = t1, $[3] = t2) : t2 = $[3];\n  let t3;\n  $[4] === Symbol.for(\"react.memo_cache_sentinel\") ? (t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { radius: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Hotkeys, { keys: [\"Ctrl\", \"Enter\"] }) }), $[4] = t3) : t3 = $[4];\n  const t4 = queryInProgress ? _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.StopIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.PlayIcon, t5 = listenInProgress || !hasValidParams, t6 = queryInProgress ? \"positive\" : \"primary\";\n  let t7;\n  $[5] !== queryInProgress || $[6] !== t ? (t7 = t(queryInProgress ? \"action.query-cancel\" : \"action.query-execute\"), $[5] = queryInProgress, $[6] = t, $[7] = t7) : t7 = $[7];\n  let t8;\n  $[8] !== onQueryExecution || $[9] !== t4 || $[10] !== t5 || $[11] !== t6 || $[12] !== t7 ? (t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Tooltip, { content: t3, placement: \"top\", portal: !0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { width: \"fill\", onClick: onQueryExecution, type: \"button\", icon: t4, disabled: t5, tone: t6, text: t7 }) }) }), $[8] = onQueryExecution, $[9] = t4, $[10] = t5, $[11] = t6, $[12] = t7, $[13] = t8) : t8 = $[13];\n  const t9 = listenInProgress ? _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.StopIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.PlayIcon;\n  let t10;\n  $[14] !== listenInProgress || $[15] !== t ? (t10 = t(listenInProgress ? \"action.listen-cancel\" : \"action.listen-execute\"), $[14] = listenInProgress, $[15] = t, $[16] = t10) : t10 = $[16];\n  const t11 = !hasValidParams, t12 = listenInProgress ? \"positive\" : \"default\";\n  let t13;\n  $[17] !== onListenExecution || $[18] !== t10 || $[19] !== t11 || $[20] !== t12 || $[21] !== t9 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { flex: 1, marginLeft: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { width: \"fill\", onClick: onListenExecution, type: \"button\", icon: t9, text: t10, mode: \"ghost\", disabled: t11, tone: t12 }) }), $[17] = onListenExecution, $[18] = t10, $[19] = t11, $[20] = t12, $[21] = t9, $[22] = t13) : t13 = $[22];\n  let t14;\n  $[23] !== t13 || $[24] !== t8 ? (t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { justify: \"space-evenly\", children: [\n    t8,\n    t13\n  ] }), $[23] = t13, $[24] = t8, $[25] = t14) : t14 = $[25];\n  let t15;\n  return $[26] !== hasValidParams || $[27] !== t14 || $[28] !== t2 ? (t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ControlsContainer, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { padding: 3, paddingX: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Tooltip, { content: t2, placement: \"top\", disabled: hasValidParams, portal: !0, children: t14 }) }) }), $[26] = hasValidParams, $[27] = t14, $[28] = t2, $[29] = t15) : t15 = $[29], t15;\n}\nconst PerspectivePopoverContent = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box))`\n  /* This limits the width of the popover content */\n  max-width: 240px;\n`, PerspectivePopoverLink = styled_components__WEBPACK_IMPORTED_MODULE_18__.styled.a`\n  cursor: pointer;\n  margin-right: auto;\n`, Dot = styled_components__WEBPACK_IMPORTED_MODULE_18__.styled.div`\n  width: 4px;\n  height: 4px;\n  border-radius: 3px;\n  box-shadow: 0 0 0 1px var(--card-bg-color);\n  background-color: ${({\n  $tone\n}) => `var(--card-badge-${$tone}-dot-color)`};\n`;\nfunction PerspectivePopover() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(39), [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1), buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), popoverRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = () => setOpen(_temp$2), $[0] = t0) : t0 = $[0];\n  const handleClick = t0, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace);\n  let t1, t2;\n  $[1] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = () => setOpen(!1), t2 = () => [buttonRef.current, popoverRef.current], $[1] = t1, $[2] = t2) : (t1 = $[1], t2 = $[2]), (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.useClickOutsideEvent)(t1, t2);\n  let t3;\n  $[3] !== t ? (t3 = t(\"settings.perspectives.title\"), $[3] = t, $[4] = t3) : t3 = $[4];\n  let t4;\n  $[5] !== t3 ? (t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Inline, { space: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { weight: \"medium\", children: t3 }) }), $[5] = t3, $[6] = t4) : t4 = $[6];\n  let t5;\n  $[7] !== t ? (t5 = t(\"settings.perspectives.description\"), $[7] = t, $[8] = t5) : t5 = $[8];\n  let t6;\n  $[9] !== t5 ? (t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { muted: !0, children: t5 }) }), $[9] = t5, $[10] = t6) : t6 = $[10];\n  let t7;\n  $[11] !== t ? (t7 = t(\"label.new\"), $[11] = t, $[12] = t7) : t7 = $[12];\n  let t8;\n  $[13] !== t7 ? (t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Badge, { tone: \"primary\", children: t7 }) }), $[13] = t7, $[14] = t8) : t8 = $[14];\n  let t9;\n  $[15] !== t ? (t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { muted: !0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_19__.Translate, { t, i18nKey: \"settings.perspective.preview-drafts-renamed-to-drafts.description\" }) }), $[15] = t, $[16] = t9) : t9 = $[16];\n  let t10;\n  $[17] !== t8 || $[18] !== t9 ? (t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { space: 2, children: [\n    t8,\n    t9\n  ] }) }), $[17] = t8, $[18] = t9, $[19] = t10) : t10 = $[19];\n  let t11;\n  $[20] !== t ? (t11 = null, $[20] = t, $[21] = t11) : t11 = $[21];\n  let t12;\n  $[22] !== t ? (t12 = t(\"settings.perspectives.action.docs-link\"), $[22] = t, $[23] = t12) : t12 = $[23];\n  let t13;\n  $[24] !== t12 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PerspectivePopoverLink, { href: \"https://sanity.io/docs/perspectives\", target: \"_blank\", children: [\n    t12,\n    \" \\u2192\"\n  ] }) }) }), $[24] = t12, $[25] = t13) : t13 = $[25];\n  let t14;\n  $[26] !== t10 || $[27] !== t11 || $[28] !== t13 || $[29] !== t4 || $[30] !== t6 ? (t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PerspectivePopoverContent, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { space: 4, children: [\n    t4,\n    t6,\n    t10,\n    t11,\n    t13\n  ] }) }), $[26] = t10, $[27] = t11, $[28] = t13, $[29] = t4, $[30] = t6, $[31] = t14) : t14 = $[31];\n  let t15;\n  $[32] === Symbol.for(\"react.memo_cache_sentinel\") ? (t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Dot, { $tone: \"primary\" }), $[32] = t15) : t15 = $[32];\n  let t16;\n  $[33] !== open ? (t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.HelpCircleIcon, mode: \"bleed\", padding: 2, paddingRight: 1, tone: \"primary\", fontSize: 1, ref: buttonRef, onClick: handleClick, selected: open, children: t15 }), $[33] = open, $[34] = t16) : t16 = $[34];\n  let t17;\n  return $[35] !== open || $[36] !== t14 || $[37] !== t16 ? (t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Popover, { content: t14, placement: \"bottom-start\", portal: !0, padding: 3, ref: popoverRef, open, children: t16 }), $[35] = open, $[36] = t14, $[37] = t16, $[38] = t17) : t17 = $[38], t17;\n}\nfunction _temp$2(o) {\n  return !o;\n}\nconst PinnedReleasePerspectiveOption = (t0) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9), {\n    pinnedPerspective,\n    t\n  } = t0, name = typeof pinnedPerspective.selectedPerspective == \"object\" ? pinnedPerspective.selectedPerspective.metadata.title : pinnedPerspective.selectedPerspectiveName;\n  let t1;\n  $[0] !== pinnedPerspective || $[1] !== t ? (t1 = hasPinnedPerspective(pinnedPerspective) ? `(${t(\"settings.perspectives.pinned-release-label\")})` : t(\"settings.perspectives.pinned-release-label\"), $[0] = pinnedPerspective, $[1] = t, $[2] = t1) : t1 = $[2];\n  const label = t1;\n  let t2, t3;\n  $[3] !== label || $[4] !== name ? (t3 = [name, label].filter(_temp$1), $[3] = label, $[4] = name, $[5] = t3) : t3 = $[5], t2 = t3.join(\" \");\n  const text = t2, t4 = !hasPinnedPerspective(pinnedPerspective);\n  let t5;\n  return $[6] !== t4 || $[7] !== text ? (t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { value: \"pinnedRelease\", disabled: t4, children: text }), $[6] = t4, $[7] = text, $[8] = t5) : t5 = $[8], t5;\n};\nfunction VisionGuiHeader(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(64), {\n    onChangeDataset,\n    dataset,\n    customApiVersion,\n    apiVersion,\n    onChangeApiVersion,\n    datasets,\n    customApiVersionElementRef,\n    onCustomApiVersionChange,\n    isValidApiVersion,\n    onChangePerspective,\n    url,\n    perspective\n  } = t0, pinnedPerspective = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.usePerspective)(), {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace), operationUrlElement = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  let t1;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = () => {\n    const el = operationUrlElement.current;\n    if (el)\n      try {\n        el.select(), document.execCommand(\"copy\");\n      } catch {\n        console.error(\"Unable to copy to clipboard :(\");\n      }\n  }, $[0] = t1) : t1 = $[0];\n  const handleCopyUrl = t1;\n  let t2;\n  $[1] === Symbol.for(\"react.memo_cache_sentinel\") ? (t2 = [1, 4, 8, 12], $[1] = t2) : t2 = $[1];\n  let t3;\n  $[2] !== t ? (t3 = t(\"settings.dataset-label\"), $[2] = t, $[3] = t3) : t3 = $[3];\n  let t4;\n  $[4] !== t3 ? (t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { children: t3 }) }), $[4] = t3, $[5] = t4) : t4 = $[5];\n  let t5;\n  $[6] !== datasets ? (t5 = datasets.map(_temp2$1), $[6] = datasets, $[7] = t5) : t5 = $[7];\n  let t6;\n  $[8] !== dataset || $[9] !== onChangeDataset || $[10] !== t5 ? (t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Select, { value: dataset, onChange: onChangeDataset, children: t5 }), $[8] = dataset, $[9] = onChangeDataset, $[10] = t5, $[11] = t6) : t6 = $[11];\n  let t7;\n  $[12] !== t4 || $[13] !== t6 ? (t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { children: [\n    t4,\n    t6\n  ] }) }), $[12] = t4, $[13] = t6, $[14] = t7) : t7 = $[14];\n  let t8;\n  $[15] !== t ? (t8 = t(\"settings.api-version-label\"), $[15] = t, $[16] = t8) : t8 = $[16];\n  let t9;\n  $[17] !== t8 ? (t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { children: t8 }) }), $[17] = t8, $[18] = t9) : t9 = $[18];\n  const t10 = customApiVersion === !1 ? apiVersion : \"other\";\n  let t11;\n  $[19] === Symbol.for(\"react.memo_cache_sentinel\") ? (t11 = API_VERSIONS.map(_temp3$1), $[19] = t11) : t11 = $[19];\n  let t12;\n  $[20] !== t ? (t12 = t(\"settings.other-api-version-label\"), $[20] = t, $[21] = t12) : t12 = $[21];\n  let t13;\n  $[22] !== t12 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { value: \"other\", children: t12 }, \"other\"), $[22] = t12, $[23] = t13) : t13 = $[23];\n  let t14;\n  $[24] !== onChangeApiVersion || $[25] !== t10 || $[26] !== t13 ? (t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Select, { \"data-testid\": \"api-version-selector\", value: t10, onChange: onChangeApiVersion, children: [\n    t11,\n    t13\n  ] }), $[24] = onChangeApiVersion, $[25] = t10, $[26] = t13, $[27] = t14) : t14 = $[27];\n  let t15;\n  $[28] !== t14 || $[29] !== t9 ? (t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { children: [\n    t9,\n    t14\n  ] }) }), $[28] = t14, $[29] = t9, $[30] = t15) : t15 = $[30];\n  let t16;\n  $[31] !== customApiVersion || $[32] !== customApiVersionElementRef || $[33] !== isValidApiVersion || $[34] !== onCustomApiVersionChange || $[35] !== t ? (t16 = customApiVersion !== !1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { textOverflow: \"ellipsis\", children: t(\"settings.custom-api-version-label\") }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.TextInput, { ref: customApiVersionElementRef, value: customApiVersion, onChange: onCustomApiVersionChange, customValidity: isValidApiVersion ? void 0 : t(\"settings.error.invalid-api-version\"), maxLength: 11 })\n  ] }) }), $[31] = customApiVersion, $[32] = customApiVersionElementRef, $[33] = isValidApiVersion, $[34] = onCustomApiVersionChange, $[35] = t, $[36] = t16) : t16 = $[36];\n  let t17;\n  $[37] !== t ? (t17 = t(\"settings.perspective-label\"), $[37] = t, $[38] = t17) : t17 = $[38];\n  let t18;\n  $[39] !== t17 ? (t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { children: t17 }) }), $[39] = t17, $[40] = t18) : t18 = $[40];\n  let t19;\n  $[41] === Symbol.for(\"react.memo_cache_sentinel\") ? (t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PerspectivePopover, {}) }), $[41] = t19) : t19 = $[41];\n  let t20;\n  $[42] !== t18 ? (t20 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { paddingBottom: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Inline, { space: 1, children: [\n    t18,\n    t19\n  ] }) }), $[42] = t18, $[43] = t20) : t20 = $[43];\n  const t21 = perspective || \"default\";\n  let t22;\n  $[44] !== pinnedPerspective || $[45] !== t ? (t22 = SUPPORTED_PERSPECTIVES.map((perspectiveName) => perspectiveName === \"pinnedRelease\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PinnedReleasePerspectiveOption, { pinnedPerspective, t }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { value: \"default\", children: t(\"settings.perspectives.default\") }, \"default\"),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"hr\", {})\n  ] }, \"pinnedRelease\") : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { children: perspectiveName }, perspectiveName)), $[44] = pinnedPerspective, $[45] = t, $[46] = t22) : t22 = $[46];\n  let t23;\n  $[47] !== onChangePerspective || $[48] !== t21 || $[49] !== t22 ? (t23 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Select, { value: t21, onChange: onChangePerspective, children: t22 }), $[47] = onChangePerspective, $[48] = t21, $[49] = t22, $[50] = t23) : t23 = $[50];\n  let t24;\n  $[51] !== t20 || $[52] !== t23 ? (t24 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 1, column: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { children: [\n    t20,\n    t23\n  ] }) }), $[51] = t20, $[52] = t23, $[53] = t24) : t24 = $[53];\n  let t25;\n  $[54] !== customApiVersion || $[55] !== t || $[56] !== url ? (t25 = typeof url == \"string\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 1, flex: 1, column: customApiVersion === !1 ? 6 : 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { paddingTop: 2, paddingBottom: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(StyledLabel, { children: [\n      t(\"query.url\"),\n      \"\\xA0\",\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(QueryCopyLink, { onClick: handleCopyUrl, children: [\n        \"[\",\n        t(\"action.copy-url-to-clipboard\"),\n        \"]\"\n      ] })\n    ] }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { flex: 1, gap: 1, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.TextInput, { readOnly: !0, type: \"url\", ref: operationUrlElement, value: url }) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Tooltip, { content: t(\"action.copy-url-to-clipboard\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { \"aria-label\": t(\"action.copy-url-to-clipboard\"), type: \"button\", mode: \"ghost\", icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.CopyIcon, onClick: handleCopyUrl }) })\n    ] })\n  ] }) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { flex: 1 }), $[54] = customApiVersion, $[55] = t, $[56] = url, $[57] = t25) : t25 = $[57];\n  let t26;\n  return $[58] !== t15 || $[59] !== t16 || $[60] !== t24 || $[61] !== t25 || $[62] !== t7 ? (t26 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Header, { paddingX: 3, paddingY: 2, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Grid, { columns: t2, children: [\n    t7,\n    t15,\n    t16,\n    t24,\n    t25\n  ] }) }), $[58] = t15, $[59] = t16, $[60] = t24, $[61] = t25, $[62] = t7, $[63] = t26) : t26 = $[63], t26;\n}\nfunction _temp3$1(version) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { children: version }, version);\n}\nfunction _temp2$1(ds) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", { children: ds }, ds);\n}\nfunction _temp$1(value) {\n  return typeof value < \"u\";\n}\nfunction getBlobUrl(content, mimeType) {\n  return URL.createObjectURL(new Blob([content], {\n    type: mimeType\n  }));\n}\nfunction getMemoizedBlobUrlResolver(mimeType, stringEncoder) {\n  return /* @__PURE__ */ (() => {\n    let prevResult = \"\", prevContent = \"\";\n    return (input) => {\n      const content = stringEncoder(input);\n      if (!(typeof content != \"string\" || content === \"\"))\n        return content === prevContent || (prevContent = content, prevResult && URL.revokeObjectURL(prevResult), prevResult = getBlobUrl(content, mimeType)), prevResult;\n    };\n  })();\n}\nconst getJsonBlobUrl = getMemoizedBlobUrlResolver(\"application/json\", (input) => JSON.stringify(input, null, 2)), getCsvBlobUrl = getMemoizedBlobUrlResolver(\"text/csv\", (input) => (0,json_2_csv__WEBPACK_IMPORTED_MODULE_8__.json2csv)(Array.isArray(input) ? input : [input]).trim()), ErrorCode = (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.styled)((0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Code))`\n  color: ${({\n  theme\n}) => theme.sanity.color.muted.critical.enabled.fg};\n`;\nfunction QueryErrorDetails(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), {\n    error\n  } = t0, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace);\n  if (!(\"details\" in error))\n    return null;\n  const details = {\n    ...error.details,\n    ...mapToLegacyDetails(error.details)\n  };\n  if (!details.line)\n    return null;\n  const t1 = `${details.line}\n${dashLine(details.column, details.columnEnd)}`;\n  let t2;\n  $[0] !== t1 ? (t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorCode, { size: 1, children: t1 }), $[0] = t1, $[1] = t2) : t2 = $[1];\n  const t3 = `${t(\"query.error.line\")}:   ${details.lineNumber}\n${t(\"query.error.column\")}: ${details.column}`;\n  let t4;\n  $[2] !== t3 ? (t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { marginTop: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorCode, { size: 1, children: t3 }) }), $[2] = t3, $[3] = t4) : t4 = $[3];\n  let t5;\n  return $[4] !== t2 || $[5] !== t4 ? (t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { children: [\n    t2,\n    t4\n  ] }), $[4] = t2, $[5] = t4, $[6] = t5) : t5 = $[6], t5;\n}\nfunction mapToLegacyDetails(details) {\n  if (!details || typeof details.query != \"string\" || typeof details.start != \"number\")\n    return {};\n  const {\n    query,\n    start,\n    end\n  } = details, lineStart = query.slice(0, start).lastIndexOf(`\n`) + 1, lineNumber = (query.slice(0, lineStart).match(/\\n/g) || []).length, line = query.slice(lineStart, query.indexOf(`\n`, lineStart)), column = start - lineStart, columnEnd = typeof end == \"number\" ? end - lineStart : void 0;\n  return {\n    line,\n    lineNumber,\n    column,\n    columnEnd\n  };\n}\nfunction dashLine(column, columnEnd) {\n  const line = \"-\".repeat(column), hats = \"^\".repeat(columnEnd ? columnEnd - column : 1);\n  return `${line}${hats}`;\n}\nfunction QueryErrorDialog(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7);\n  let t0;\n  $[0] !== props.error.message ? (t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ErrorCode, { size: 1, children: props.error.message }), $[0] = props.error.message, $[1] = t0) : t0 = $[1];\n  let t1;\n  $[2] !== props.error ? (t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(QueryErrorDetails, { error: props.error }), $[2] = props.error, $[3] = t1) : t1 = $[3];\n  let t2;\n  return $[4] !== t0 || $[5] !== t1 ? (t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { space: 5, marginTop: 2, children: [\n    t0,\n    t1\n  ] }), $[4] = t0, $[5] = t1, $[6] = t2) : t2 = $[6], t2;\n}\nconst ResultViewWrapper = styled_components__WEBPACK_IMPORTED_MODULE_18__.styled.div(({\n  theme\n}) => {\n  const {\n    color,\n    fonts,\n    space\n  } = theme.sanity;\n  return (0,styled_components__WEBPACK_IMPORTED_MODULE_18__.css)`\n    & .json-inspector,\n    & .json-inspector .json-inspector__selection {\n      font-family: ${fonts.code.family};\n      font-size: ${fonts.code.sizes[2].fontSize}px;\n      line-height: ${fonts.code.sizes[2].lineHeight}px;\n      color: var(--card-code-fg-color);\n    }\n\n    & .json-inspector .json-inspector__leaf {\n      padding-left: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(space[4])};\n    }\n\n    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {\n      padding-top: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(space[0])};\n      padding-left: 0;\n    }\n\n    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {\n      display: none;\n    }\n\n    & .json-inspector .json-inspector__line {\n      display: block;\n      position: relative;\n      cursor: default;\n    }\n\n    & .json-inspector .json-inspector__line::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: -200px;\n      right: -50px;\n      bottom: 0;\n      z-index: -1;\n      pointer-events: none;\n    }\n\n    & .json-inspector .json-inspector__line:hover::after {\n      background: var(--card-code-bg-color);\n    }\n\n    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {\n      cursor: pointer;\n    }\n\n    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {\n      content: ' ';\n      margin-left: calc(0px - ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(space[4])});\n      font-size: ${fonts.code.sizes[2].fontSize}px;\n      line-height: ${fonts.code.sizes[2].lineHeight}px;\n    }\n\n    &\n      .json-inspector\n      .json-inspector__leaf_expanded.json-inspector__leaf_composite\n      > .json-inspector__line::before {\n      content: ' ';\n      font-size: ${fonts.code.sizes[2].fontSize}px;\n      line-height: ${fonts.code.sizes[2].lineHeight}px;\n    }\n\n    & .json-inspector .json-inspector__radio,\n    & .json-inspector .json-inspector__flatpath {\n      display: none;\n    }\n\n    & .json-inspector .json-inspector__value {\n      margin-left: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(space[4] / 2)};\n    }\n\n    &\n      .json-inspector\n      > .json-inspector__leaf_root\n      > .json-inspector__line\n      > .json-inspector__key\n      + .json-inspector__value {\n      margin: 0;\n    }\n\n    & .json-inspector .json-inspector__key {\n      color: ${color.syntax.property};\n    }\n\n    & .json-inspector .json-inspector__value_helper,\n    & .json-inspector .json-inspector__value_null {\n      color: ${color.syntax.constant};\n    }\n\n    & .json-inspector .json-inspector__not-found {\n      padding-top: ${(0,_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.rem)(space[2])};\n    }\n\n    & .json-inspector .json-inspector__value_string {\n      color: ${color.syntax.string};\n      word-break: break-word;\n    }\n\n    & .json-inspector .json-inspector__value_boolean {\n      color: ${color.syntax.boolean};\n    }\n\n    & .json-inspector .json-inspector__value_number {\n      color: ${color.syntax.number};\n    }\n\n    & .json-inspector .json-inspector__show-original {\n      display: inline-block;\n      padding: 0 6px;\n      cursor: pointer;\n    }\n\n    & .json-inspector .json-inspector__show-original:hover {\n      color: inherit;\n    }\n\n    & .json-inspector .json-inspector__show-original::before {\n      content: '';\n    }\n\n    & .json-inspector .json-inspector__show-original:hover::after {\n      content: ' expand';\n    }\n  `;\n}), lru = new quick_lru__WEBPACK_IMPORTED_MODULE_9__({\n  maxSize: 5e4\n});\nfunction ResultView(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), {\n    data,\n    datasetName\n  } = props, workspaceDataset = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useDataset)();\n  if (isRecord(data) || Array.isArray(data)) {\n    const t02 = workspaceDataset === datasetName ? DocumentEditLabel : void 0;\n    let t12;\n    return $[0] !== data || $[1] !== t02 ? (t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultViewWrapper, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_rexxars_react_json_inspector__WEBPACK_IMPORTED_MODULE_25__.JsonInspector, { data, search: !1, isExpanded, onClick: toggleExpanded, interactiveLabel: t02 }) }), $[0] = data, $[1] = t02, $[2] = t12) : t12 = $[2], t12;\n  }\n  let t0;\n  $[3] !== data ? (t0 = JSON.stringify(data), $[3] = data, $[4] = t0) : t0 = $[4];\n  let t1;\n  return $[5] !== t0 ? (t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Code, { language: \"json\", children: t0 }), $[5] = t0, $[6] = t1) : t1 = $[6], t1;\n}\nfunction DocumentEditLabel(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5);\n  if (props.isKey || !props.keypath.endsWith(\"_id\") && !props.keypath.endsWith(\"_ref\"))\n    return null;\n  let t0;\n  $[0] !== props.value ? (t0 = {\n    id: props.value\n  }, $[0] = props.value, $[1] = t0) : t0 = $[1];\n  let t1;\n  $[2] === Symbol.for(\"react.memo_cache_sentinel\") ? (t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_21__.LinkIcon, {}), $[2] = t1) : t1 = $[2];\n  let t2;\n  return $[3] !== t0 ? (t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity_router__WEBPACK_IMPORTED_MODULE_26__.IntentLink, { intent: \"edit\", params: t0, children: t1 }), $[3] = t0, $[4] = t2) : t2 = $[4], t2;\n}\nfunction isExpanded(keyPath, value) {\n  const cached = lru.get(keyPath);\n  if (typeof cached == \"boolean\")\n    return cached;\n  const segments = keyPath.split(\".\", 4);\n  return segments.length === 4 ? !1 : Array.isArray(value) ? !0 : isRecord(value) && !segments.some((key) => isArrayKeyOverLimit(key));\n}\nfunction toggleExpanded(event) {\n  const {\n    path\n  } = event, current = lru.get(path);\n  current !== void 0 && lru.set(path, !current);\n}\nfunction isRecord(value) {\n  return value !== null && typeof value == \"object\" && !Array.isArray(value);\n}\nconst numeric = /^\\d+$/;\nfunction isArrayKeyOverLimit(segment, limit = 10) {\n  return numeric.test(segment) && parseInt(segment, 10) > limit;\n}\nfunction preventSave(evt) {\n  return evt.preventDefault();\n}\nfunction SaveCsvButton(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(9), {\n    blobUrl\n  } = t0, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace), isDisabled = !blobUrl, t1 = isDisabled ? void 0 : \"query-result.csv\", t2 = isDisabled ? preventSave : void 0;\n  let t3;\n  $[0] !== blobUrl || $[1] !== isDisabled || $[2] !== t1 || $[3] !== t2 ? (t3 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { as: \"a\", disabled: isDisabled, download: t1, href: blobUrl, icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.DocumentSheetIcon, mode: \"ghost\", onClick: t2, text: \"CSV\", tone: \"default\" }), $[0] = blobUrl, $[1] = isDisabled, $[2] = t1, $[3] = t2, $[4] = t3) : t3 = $[4];\n  const button = t3;\n  let t4;\n  return $[5] !== button || $[6] !== isDisabled || $[7] !== t ? (t4 = isDisabled ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Tooltip, { content: t(\"result.save-result-as-csv.not-csv-encodable\"), placement: \"top\", children: button }) : button, $[5] = button, $[6] = isDisabled, $[7] = t, $[8] = t4) : t4 = $[8], t4;\n}\nfunction SaveJsonButton(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(2), {\n    blobUrl\n  } = t0;\n  let t1;\n  return $[0] !== blobUrl ? (t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { as: \"a\", download: \"query-result.json\", href: blobUrl, icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_21__.DocumentSheetIcon, mode: \"ghost\", text: \"JSON\", tone: \"default\" }), $[0] = blobUrl, $[1] = t1) : t1 = $[1], t1;\n}\nfunction VisionGuiResult(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(67), {\n    error,\n    queryInProgress,\n    queryResult,\n    listenInProgress,\n    listenMutations,\n    dataset,\n    queryTime,\n    e2eTime\n  } = t0, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace), hasResult = !error && !queryInProgress && typeof queryResult < \"u\";\n  let t1;\n  $[0] !== hasResult || $[1] !== queryResult ? (t1 = hasResult ? getJsonBlobUrl(queryResult) : \"\", $[0] = hasResult, $[1] = queryResult, $[2] = t1) : t1 = $[2];\n  const jsonUrl = t1;\n  let t2;\n  $[3] !== hasResult || $[4] !== queryResult ? (t2 = hasResult ? getCsvBlobUrl(queryResult) : \"\", $[3] = hasResult, $[4] = queryResult, $[5] = t2) : t2 = $[5];\n  const csvUrl = t2, t3 = error ? \"critical\" : \"default\", t4 = !!error;\n  let t5;\n  $[6] !== t ? (t5 = t(\"result.label\"), $[6] = t, $[7] = t5) : t5 = $[7];\n  let t6;\n  $[8] !== t5 ? (t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputBackgroundContainer, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { marginLeft: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { muted: !0, children: t5 }) }) }), $[8] = t5, $[9] = t6) : t6 = $[9];\n  let t7;\n  $[10] !== listenInProgress || $[11] !== listenMutations || $[12] !== queryInProgress ? (t7 = (queryInProgress || listenInProgress && listenMutations.length === 0) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { marginTop: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DelayedSpinner, {}) }), $[10] = listenInProgress, $[11] = listenMutations, $[12] = queryInProgress, $[13] = t7) : t7 = $[13];\n  let t8;\n  $[14] !== error ? (t8 = error && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(QueryErrorDialog, { error }), $[14] = error, $[15] = t8) : t8 = $[15];\n  let t9;\n  $[16] !== dataset || $[17] !== hasResult || $[18] !== queryResult ? (t9 = hasResult && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultView, { data: queryResult, datasetName: dataset }), $[16] = dataset, $[17] = hasResult, $[18] = queryResult, $[19] = t9) : t9 = $[19];\n  let t10;\n  $[20] !== dataset || $[21] !== listenInProgress || $[22] !== listenMutations ? (t10 = listenInProgress && listenMutations.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultView, { data: listenMutations, datasetName: dataset }), $[20] = dataset, $[21] = listenInProgress, $[22] = listenMutations, $[23] = t10) : t10 = $[23];\n  let t11;\n  $[24] !== t10 || $[25] !== t7 || $[26] !== t8 || $[27] !== t9 ? (t11 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { padding: 3, paddingTop: 5, children: [\n    t7,\n    t8,\n    t9,\n    t10\n  ] }), $[24] = t10, $[25] = t7, $[26] = t8, $[27] = t9, $[28] = t11) : t11 = $[28];\n  let t12;\n  $[29] !== t11 || $[30] !== t6 ? (t12 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Result, { overflow: \"auto\", children: [\n    t6,\n    t11\n  ] }), $[29] = t11, $[30] = t6, $[31] = t12) : t12 = $[31];\n  let t13;\n  $[32] !== t12 || $[33] !== t3 || $[34] !== t4 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultInnerContainer, { flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResultContainer, { flex: 1, overflow: \"hidden\", tone: t3, $isInvalid: t4, children: t12 }) }), $[32] = t12, $[33] = t3, $[34] = t4, $[35] = t13) : t13 = $[35];\n  let t14;\n  $[36] === Symbol.for(\"react.memo_cache_sentinel\") ? (t14 = [\"column\", \"column\", \"row\"], $[36] = t14) : t14 = $[36];\n  let t15;\n  $[37] !== t ? (t15 = t(\"result.execution-time-label\"), $[37] = t, $[38] = t15) : t15 = $[38];\n  let t16;\n  $[39] !== queryTime || $[40] !== t ? (t16 = typeof queryTime == \"number\" ? `${queryTime}ms` : t(\"result.timing-not-applicable\"), $[39] = queryTime, $[40] = t, $[41] = t16) : t16 = $[41];\n  let t17;\n  $[42] !== t15 || $[43] !== t16 ? (t17 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { muted: !0, children: [\n    t15,\n    \":\",\n    \" \",\n    t16\n  ] }) }), $[42] = t15, $[43] = t16, $[44] = t17) : t17 = $[44];\n  let t18;\n  $[45] !== t ? (t18 = t(\"result.end-to-end-time-label\"), $[45] = t, $[46] = t18) : t18 = $[46];\n  let t19;\n  $[47] !== e2eTime || $[48] !== t ? (t19 = typeof e2eTime == \"number\" ? `${e2eTime}ms` : t(\"result.timing-not-applicable\"), $[47] = e2eTime, $[48] = t, $[49] = t19) : t19 = $[49];\n  let t20;\n  $[50] !== t18 || $[51] !== t19 ? (t20 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { marginLeft: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Text, { muted: !0, children: [\n    t18,\n    \":\",\n    \" \",\n    t19\n  ] }) }), $[50] = t18, $[51] = t19, $[52] = t20) : t20 = $[52];\n  let t21;\n  $[53] !== t17 || $[54] !== t20 ? (t21 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TimingsCard, { paddingX: 4, paddingY: 3, sizing: \"border\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TimingsTextContainer, { align: \"center\", children: [\n    t17,\n    t20\n  ] }) }), $[53] = t17, $[54] = t20, $[55] = t21) : t21 = $[55];\n  let t22;\n  $[56] !== csvUrl || $[57] !== hasResult || $[58] !== jsonUrl || $[59] !== t ? (t22 = hasResult && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DownloadsCard, { paddingX: 4, paddingY: 3, sizing: \"border\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveResultLabel, { muted: !0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_19__.Translate, { components: {\n    SaveResultButtons: () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveJsonButton, { blobUrl: jsonUrl }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveCsvButton, { blobUrl: csvUrl })\n    ] })\n  }, i18nKey: \"result.save-result-as-format\", t }) }) }), $[56] = csvUrl, $[57] = hasResult, $[58] = jsonUrl, $[59] = t, $[60] = t22) : t22 = $[60];\n  let t23;\n  $[61] !== t21 || $[62] !== t22 ? (t23 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResultFooter, { justify: \"space-between\", direction: t14, children: [\n    t21,\n    t22\n  ] }), $[61] = t21, $[62] = t22, $[63] = t23) : t23 = $[63];\n  let t24;\n  return $[64] !== t13 || $[65] !== t23 ? (t24 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResultOuterContainer, { direction: \"column\", \"data-testid\": \"vision-result\", children: [\n    t13,\n    t23\n  ] }), $[64] = t13, $[65] = t23, $[66] = t24) : t24 = $[66], t24;\n}\nfunction nodeContains(node, other) {\n  return !node || !other ? !1 : node === other || !!(node.compareDocumentPosition(other) & 16);\n}\nconst sanityUrl = /\\.(?:api|apicdn)\\.sanity\\.(?:io|work)\\/(vX|v1|v\\d{4}-\\d\\d-\\d\\d)\\/.*?(?:query|listen)\\/(.*?)\\?(.*)/, isRunHotkey = (event) => (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_27__.isHotkey)(\"ctrl+enter\", event) || (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_27__.isHotkey)(\"mod+enter\", event);\nfunction VisionGui(props) {\n  const {\n    datasets,\n    config,\n    projectId,\n    defaultDataset\n  } = props, toast = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_24__.useToast)(), {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useTranslation)(_index_mjs__WEBPACK_IMPORTED_MODULE_20__.visionLocaleNamespace), {\n    perspectiveStack\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.usePerspective)(), defaultApiVersion = prefixApiVersion(`${config.defaultApiVersion}`), editorQueryRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), editorParamsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), visionRootRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), customApiVersionElementRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null), querySubscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(void 0), listenSubscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(void 0), [localStorage2] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => getLocalStorage(projectId || \"default\")), {\n    storedDataset,\n    storedApiVersion,\n    storedQuery,\n    storedParams,\n    storedPerspective\n  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => ({\n    storedDataset: localStorage2.get(\"dataset\", defaultDataset),\n    storedApiVersion: localStorage2.get(\"apiVersion\", defaultApiVersion),\n    storedQuery: localStorage2.get(\"query\", \"\"),\n    storedParams: localStorage2.get(\"params\", `{\n  \n}`),\n    storedPerspective: localStorage2.get(\"perspective\", void 0)\n  }), [defaultDataset, defaultApiVersion, localStorage2]), [dataset, setDataset] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => datasets.includes(storedDataset) ? storedDataset : datasets.includes(defaultDataset) ? defaultDataset : datasets[0]), [apiVersion, setApiVersion] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => API_VERSIONS.includes(storedApiVersion) ? storedApiVersion : DEFAULT_API_VERSION), [customApiVersion, setCustomApiVersion] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => API_VERSIONS.includes(storedApiVersion) ? !1 : storedApiVersion), [perspective, setPerspectiveState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(storedPerspective || \"raw\"), isValidApiVersion = customApiVersion ? validateApiVersion(customApiVersion) : !0, [url, setUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0), [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => typeof storedQuery == \"string\" ? storedQuery : \"\"), [params, setParams] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => parseParams(storedParams, t)), [queryResult, setQueryResult] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0), [listenMutations, setListenMutations] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]), [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0), [queryTime, setQueryTime] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0), [e2eTime, setE2eTime] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0), [queryInProgress, setQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1), [listenInProgress, setListenInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1), [isQueryRecallCollapsed, setIsQueryRecallCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1), {\n    paneSizeOptions,\n    isNarrowBreakpoint\n  } = usePaneSize({\n    visionRootRef\n  }), _client = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useClient)({\n    apiVersion: isValidApiVersion && customApiVersion ? customApiVersion : apiVersion\n  }), client = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => _client.withConfig({\n    apiVersion: isValidApiVersion && customApiVersion ? customApiVersion : apiVersion,\n    perspective: getActivePerspective({\n      visionPerspective: perspective,\n      perspectiveStack\n    }),\n    dataset,\n    allowReconfigure: !0\n  }), [perspectiveStack, perspective, customApiVersion, apiVersion, dataset, _client, isValidApiVersion]), cancelQuerySubscription = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    querySubscriptionRef.current && (querySubscriptionRef.current.unsubscribe(), querySubscriptionRef.current = void 0);\n  }, []), cancelListenerSubscription = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    listenSubscriptionRef.current && (listenSubscriptionRef.current.unsubscribe(), listenSubscriptionRef.current = void 0);\n  }, []), handleQueryExecution = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((options) => {\n    if (queryInProgress) {\n      cancelQuerySubscription(), cancelListenerSubscription(), setQueryInProgress(!1);\n      return;\n    }\n    const context = {\n      query: options?.query || query,\n      dataset: options?.dataset || dataset,\n      params: parseParams(JSON.stringify(options?.params || params.parsed, null, 2), t),\n      perspective: getActivePerspective({\n        visionPerspective: options?.perspective || perspective,\n        perspectiveStack\n      }),\n      apiVersion: options?.apiVersion || (customApiVersion && isValidApiVersion ? customApiVersion : apiVersion)\n    };\n    if (localStorage2.set(\"query\", context.query), localStorage2.set(\"params\", context.params.raw), cancelListenerSubscription(), setQueryInProgress(!context.params.error && !!context.query), setListenInProgress(!1), setListenMutations([]), setError(context.params.error ? new Error(context.params.error) : void 0), setQueryResult(void 0), setQueryTime(void 0), setE2eTime(void 0), context.params.error)\n      return;\n    const urlQueryOpts = {\n      perspective: context.perspective ?? []\n    }, ctxClient = client.withConfig({\n      apiVersion: context.apiVersion,\n      dataset: context.dataset,\n      perspective: context.perspective\n    }), newUrl = ctxClient.getUrl(ctxClient.getDataUrl(\"query\", encodeQueryString(context.query, context.params.parsed, urlQueryOpts)));\n    setUrl(newUrl);\n    const queryStart = Date.now();\n    querySubscriptionRef.current = ctxClient.observable.fetch(context.query, context.params.parsed, {\n      filterResponse: !1,\n      tag: \"vision\"\n    }).subscribe({\n      next: (res) => {\n        setQueryTime(res.ms), setE2eTime(Date.now() - queryStart), setQueryResult(res.result), setQueryInProgress(!1), setError(void 0);\n      },\n      error: (err) => {\n        setError(err), setQueryInProgress(!1);\n      }\n    });\n  }, [queryInProgress, query, dataset, params.parsed, t, perspective, perspectiveStack, customApiVersion, isValidApiVersion, apiVersion, localStorage2, cancelListenerSubscription, client, cancelQuerySubscription]), setPerspective = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((newPerspective) => {\n    newPerspective !== void 0 && !isSupportedPerspective(newPerspective) || (setPerspectiveState(newPerspective), localStorage2.set(\"perspective\", newPerspective), handleQueryExecution({\n      perspective: newPerspective\n    }));\n  }, [localStorage2, handleQueryExecution]), handleChangeDataset = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((evt) => {\n    const newDataset = evt.target.value;\n    localStorage2.set(\"dataset\", newDataset), setDataset(newDataset), handleQueryExecution({\n      dataset: newDataset\n    });\n  }, [localStorage2, handleQueryExecution]), handleChangeApiVersion = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((evt_0) => {\n    const newApiVersion = evt_0.target.value;\n    if (newApiVersion?.toLowerCase() === \"other\") {\n      setCustomApiVersion(\"v\"), customApiVersionElementRef.current?.focus();\n      return;\n    }\n    setApiVersion(newApiVersion), setCustomApiVersion(!1), localStorage2.set(\"apiVersion\", newApiVersion), handleQueryExecution({\n      apiVersion: newApiVersion\n    });\n  }, [localStorage2, handleQueryExecution]), handleCustomApiVersionChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((evt_1) => {\n    const newCustomApiVersion = evt_1.target.value || \"\";\n    setCustomApiVersion(newCustomApiVersion || \"v\"), validateApiVersion(newCustomApiVersion) && (setApiVersion(newCustomApiVersion), localStorage2.set(\"apiVersion\", newCustomApiVersion), handleQueryExecution({\n      apiVersion: newCustomApiVersion\n    }));\n  }, [localStorage2, handleQueryExecution]), handleChangePerspective = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((evt_2) => {\n    const newPerspective_0 = evt_2.target.value;\n    setPerspective(newPerspective_0 === \"default\" ? void 0 : newPerspective_0);\n  }, [setPerspective]), handleListenerEvent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((evt_3) => {\n    evt_3.type === \"mutation\" && setListenMutations((prevMutations) => prevMutations.length === 50 ? [evt_3, ...prevMutations.slice(0, 49)] : [evt_3, ...prevMutations]);\n  }, []), handleListenExecution = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (listenInProgress) {\n      cancelListenerSubscription(), setListenInProgress(!1);\n      return;\n    }\n    const newUrl_0 = client.getDataUrl(\"listen\", encodeQueryString(query, params.parsed, {})), shouldExecute = !params.error && query.trim().length > 0;\n    localStorage2.set(\"query\", query), localStorage2.set(\"params\", params.raw), cancelQuerySubscription(), setUrl(newUrl_0), setListenMutations([]), setQueryInProgress(!1), setQueryResult(void 0), setListenInProgress(shouldExecute), setError(params.error ? new Error(params.error) : void 0), setQueryTime(void 0), setE2eTime(void 0), shouldExecute && (listenSubscriptionRef.current = client.listen(query, params.parsed, {\n      events: [\"mutation\", \"welcome\"],\n      includeAllVersions: !0\n    }).subscribe({\n      next: handleListenerEvent,\n      error: (err_0) => {\n        setError(err_0), setListenInProgress(!1);\n      }\n    }));\n  }, [listenInProgress, params, query, localStorage2, cancelQuerySubscription, handleListenerEvent, cancelListenerSubscription, client]), handleParamsChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((value) => {\n    setParams(value), localStorage2.set(\"params\", value.raw);\n  }, [localStorage2]), getStateFromUrl = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((data) => {\n    const match = data.match(sanityUrl);\n    if (!match)\n      return null;\n    const [, usedApiVersion, usedDataset, urlQuery] = match, qs = new URLSearchParams(urlQuery), parts = parseApiQueryString(qs);\n    if (!parts) return null;\n    let newApiVersion_0, newCustomApiVersion_0;\n    validateApiVersion(usedApiVersion) && (API_VERSIONS.includes(usedApiVersion) ? (newApiVersion_0 = usedApiVersion, newCustomApiVersion_0 = !1) : newCustomApiVersion_0 = usedApiVersion);\n    const newPerspective_1 = isSupportedPerspective(parts.options.perspective) && !isVirtualPerspective(parts.options.perspective) ? parts.options.perspective : void 0;\n    return newPerspective_1 && (!isSupportedPerspective(parts.options.perspective) || isVirtualPerspective(parts.options.perspective)) && toast.push({\n      closable: !0,\n      id: \"vision-paste-unsupported-perspective\",\n      status: \"warning\",\n      title: 'Perspective in pasted url is currently not supported. Falling back to \"raw\"'\n    }), {\n      query: parts.query,\n      params: parts.params,\n      rawParams: JSON.stringify(parts.params, null, 2),\n      dataset: datasets.includes(usedDataset) ? usedDataset : dataset,\n      apiVersion: newApiVersion_0 || apiVersion,\n      customApiVersion: newCustomApiVersion_0,\n      perspective: newPerspective_1 || perspective,\n      url: data\n    };\n  }, [datasets, dataset, apiVersion, perspective, toast]), setStateFromParsedUrl = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((parsedUrlObj) => {\n    setDataset(parsedUrlObj.dataset), setQuery(parsedUrlObj.query), setParams({\n      parsed: parsedUrlObj.params,\n      raw: parsedUrlObj.rawParams,\n      valid: !0,\n      error: void 0\n    }), setApiVersion(parsedUrlObj.apiVersion), parsedUrlObj.customApiVersion && setCustomApiVersion(parsedUrlObj.customApiVersion), setPerspectiveState(parsedUrlObj.perspective), setUrl(parsedUrlObj.url), editorQueryRef.current?.resetEditorContent(parsedUrlObj.query), editorParamsRef.current?.resetEditorContent(parsedUrlObj.rawParams), localStorage2.merge({\n      query: parsedUrlObj.query,\n      params: parsedUrlObj.rawParams,\n      dataset: parsedUrlObj.dataset,\n      apiVersion: parsedUrlObj.customApiVersion || parsedUrlObj.apiVersion,\n      perspective: parsedUrlObj.perspective\n    }), handleQueryExecution(parsedUrlObj);\n  }, [localStorage2, handleQueryExecution]), handlePaste = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((evt_4) => {\n    if (!evt_4.clipboardData)\n      return;\n    const data_0 = evt_4.clipboardData.getData(\"text/plain\");\n    evt_4.preventDefault();\n    const urlState = getStateFromUrl(data_0);\n    urlState && (setStateFromParsedUrl(urlState), toast.push({\n      closable: !0,\n      id: \"vision-paste\",\n      status: \"info\",\n      title: \"Parsed URL to query\"\n    }));\n  }, [getStateFromUrl, setStateFromParsedUrl, toast]), handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((event) => {\n    const isWithinRoot = visionRootRef.current && nodeContains(visionRootRef.current, event.target);\n    isRunHotkey(event) && isWithinRoot && params.valid && (handleQueryExecution(), event.preventDefault(), event.stopPropagation());\n  }, [params.valid, handleQueryExecution]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => (window.document.addEventListener(\"paste\", handlePaste), window.document.addEventListener(\"keydown\", handleKeyDown), () => {\n    window.document.removeEventListener(\"paste\", handlePaste), window.document.removeEventListener(\"keydown\", handleKeyDown);\n  }), [handleKeyDown, handlePaste]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => () => {\n    cancelQuerySubscription(), cancelListenerSubscription();\n  }, [cancelQuerySubscription, cancelListenerSubscription]);\n  const handleStudioPerspectiveChange = (0,use_effect_event__WEBPACK_IMPORTED_MODULE_28__.useEffectEvent)((stack) => {\n    stack.length > 0 && setPerspective(\"pinnedRelease\");\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    handleStudioPerspectiveChange(perspectiveStack);\n  }, [perspectiveStack]);\n  const generateUrl = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((queryString, queryParams) => {\n    const urlQueryOpts_0 = {\n      perspective: getActivePerspective({\n        visionPerspective: perspective,\n        perspectiveStack\n      }) ?? []\n    };\n    return client.getUrl(client.getDataUrl(\"query\", encodeQueryString(queryString, queryParams, urlQueryOpts_0)));\n  }, [client, perspective, perspectiveStack]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Root, { direction: \"column\", height: \"fill\", ref: visionRootRef, sizing: \"border\", overflow: \"hidden\", \"data-testid\": \"vision-root\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionGuiHeader, { apiVersion, customApiVersion, dataset, datasets, onChangeDataset: handleChangeDataset, onChangeApiVersion: handleChangeApiVersion, customApiVersionElementRef, onCustomApiVersionChange: handleCustomApiVersionChange, isValidApiVersion, onChangePerspective: handleChangePerspective, url, perspective }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SplitpaneContainer, { flex: \"auto\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_29__.SplitPane, { minSize: 800, defaultSize: window.innerWidth - 275, size: isQueryRecallCollapsed ? window.innerWidth : window.innerWidth - 275, maxSize: -225, primary: \"first\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { height: \"stretch\", flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n        _rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_29__.SplitPane,\n        {\n          className: \"sidebarPanes\",\n          split: isNarrowBreakpoint ? \"vertical\" : \"horizontal\",\n          minSize: 300,\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { height: \"stretch\", flex: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_rexxars_react_split_pane__WEBPACK_IMPORTED_MODULE_29__.SplitPane, { className: \"sidebarPanes\", split: \"horizontal\", defaultSize: isNarrowBreakpoint ? paneSizeOptions.defaultSize : paneSizeOptions.minSize, size: paneSizeOptions.size, allowResize: paneSizeOptions.allowResize, minSize: isNarrowBreakpoint ? paneSizeOptions.minSize : 100, maxSize: paneSizeOptions.maxSize, primary: \"first\", children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputContainer, { display: \"flex\", \"data-testid\": \"vision-query-editor\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { flex: 1, children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputBackgroundContainerLeft, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledLabel, { muted: !0, children: t(\"query.label\") }) }) }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionCodeMirror, { initialValue: query, onChange: setQuery, ref: editorQueryRef })\n              ] }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(InputContainer, { display: \"flex\", children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ParamsEditor, { value: params.raw, onChange: handleParamsChange, paramsError: params.error, hasValidParams: params.valid, editorRef: editorParamsRef }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionGuiControls, { hasValidParams: params.valid, queryInProgress, listenInProgress, onQueryExecution: handleQueryExecution, onListenExecution: handleListenExecution })\n              ] })\n            ] }) }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionGuiResult, { error, queryInProgress, queryResult, listenInProgress, listenMutations, dataset, queryTime, e2eTime })\n          ]\n        }\n      ) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Box, { style: {\n        position: \"relative\",\n        height: \"100%\"\n      }, children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { mode: \"ghost\", padding: 2, style: {\n          position: \"absolute\",\n          left: -32,\n          top: \"50%\",\n          transform: \"translateY(-50%)\",\n          zIndex: 100,\n          pointerEvents: \"auto\"\n        }, onClick: () => setIsQueryRecallCollapsed(!isQueryRecallCollapsed), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          height: \"100%\"\n        }, children: isQueryRecallCollapsed ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_21__.ChevronLeftIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_21__.ChevronRightIcon, {}) }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(QueryRecall, { url, getStateFromUrl, setStateFromParsedUrl, currentQuery: query, currentParams: params.parsed || {}, generateUrl })\n      ] })\n    ] }) })\n  ] });\n}\nfunction useDatasets(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), {\n    client,\n    datasets: configDatasets\n  } = t0;\n  let t1;\n  bb0: {\n    if (Array.isArray(configDatasets)) {\n      let t22;\n      $[0] !== configDatasets ? (t22 = (0,rxjs__WEBPACK_IMPORTED_MODULE_30__.of)(configDatasets), $[0] = configDatasets, $[1] = t22) : t22 = $[1], t1 = t22;\n      break bb0;\n    }\n    let t2;\n    if ($[2] !== client.observable.datasets || $[3] !== configDatasets) {\n      let t3;\n      $[5] !== configDatasets ? (t3 = (result) => typeof configDatasets == \"function\" ? configDatasets(result).map(_temp) : result.map(_temp2), $[5] = configDatasets, $[6] = t3) : t3 = $[6], t2 = client.observable.datasets.list().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_30__.map)(t3), (0,rxjs__WEBPACK_IMPORTED_MODULE_30__.catchError)(_temp3)), $[2] = client.observable.datasets, $[3] = configDatasets, $[4] = t2;\n    } else\n      t2 = $[4];\n    t1 = t2;\n  }\n  return (0,react_rx__WEBPACK_IMPORTED_MODULE_31__.useObservable)(t1, null);\n}\nfunction _temp3(err) {\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_30__.of)(err);\n}\nfunction _temp2(ds) {\n  return ds.name;\n}\nfunction _temp(d) {\n  return d.name;\n}\nfunction VisionContainer(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(19);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = {\n    apiVersion: \"v2025-06-27\"\n  }, $[0] = t0) : t0 = $[0];\n  const datasetsClient = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useClient)(t0);\n  let t1;\n  $[1] !== datasetsClient || $[2] !== props.config.datasets ? (t1 = {\n    client: datasetsClient,\n    datasets: props.config.datasets\n  }, $[1] = datasetsClient, $[2] = props.config.datasets, $[3] = t1) : t1 = $[3];\n  const loadedDatasets = useDatasets(t1);\n  if (!loadedDatasets) {\n    let t22;\n    return $[4] === Symbol.for(\"react.memo_cache_sentinel\") ? (t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Flex, { align: \"center\", height: \"fill\", justify: \"center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DelayedSpinner, {}) }), $[4] = t22) : t22 = $[4], t22;\n  }\n  let t2;\n  $[5] !== loadedDatasets || $[6] !== props.client ? (t2 = loadedDatasets instanceof Error ? [props.client.config().dataset || \"production\"] : loadedDatasets, $[5] = loadedDatasets, $[6] = props.client, $[7] = t2) : t2 = $[7];\n  const datasets = t2;\n  let t3;\n  $[8] !== props.client ? (t3 = props.client.config(), $[8] = props.client, $[9] = t3) : t3 = $[9];\n  const projectId = t3.projectId;\n  let t4;\n  $[10] !== datasets || $[11] !== props.client || $[12] !== props.config.defaultDataset ? (t4 = props.config.defaultDataset || props.client.config().dataset || datasets[0], $[10] = datasets, $[11] = props.client, $[12] = props.config.defaultDataset, $[13] = t4) : t4 = $[13];\n  const defaultDataset = t4;\n  let t5;\n  return $[14] !== datasets || $[15] !== defaultDataset || $[16] !== projectId || $[17] !== props ? (t5 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionGui, { ...props, datasets, projectId, defaultDataset }, projectId), $[14] = datasets, $[15] = defaultDataset, $[16] = projectId, $[17] = props, $[18] = t5) : t5 = $[18], t5;\n}\nclass VisionErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_2__.Component {\n  constructor(props) {\n    super(props), this.state = {\n      error: null,\n      numRetries: 0\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error: error instanceof Error ? error.message : `${error}`\n    };\n  }\n  handleRetryRender = () => this.setState((prev) => ({\n    error: null,\n    numRetries: prev.numRetries + 1\n  }));\n  handleRetryWithCacheClear = () => {\n    clearLocalStorage(), this.handleRetryRender();\n  };\n  render() {\n    if (!this.state.error)\n      return this.props.children;\n    const message = this.state.error, withCacheClear = this.state.numRetries > 0;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { height: \"fill\", overflow: \"auto\", paddingY: [4, 5, 6, 7], paddingX: 4, sizing: \"border\", tone: \"critical\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Container, { width: 3, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { space: 4, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Button, { onClick: withCacheClear ? this.handleRetryWithCacheClear : this.handleRetryRender, text: withCacheClear ? \"Clear cache and retry\" : \"Retry\", tone: \"default\" }) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Heading, { children: \"An error occurred\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Card, { border: !0, radius: 2, overflow: \"auto\", padding: 4, tone: \"inherit\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Stack, { space: 4, children: message && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_10__.Code, { size: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"strong\", { children: [\n        \"Error: \",\n        message\n      ] }) }) }) })\n    ] }) }) });\n  }\n}\nfunction SanityVision(props) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = {\n    apiVersion: \"1\"\n  }, $[0] = t0) : t0 = $[0];\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_19__.useClient)(t0);\n  let t1;\n  $[1] !== props.tool.options ? (t1 = {\n    defaultApiVersion: DEFAULT_API_VERSION,\n    ...props.tool.options\n  }, $[1] = props.tool.options, $[2] = t1) : t1 = $[2];\n  const config = t1;\n  let t2;\n  return $[3] !== client || $[4] !== config ? (t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionErrorBoundary, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisionContainer, { client, config }) }), $[3] = client, $[4] = config, $[5] = t2) : t2 = $[5], t2;\n}\n\n//# sourceMappingURL=SanityVision.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrdmlzaW9uQDMuOTkuMF9AYmFiZV83OTY3MjQzY2VhZmM5NDVkNzRhMzgyZDY3ZWFjNWEyMS9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbGliL19jaHVua3MtZXMvU2FuaXR5VmlzaW9uLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0U7QUFDM0I7QUFDdUc7QUFDd0c7QUFDMUg7QUFDMUU7QUFDeUk7QUFDdEo7QUFDUztBQUNrQjtBQUNYO0FBQ29CO0FBQ1o7QUFDZ0U7QUFDbEU7QUFDMEY7QUFDakg7QUFDSDtBQUNXO0FBQ0k7QUFDVjtBQUNoQjtBQUNjO0FBQ0o7QUFDWTtBQUNWO0FBQ3dCO0FBQ2xDO0FBQ2U7QUFDRjtBQUNXO0FBQ3BELGtHQUFrRyx5REFBeUQ7QUFDM0o7QUFDQSxZQUFZLHlEQUFDLHVCQUF1QiwrQ0FBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsMEZBQTBGLGdEQUFTO0FBQ3RHO0FBQ0Esc0RBQXNELHNEQUFHLENBQUMsZ0RBQU8sSUFBSSxvQkFBb0I7QUFDekY7QUFDQSwrQkFBK0IsNEVBQWtCLEdBQUcsOERBQVcsSUFBSSxzRUFBbUIsSUFBSSw0RUFBeUIsSUFBSSw4RUFBeUIsSUFBSSx3RUFBcUIsSUFBSSxvRUFBYSxJQUFJLHNFQUFlLElBQUksd0VBQWEsSUFBSSw4REFBTyxJQUFJLGdFQUFhLElBQUkseUVBQWtCLENBQUMsd0VBQXFCO0FBQ3RTO0FBQ0EsQ0FBQyxHQUFHLHFEQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFLGdFQUFhO0FBQ2YsRUFBRSxnRUFBYTtBQUNmO0FBQ0E7QUFDQSxZQUFZLHlEQUFDO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIseUVBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBLFNBQVMsR0FBRyxHQUFHLEdBQUc7QUFDbEIsT0FBTyxHQUFHLEdBQUc7QUFDYjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlEQUFDO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGlCQUFpQixrREFBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0VBQW9FLHNEQUFHLHdCQUF3QiwwQkFBMEIsc0RBQUcsb0JBQW9CLGdCQUFnQixHQUFHO0FBQ25LO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiRDpcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBzYW5pdHkrdmlzaW9uQDMuOTkuMF9AYmFiZV83OTY3MjQzY2VhZmM5NDVkNzRhMzgyZDY3ZWFjNWEyMVxcbm9kZV9tb2R1bGVzXFxAc2FuaXR5XFx2aXNpb25cXGxpYlxcX2NodW5rcy1lc1xcU2FuaXR5VmlzaW9uLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIGpzeHMsIEZyYWdtZW50IGFzIEZyYWdtZW50JDEgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IGMgfSBmcm9tIFwicmVhY3QtY29tcGlsZXItcnVudGltZVwiO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24sIHVzZUtleVZhbHVlU3RvcmUsIHVzZURhdGVUaW1lRm9ybWF0LCBDb250ZXh0TWVudUJ1dHRvbiwgVHJhbnNsYXRlLCB1c2VQZXJzcGVjdGl2ZSwgdXNlRGF0YXNldCwgdXNlQ2xpZW50IH0gZnJvbSBcInNhbml0eVwiO1xuaW1wb3J0IHsgU3Bpbm5lciwgcmVtLCB1c2VUaGVtZSwgRmxleCwgQm94LCBDYXJkLCBMYWJlbCwgVGV4dCwgVG9vbHRpcCwgU3RhY2ssIHVzZVRvYXN0LCBUZXh0SW5wdXQsIE1lbnVCdXR0b24sIE1lbnUsIE1lbnVJdGVtLCBDb2RlLCBCdXR0b24sIEhvdGtleXMsIHVzZUNsaWNrT3V0c2lkZUV2ZW50LCBQb3BvdmVyLCBJbmxpbmUsIEJhZGdlLCBHcmlkLCBTZWxlY3QsIENvbnRhaW5lciwgSGVhZGluZyB9IGZyb20gXCJAc2FuaXR5L3VpXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBmb3J3YXJkUmVmLCB1c2VSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZU1lbW8sIHVzZUNhbGxiYWNrLCBGcmFnbWVudCwgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTcGxpdFBhbmUgfSBmcm9tIFwiQHJleHhhcnMvcmVhY3Qtc3BsaXQtcGFuZVwiO1xuaW1wb3J0IHsgRXJyb3JPdXRsaW5lSWNvbiwgVHJhc2hJY29uLCBBZGRJY29uLCBTZWFyY2hJY29uLCBTdG9wSWNvbiwgUGxheUljb24sIEhlbHBDaXJjbGVJY29uLCBDb3B5SWNvbiwgTGlua0ljb24sIERvY3VtZW50U2hlZXRJY29uLCBDaGV2cm9uTGVmdEljb24sIENoZXZyb25SaWdodEljb24gfSBmcm9tIFwiQHNhbml0eS9pY29uc1wiO1xuaW1wb3J0IHsgaXNIb3RrZXkgfSBmcm9tIFwiaXMtaG90a2V5LWVzbVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0RXZlbnQgfSBmcm9tIFwidXNlLWVmZmVjdC1ldmVudFwiO1xuaW1wb3J0IENvZGVNaXJyb3IsIHsgRWRpdG9yU2VsZWN0aW9uIH0gZnJvbSBcIkB1aXcvcmVhY3QtY29kZW1pcnJvclwiO1xuaW1wb3J0IHsgY2xvc2VCcmFja2V0cyB9IGZyb20gXCJAY29kZW1pcnJvci9hdXRvY29tcGxldGVcIjtcbmltcG9ydCB7IGhpc3RvcnksIGRlZmF1bHRLZXltYXAsIGhpc3RvcnlLZXltYXAgfSBmcm9tIFwiQGNvZGVtaXJyb3IvY29tbWFuZHNcIjtcbmltcG9ydCB7IGphdmFzY3JpcHRMYW5ndWFnZSB9IGZyb20gXCJAY29kZW1pcnJvci9sYW5nLWphdmFzY3JpcHRcIjtcbmltcG9ydCB7IGluZGVudE9uSW5wdXQsIGJyYWNrZXRNYXRjaGluZywgc3ludGF4SGlnaGxpZ2h0aW5nLCBkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIEhpZ2hsaWdodFN0eWxlIH0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmd1YWdlXCI7XG5pbXBvcnQgeyBoaWdobGlnaHRTZWxlY3Rpb25NYXRjaGVzIH0gZnJvbSBcIkBjb2RlbWlycm9yL3NlYXJjaFwiO1xuaW1wb3J0IHsgbGluZU51bWJlcnMsIGhpZ2hsaWdodEFjdGl2ZUxpbmUsIGhpZ2hsaWdodEFjdGl2ZUxpbmVHdXR0ZXIsIGhpZ2hsaWdodFNwZWNpYWxDaGFycywgZHJhd1NlbGVjdGlvbiwga2V5bWFwLCBFZGl0b3JWaWV3IH0gZnJvbSBcIkBjb2RlbWlycm9yL3ZpZXdcIjtcbmltcG9ydCB7IHRhZ3MgfSBmcm9tIFwiQGxlemVyL2hpZ2hsaWdodFwiO1xuaW1wb3J0IHsgaHVlcyB9IGZyb20gXCJAc2FuaXR5L2NvbG9yXCI7XG5pbXBvcnQgeyBzdHlsZWQsIGNzcyB9IGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuaW1wb3J0IHsgdmlzaW9uTG9jYWxlTmFtZXNwYWNlIH0gZnJvbSBcIi4vaW5kZXgubWpzXCI7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSBcImxvZGFzaC9kZWJvdW5jZS5qc1wiO1xuaW1wb3J0IEpTT041IGZyb20gXCJqc29uNVwiO1xuaW1wb3J0IGlzRXF1YWwgZnJvbSBcImxvZGFzaC9pc0VxdWFsLmpzXCI7XG5pbXBvcnQgeyB1dWlkIH0gZnJvbSBcIkBzYW5pdHkvdXVpZFwiO1xuaW1wb3J0IHsgc3RhcnRXaXRoLCBtYXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmltcG9ydCB7IGpzb24yY3N2IH0gZnJvbSBcImpzb24tMi1jc3ZcIjtcbmltcG9ydCB7IEpzb25JbnNwZWN0b3IgfSBmcm9tIFwiQHJleHhhcnMvcmVhY3QtanNvbi1pbnNwZWN0b3JcIjtcbmltcG9ydCBMUlUgZnJvbSBcInF1aWNrLWxydVwiO1xuaW1wb3J0IHsgSW50ZW50TGluayB9IGZyb20gXCJzYW5pdHkvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VPYnNlcnZhYmxlIH0gZnJvbSBcInJlYWN0LXJ4XCI7XG5pbXBvcnQgeyBvZiwgbWFwIGFzIG1hcCQxLCBjYXRjaEVycm9yIH0gZnJvbSBcInJ4anNcIjtcbmNvbnN0IEFQSV9WRVJTSU9OUyA9IFtcInYxXCIsIFwidlhcIiwgXCJ2MjAyMS0wMy0yNVwiLCBcInYyMDIxLTEwLTIxXCIsIFwidjIwMjItMDMtMDdcIiwgXCJ2MjAyNS0wMi0xOVwiLCBgdiR7KC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXX1gXSwgW0RFRkFVTFRfQVBJX1ZFUlNJT05dID0gQVBJX1ZFUlNJT05TLnNsaWNlKC0xKTtcbmZ1bmN0aW9uIERlbGF5ZWRTcGlubmVyKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDUpLCBbc2hvdywgc2V0U2hvd10gPSB1c2VTdGF0ZSghMSk7XG4gIGxldCB0MCwgdDE7XG4gICRbMF0gIT09IHByb3BzLmRlbGF5ID8gKHQwID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBzZXRTaG93KCEwKSwgcHJvcHMuZGVsYXkgfHwgNTAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgfSwgdDEgPSBbcHJvcHMuZGVsYXldLCAkWzBdID0gcHJvcHMuZGVsYXksICRbMV0gPSB0MCwgJFsyXSA9IHQxKSA6ICh0MCA9ICRbMV0sIHQxID0gJFsyXSksIHVzZUVmZmVjdCh0MCwgdDEpO1xuICBsZXQgdDI7XG4gIHJldHVybiAkWzNdICE9PSBzaG93ID8gKHQyID0gc2hvdyA/IC8qIEBfX1BVUkVfXyAqLyBqc3goU3Bpbm5lciwgeyBtdXRlZDogITAsIHNpemU6IDQgfSkgOiBudWxsLCAkWzNdID0gc2hvdywgJFs0XSA9IHQyKSA6IHQyID0gJFs0XSwgdDI7XG59XG5jb25zdCBjb2RlbWlycm9yRXh0ZW5zaW9ucyA9IFtbamF2YXNjcmlwdExhbmd1YWdlXSwgbGluZU51bWJlcnMoKSwgaGlnaGxpZ2h0QWN0aXZlTGluZSgpLCBoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyKCksIGhpZ2hsaWdodFNlbGVjdGlvbk1hdGNoZXMoKSwgaGlnaGxpZ2h0U3BlY2lhbENoYXJzKCksIGluZGVudE9uSW5wdXQoKSwgYnJhY2tldE1hdGNoaW5nKCksIGNsb3NlQnJhY2tldHMoKSwgaGlzdG9yeSgpLCBkcmF3U2VsZWN0aW9uKCksIHN5bnRheEhpZ2hsaWdodGluZyhkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIHtcbiAgZmFsbGJhY2s6ICEwXG59KSwga2V5bWFwLm9mKFtcbiAgLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQga2V5bWFwIGZvciBNb2QtRW50ZXIgdG8gbm90IGluc2VydCBhIG5ldyBsaW5lLCB3ZSBoYXZlIGEgY3VzdG9tIGV2ZW50IGhhbmRsZXIgZm9yIGV4ZWN1dGluZyBxdWVyaWVzXG4gIHtcbiAgICBrZXk6IFwiTW9kLUVudGVyXCIsXG4gICAgcnVuOiAoKSA9PiAhMFxuICB9LFxuICAvLyBBZGQgdGhlIGRlZmF1bHQga2V5bWFwIGFuZCBoaXN0b3J5IGtleW1hcFxuICBkZWZhdWx0S2V5bWFwLFxuICBoaXN0b3J5S2V5bWFwXG5dLmZsYXQoKS5maWx0ZXIoQm9vbGVhbikpXTtcbmZ1bmN0aW9uIHVzZUNvZGVtaXJyb3JUaGVtZSh0aGVtZSkge1xuICBjb25zdCAkID0gYyg3KTtcbiAgbGV0IHQwLCB0MTtcbiAgJFswXSAhPT0gdGhlbWUgPyAodDEgPSBjcmVhdGVUaGVtZSh0aGVtZSksICRbMF0gPSB0aGVtZSwgJFsxXSA9IHQxKSA6IHQxID0gJFsxXSwgdDAgPSB0MTtcbiAgY29uc3QgY21UaGVtZSA9IHQwO1xuICBsZXQgdDIsIHQzO1xuICAkWzJdICE9PSB0aGVtZSA/ICh0MyA9IHN5bnRheEhpZ2hsaWdodGluZyhjcmVhdGVIaWdobGlnaHQodGhlbWUpKSwgJFsyXSA9IHRoZW1lLCAkWzNdID0gdDMpIDogdDMgPSAkWzNdLCB0MiA9IHQzO1xuICBjb25zdCBjbUhpZ2hsaWdodCA9IHQyO1xuICBsZXQgdDQ7XG4gIHJldHVybiAkWzRdICE9PSBjbUhpZ2hsaWdodCB8fCAkWzVdICE9PSBjbVRoZW1lID8gKHQ0ID0gW2NtVGhlbWUsIGNtSGlnaGxpZ2h0XSwgJFs0XSA9IGNtSGlnaGxpZ2h0LCAkWzVdID0gY21UaGVtZSwgJFs2XSA9IHQ0KSA6IHQ0ID0gJFs2XSwgdDQ7XG59XG5mdW5jdGlvbiBjcmVhdGVUaGVtZSh0aGVtZSkge1xuICBjb25zdCB7XG4gICAgY29sb3IsXG4gICAgZm9udHNcbiAgfSA9IHRoZW1lLnNhbml0eSwgY2FyZCA9IGNvbG9yLmNhcmQuZW5hYmxlZCwgY3Vyc29yID0gaHVlcy5ibHVlW2NvbG9yLmRhcmsgPyA0MDAgOiA1MDBdLmhleCwgc2VsZWN0aW9uID0gaHVlcy5ncmF5W3RoZW1lLnNhbml0eS5jb2xvci5kYXJrID8gOTAwIDogMTAwXS5oZXg7XG4gIHJldHVybiBFZGl0b3JWaWV3LnRoZW1lKHtcbiAgICBcIiZcIjoge1xuICAgICAgY29sb3I6IGNhcmQuZmcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNhcmQuYmdcbiAgICB9LFxuICAgIFwiLmNtLWNvbnRlbnRcIjoge1xuICAgICAgY2FyZXRDb2xvcjogY3Vyc29yXG4gICAgfSxcbiAgICBcIi5jbS1lZGl0b3JcIjoge1xuICAgICAgZm9udEZhbWlseTogZm9udHMuY29kZS5mYW1pbHksXG4gICAgICBmb250U2l6ZTogcmVtKGZvbnRzLmNvZGUuc2l6ZXNbMV0uZm9udFNpemUpLFxuICAgICAgbGluZUhlaWdodDogXCJpbmhlcml0XCJcbiAgICB9LFxuICAgIFwiLmNtLWN1cnNvciwgLmNtLWRyb3BDdXJzb3JcIjoge1xuICAgICAgYm9yZGVyTGVmdENvbG9yOiBjdXJzb3JcbiAgICB9LFxuICAgIFwiJi5jbS1mb2N1c2VkIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kLCAuY20tc2VsZWN0aW9uQmFja2dyb3VuZCwgLmNtLWNvbnRlbnQgOjpzZWxlY3Rpb25cIjoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBzZWxlY3Rpb25cbiAgICB9LFxuICAgIFwiLmNtLXBhbmVsc1wiOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNhcmQuYmcsXG4gICAgICBjb2xvcjogY2FyZC5mZ1xuICAgIH0sXG4gICAgXCIuY20tcGFuZWxzLmNtLXBhbmVscy10b3BcIjoge1xuICAgICAgYm9yZGVyQm90dG9tOiBgMnB4IHNvbGlkICR7Y2FyZC5ib3JkZXJ9YFxuICAgIH0sXG4gICAgXCIuY20tcGFuZWxzLmNtLXBhbmVscy1ib3R0b21cIjoge1xuICAgICAgYm9yZGVyVG9wOiBgMnB4IHNvbGlkICR7Y2FyZC5ib3JkZXJ9YFxuICAgIH1cbiAgfSwge1xuICAgIGRhcms6IGNvbG9yLmRhcmtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVIaWdobGlnaHQodGhlbWUpIHtcbiAgY29uc3QgYzIgPSB0aGVtZS5zYW5pdHkuY29sb3IuYmFzZSwgcyA9IHRoZW1lLnNhbml0eS5jb2xvci5zeW50YXg7XG4gIHJldHVybiBIaWdobGlnaHRTdHlsZS5kZWZpbmUoW3tcbiAgICB0YWc6IHRhZ3Mua2V5d29yZCxcbiAgICBjb2xvcjogcy5rZXl3b3JkXG4gIH0sIHtcbiAgICB0YWc6IFt0YWdzLnByb3BlcnR5TmFtZSwgdGFncy5uYW1lLCB0YWdzLmRlbGV0ZWQsIHRhZ3MuY2hhcmFjdGVyLCB0YWdzLm1hY3JvTmFtZV0sXG4gICAgY29sb3I6IHMucHJvcGVydHlcbiAgfSwge1xuICAgIHRhZzogW3RhZ3MuZnVuY3Rpb24odGFncy52YXJpYWJsZU5hbWUpLCB0YWdzLmxhYmVsTmFtZV0sXG4gICAgY29sb3I6IHMuZnVuY3Rpb25cbiAgfSwge1xuICAgIHRhZzogW3RhZ3MuY29sb3IsIHRhZ3MuY29uc3RhbnQodGFncy5uYW1lKSwgdGFncy5zdGFuZGFyZCh0YWdzLm5hbWUpXSxcbiAgICBjb2xvcjogcy52YXJpYWJsZVxuICB9LCB7XG4gICAgdGFnOiBbdGFncy5kZWZpbml0aW9uKHRhZ3MubmFtZSksIHRhZ3Muc2VwYXJhdG9yXSxcbiAgICBjb2xvcjogcy5jb25zdGFudFxuICB9LCB7XG4gICAgdGFnOiBbdGFncy50eXBlTmFtZSwgdGFncy5jbGFzc05hbWUsIHRhZ3MubnVtYmVyLCB0YWdzLmNoYW5nZWQsIHRhZ3MuYW5ub3RhdGlvbiwgdGFncy5tb2RpZmllciwgdGFncy5zZWxmLCB0YWdzLm5hbWVzcGFjZV0sXG4gICAgY29sb3I6IHMubnVtYmVyXG4gIH0sIHtcbiAgICB0YWc6IFt0YWdzLm9wZXJhdG9yLCB0YWdzLm9wZXJhdG9yS2V5d29yZCwgdGFncy51cmwsIHRhZ3MuZXNjYXBlLCB0YWdzLnJlZ2V4cCwgdGFncy5saW5rLCB0YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpXSxcbiAgICBjb2xvcjogcy5vcGVyYXRvclxuICB9LCB7XG4gICAgdGFnOiBbdGFncy5tZXRhLCB0YWdzLmNvbW1lbnRdLFxuICAgIGNvbG9yOiBzLmNvbW1lbnRcbiAgfSwge1xuICAgIHRhZzogdGFncy5zdHJvbmcsXG4gICAgZm9udFdlaWdodDogXCJib2xkXCJcbiAgfSwge1xuICAgIHRhZzogdGFncy5lbXBoYXNpcyxcbiAgICBmb250U3R5bGU6IFwiaXRhbGljXCJcbiAgfSwge1xuICAgIHRhZzogdGFncy5zdHJpa2V0aHJvdWdoLFxuICAgIHRleHREZWNvcmF0aW9uOiBcImxpbmUtdGhyb3VnaFwiXG4gIH0sIHtcbiAgICB0YWc6IHRhZ3MuaGVhZGluZyxcbiAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICBjb2xvcjogcy5wcm9wZXJ0eVxuICB9LCB7XG4gICAgdGFnOiBbdGFncy5hdG9tLCB0YWdzLmJvb2wsIHRhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSldLFxuICAgIGNvbG9yOiBzLmJvb2xlYW5cbiAgfSwge1xuICAgIHRhZzogW3RhZ3MucHJvY2Vzc2luZ0luc3RydWN0aW9uLCB0YWdzLnN0cmluZywgdGFncy5pbnNlcnRlZF0sXG4gICAgY29sb3I6IHMuc3RyaW5nXG4gIH0sIHtcbiAgICB0YWc6IHRhZ3MuaW52YWxpZCxcbiAgICBjb2xvcjogYzIuZmdcbiAgfV0pO1xufVxuY29uc3QgRWRpdG9yUm9vdCA9IHN0eWxlZC5kaXZgXG4gIHdpZHRoOiAxMDAlO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG92ZXJmbG93OiBjbGlwO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG5cbiAgJiAuY20tdGhlbWUge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgJiAuY20tZWRpdG9yIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG5cbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgbGluZS1oZWlnaHQ6IDIxcHg7XG4gIH1cblxuICAmIC5jbS1saW5lIHtcbiAgICBwYWRkaW5nLWxlZnQ6ICR7KHtcbiAgdGhlbWVcbn0pID0+IHJlbSh0aGVtZS5zYW5pdHkuc3BhY2VbM10pfTtcbiAgfVxuXG4gICYgLmNtLWNvbnRlbnQge1xuICAgIGJvcmRlci1yaWdodC13aWR0aDogJHsoe1xuICB0aGVtZVxufSkgPT4gcmVtKHRoZW1lLnNhbml0eS5zcGFjZVs0XSl9ICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZy10b3A6ICR7KHtcbiAgdGhlbWVcbn0pID0+IHJlbSh0aGVtZS5zYW5pdHkuc3BhY2VbNV0pfTtcbiAgfVxuYCwgVmlzaW9uQ29kZU1pcnJvciA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3QgJCA9IGMoNyksIFtpbml0aWFsVmFsdWVdID0gdXNlU3RhdGUocHJvcHMuaW5pdGlhbFZhbHVlKSwgc2FuaXR5VGhlbWUgPSB1c2VUaGVtZSgpLCB0aGVtZSA9IHVzZUNvZGVtaXJyb3JUaGVtZShzYW5pdHlUaGVtZSksIGNvZGVNaXJyb3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGxldCB0MDtcbiAgJFswXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDAgPSAobmV3Q29udGVudCkgPT4ge1xuICAgIGNvbnN0IGVkaXRvclZpZXcgPSBjb2RlTWlycm9yUmVmLmN1cnJlbnQ/LnZpZXc7XG4gICAgaWYgKCFlZGl0b3JWaWV3KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnREb2MgPSBlZGl0b3JWaWV3LnN0YXRlLmRvYy50b1N0cmluZygpO1xuICAgIG5ld0NvbnRlbnQgIT09IGN1cnJlbnREb2MgJiYgZWRpdG9yVmlldy5kaXNwYXRjaCh7XG4gICAgICBjaGFuZ2VzOiB7XG4gICAgICAgIGZyb206IDAsXG4gICAgICAgIHRvOiBjdXJyZW50RG9jLmxlbmd0aCxcbiAgICAgICAgaW5zZXJ0OiBuZXdDb250ZW50XG4gICAgICB9LFxuICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5ld0NvbnRlbnQubGVuZ3RoKVxuICAgIH0pO1xuICB9LCAkWzBdID0gdDApIDogdDAgPSAkWzBdO1xuICBjb25zdCByZXNldEVkaXRvckNvbnRlbnQgPSB0MDtcbiAgbGV0IHQxLCB0MjtcbiAgJFsxXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDEgPSAoKSA9PiAoe1xuICAgIHJlc2V0RWRpdG9yQ29udGVudFxuICB9KSwgdDIgPSBbcmVzZXRFZGl0b3JDb250ZW50XSwgJFsxXSA9IHQxLCAkWzJdID0gdDIpIDogKHQxID0gJFsxXSwgdDIgPSAkWzJdKSwgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIHQxLCB0Mik7XG4gIGxldCB0MztcbiAgcmV0dXJuICRbM10gIT09IGluaXRpYWxWYWx1ZSB8fCAkWzRdICE9PSBwcm9wcy5vbkNoYW5nZSB8fCAkWzVdICE9PSB0aGVtZSA/ICh0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRWRpdG9yUm9vdCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb2RlTWlycm9yLCB7IHJlZjogY29kZU1pcnJvclJlZiwgYmFzaWNTZXR1cDogITEsIHRoZW1lLCBleHRlbnNpb25zOiBjb2RlbWlycm9yRXh0ZW5zaW9ucywgdmFsdWU6IGluaXRpYWxWYWx1ZSwgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlIH0pIH0pLCAkWzNdID0gaW5pdGlhbFZhbHVlLCAkWzRdID0gcHJvcHMub25DaGFuZ2UsICRbNV0gPSB0aGVtZSwgJFs2XSA9IHQzKSA6IHQzID0gJFs2XSwgdDM7XG59KTtcblZpc2lvbkNvZGVNaXJyb3IuZGlzcGxheU5hbWUgPSBcIlZpc2lvbkNvZGVNaXJyb3JcIjtcbmNvbnN0IFNVUFBPUlRFRF9QRVJTUEVDVElWRVMgPSBbXCJwaW5uZWRSZWxlYXNlXCIsIFwicmF3XCIsIFwicHVibGlzaGVkXCIsIFwiZHJhZnRzXCJdLCBWSVJUVUFMX1BFUlNQRUNUSVZFUyA9IFtcInBpbm5lZFJlbGVhc2VcIl07XG5mdW5jdGlvbiBpc1N1cHBvcnRlZFBlcnNwZWN0aXZlKHApIHtcbiAgcmV0dXJuIFNVUFBPUlRFRF9QRVJTUEVDVElWRVMuaW5jbHVkZXMocCk7XG59XG5mdW5jdGlvbiBpc1ZpcnR1YWxQZXJzcGVjdGl2ZShtYXliZVZpcnR1YWxQZXJzcGVjdGl2ZSkge1xuICByZXR1cm4gdHlwZW9mIG1heWJlVmlydHVhbFBlcnNwZWN0aXZlID09IFwic3RyaW5nXCIgJiYgVklSVFVBTF9QRVJTUEVDVElWRVMuaW5jbHVkZXMobWF5YmVWaXJ0dWFsUGVyc3BlY3RpdmUpO1xufVxuZnVuY3Rpb24gaGFzUGlubmVkUGVyc3BlY3RpdmUoe1xuICBzZWxlY3RlZFBlcnNwZWN0aXZlTmFtZVxufSkge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdGVkUGVyc3BlY3RpdmVOYW1lIDwgXCJ1XCI7XG59XG5mdW5jdGlvbiBnZXRBY3RpdmVQZXJzcGVjdGl2ZSh7XG4gIHZpc2lvblBlcnNwZWN0aXZlLFxuICBwZXJzcGVjdGl2ZVN0YWNrXG59KSB7XG4gIHJldHVybiB2aXNpb25QZXJzcGVjdGl2ZSAhPT0gXCJwaW5uZWRSZWxlYXNlXCIgPyB2aXNpb25QZXJzcGVjdGl2ZSA6IHBlcnNwZWN0aXZlU3RhY2s7XG59XG5mdW5jdGlvbiBlbmNvZGVRdWVyeVN0cmluZyhxdWVyeSwgcGFyYW1zID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIHNlYXJjaFBhcmFtcy5zZXQoXCJxdWVyeVwiLCBxdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtcykpXG4gICAgc2VhcmNoUGFyYW1zLnNldChgJCR7a2V5fWAsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpKVxuICAgIHZhbHVlICYmIHNlYXJjaFBhcmFtcy5zZXQoa2V5LCBgJHt2YWx1ZX1gKTtcbiAgcmV0dXJuIGA/JHtzZWFyY2hQYXJhbXN9YDtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqID09IFwib2JqZWN0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG59XG5jb25zdCBoYXNMb2NhbFN0b3JhZ2UgPSBzdXBwb3J0c0xvY2FsU3RvcmFnZSgpLCBrZXlQcmVmaXggPSBcInNhbml0eVZpc2lvbjpcIjtcbmZ1bmN0aW9uIGNsZWFyTG9jYWxTdG9yYWdlKCkge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAga2V5Py5zdGFydHNXaXRoKGtleVByZWZpeCkgJiYgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UobmFtZXNwYWNlKSB7XG4gIGNvbnN0IHN0b3JhZ2VLZXkgPSBgJHtrZXlQcmVmaXh9JHtuYW1lc3BhY2V9YDtcbiAgbGV0IGxvYWRlZFN0YXRlID0gbnVsbDtcbiAgcmV0dXJuIHtcbiAgICBnZXQsXG4gICAgc2V0LFxuICAgIG1lcmdlXG4gIH07XG4gIGZ1bmN0aW9uIGdldChrZXksIGRlZmF1bHRWYWwpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGVuc3VyZVN0YXRlKCk7XG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZVtrZXldID4gXCJ1XCIgPyBkZWZhdWx0VmFsIDogc3RhdGVba2V5XTtcbiAgfVxuICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IHN0YXRlID0gZW5zdXJlU3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGVba2V5XSA9IHZhbHVlLCBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShsb2FkZWRTdGF0ZSkpLCB2YWx1ZTtcbiAgfVxuICBmdW5jdGlvbiBtZXJnZShwcm9wcykge1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgLi4uZW5zdXJlU3RhdGUoKSxcbiAgICAgIC4uLnByb3BzXG4gICAgfTtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKSwgc3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gZW5zdXJlU3RhdGUoKSB7XG4gICAgcmV0dXJuIGxvYWRlZFN0YXRlID09PSBudWxsICYmIChsb2FkZWRTdGF0ZSA9IGxvYWRTdGF0ZSgpKSwgbG9hZGVkU3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gbG9hZFN0YXRlKCkge1xuICAgIGlmICghaGFzTG9jYWxTdG9yYWdlKVxuICAgICAgcmV0dXJuIHt9O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8IFwie31cIik7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdChzdG9yZWQpID8gc3RvcmVkIDoge307XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdXBwb3J0c0xvY2FsU3RvcmFnZSgpIHtcbiAgY29uc3QgbW9kID0gXCJsc0NoZWNrXCI7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG1vZCwgbW9kKSwgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obW9kKSwgITA7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VBcGlRdWVyeVN0cmluZyhxcykge1xuICBjb25zdCBwYXJhbXMgPSB7fSwgb3B0aW9ucyA9IHt9O1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBxcy5lbnRyaWVzKCkpIHtcbiAgICBpZiAoa2V5WzBdID09PSBcIiRcIikge1xuICAgICAgcGFyYW1zW2tleS5zbGljZSgxKV0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcInBlcnNwZWN0aXZlXCIpIHtcbiAgICAgIG9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgcXVlcnk6IHFzLmdldChcInF1ZXJ5XCIpIHx8IFwiXCIsXG4gICAgcGFyYW1zLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cbmZ1bmN0aW9uIHByZWZpeEFwaVZlcnNpb24odmVyc2lvbikge1xuICByZXR1cm4gdmVyc2lvblswXSAhPT0gXCJ2XCIgJiYgdmVyc2lvbiAhPT0gXCJvdGhlclwiID8gYHYke3ZlcnNpb259YCA6IHZlcnNpb247XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFwaVZlcnNpb24oYXBpVmVyc2lvbikge1xuICBjb25zdCBwYXJzZWFibGVBcGlWZXJzaW9uID0gYXBpVmVyc2lvbi5yZXBsYWNlKC9edi8sIFwiXCIpLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gcGFyc2VhYmxlQXBpVmVyc2lvbi5sZW5ndGggPiAwICYmIChwYXJzZWFibGVBcGlWZXJzaW9uID09PSBcIlhcIiB8fCBwYXJzZWFibGVBcGlWZXJzaW9uID09PSBcIjFcIiB8fCAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChwYXJzZWFibGVBcGlWZXJzaW9uKSAmJiAhaXNOYU4oRGF0ZS5wYXJzZShwYXJzZWFibGVBcGlWZXJzaW9uKSkpO1xufVxuZnVuY3Rpb24gdHJ5UGFyc2VQYXJhbXModmFsLCB0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gdmFsID8gSlNPTjUucGFyc2UodmFsKSA6IHt9O1xuICAgIHJldHVybiB0eXBlb2YgcGFyc2VkID09IFwib2JqZWN0XCIgJiYgcGFyc2VkICYmICFBcnJheS5pc0FycmF5KHBhcnNlZCkgPyBwYXJzZWQgOiB7fTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGVyci5tZXNzYWdlID0gYCR7dChcInBhcmFtcy5lcnJvci5wYXJhbXMtaW52YWxpZC1qc29uXCIpfTpcblxuJHtlcnIubWVzc2FnZS5yZXBsYWNlKFwiSlNPTjU6XCIsIFwiXCIpfWAsIGVycjtcbiAgfVxufVxuY29uc3QgUm9vdCA9IHN0eWxlZChGbGV4KWBcbiAgLnNpZGViYXJQYW5lcyAuUGFuZSB7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gIH1cblxuICAmIC5SZXNpemVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jYXJkLWJvcmRlci1jb2xvcik7XG4gICAgb3BhY2l0eTogMTtcbiAgICB6LWluZGV4OiAxO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcbiAgICBib3JkZXI6IHNvbGlkIHRyYW5zcGFyZW50O1xuICB9XG5cbiAgJiAuUmVzaXplcjpob3ZlciB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jYXJkLXNoYWRvdy1hbWJpZW50LWNvbG9yKTtcbiAgfVxuXG4gICYgLlJlc2l6ZXIuaG9yaXpvbnRhbCB7XG4gICAgaGVpZ2h0OiAxMXB4O1xuICAgIG1hcmdpbjogLTVweCAwO1xuICAgIGJvcmRlci13aWR0aDogNXB4IDA7XG4gICAgY3Vyc29yOiByb3ctcmVzaXplO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHotaW5kZXg6IDQ7XG4gIH1cblxuICAmIC5SZXNpemVyLnZlcnRpY2FsIHtcbiAgICB3aWR0aDogMTFweDtcbiAgICBtYXJnaW46IDAgLTVweDtcbiAgICBib3JkZXItd2lkdGg6IDAgNXB4O1xuICAgIGN1cnNvcjogY29sLXJlc2l6ZTtcbiAgICB6LWluZGV4OiAyOyAvKiBUbyBwcmV2ZW50IHRoZSByZXNpemVyIGZyb20gYmVpbmcgaGlkZGVuIGJlaGluZCBDb2RlTWlycm9yIHNjcm9sbCBhcmVhICovXG4gIH1cblxuICAuUmVzaXplci5kaXNhYmxlZCB7XG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgfVxuXG4gIC5SZXNpemVyLmRpc2FibGVkOmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICB9XG5gO1xuUm9vdC5kaXNwbGF5TmFtZSA9IFwiUm9vdFwiO1xuY29uc3QgSGVhZGVyID0gc3R5bGVkKENhcmQpYFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tY2FyZC1ib3JkZXItY29sb3IpO1xuYCwgU3R5bGVkTGFiZWwgPSBzdHlsZWQoTGFiZWwpYFxuICBmbGV4OiAxO1xuYCwgU3BsaXRwYW5lQ29udGFpbmVyID0gc3R5bGVkKEJveClgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbmAsIFF1ZXJ5Q29weUxpbmsgPSBzdHlsZWQuYWBcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG5gLCBJbnB1dEJhY2tncm91bmRDb250YWluZXIgPSBzdHlsZWQoQm94KWBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDFyZW07XG4gIGxlZnQ6IDA7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMDtcbiAgei1pbmRleDogMTA7XG4gIHJpZ2h0OiAwO1xuXG4gICR7U3R5bGVkTGFiZWx9IHtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgfVxuYCwgSW5wdXRCYWNrZ3JvdW5kQ29udGFpbmVyTGVmdCA9IHN0eWxlZChJbnB1dEJhY2tncm91bmRDb250YWluZXIpYFxuICAvLyBUaGlzIGlzIHNvIGl0cyBhbGlnbmVkIHdpdGggdGhlIGd1dHRlcnMgb2YgQ29kZU1pcnJvclxuICBsZWZ0OiAzM3B4O1xuYCwgSW5wdXRDb250YWluZXIgPSBzdHlsZWQoQ2FyZClgXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbmAsIFJlc3VsdE91dGVyQ29udGFpbmVyID0gc3R5bGVkKEZsZXgpYFxuICBoZWlnaHQ6IDEwMCU7XG5gLCBSZXN1bHRJbm5lckNvbnRhaW5lciA9IHN0eWxlZChCb3gpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5gLCBSZXN1bHRDb250YWluZXIgPSBzdHlsZWQoQ2FyZClgXG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuXG4gICR7KHtcbiAgJGlzSW52YWxpZFxufSkgPT4gJGlzSW52YWxpZCAmJiBjc3NgXG4gICAgICAmOmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZy1jb2xvcik7XG4gICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgIH1cbiAgICBgfVxuYCwgUmVzdWx0ID0gc3R5bGVkKEJveClgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgei1pbmRleDogMjA7XG5gLCBSZXN1bHRGb290ZXIgPSBzdHlsZWQoRmxleClgXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1jYXJkLWJvcmRlci1jb2xvcik7XG5gLCBUaW1pbmdzQ2FyZCA9IHN0eWxlZChDYXJkKWBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuYDtcbnN0eWxlZChCb3gpYFxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuYDtcbmNvbnN0IFRpbWluZ3NUZXh0Q29udGFpbmVyID0gc3R5bGVkKEZsZXgpYFxuICBoZWlnaHQ6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6ICR7KHtcbiAgdGhlbWVcbn0pID0+IHJlbSh0aGVtZS5zYW5pdHkuc3BhY2VbM10gKiAyICsgdGhlbWUuc2FuaXR5LmZvbnRzLnRleHQuc2l6ZXNbMl0ubGluZUhlaWdodCAtIHRoZW1lLnNhbml0eS5mb250cy50ZXh0LnNpemVzWzJdLmFzY2VuZGVySGVpZ2h0IC0gdGhlbWUuc2FuaXR5LmZvbnRzLnRleHQuc2l6ZXNbMl0uZGVzY2VuZGVySGVpZ2h0KX07XG5gLCBEb3dubG9hZHNDYXJkID0gc3R5bGVkKENhcmQpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5gLCBTYXZlUmVzdWx0TGFiZWwgPSBzdHlsZWQoVGV4dClgXG4gIHRyYW5zZm9ybTogaW5pdGlhbDtcbiAgJjpiZWZvcmUsXG4gICY6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IG5vbmU7XG4gIH1cbiAgPiBzcGFuIHtcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgZ2FwOiAkeyh7XG4gIHRoZW1lXG59KSA9PiByZW0odGhlbWUuc2FuaXR5LnNwYWNlWzNdKX07XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxuYCwgQ29udHJvbHNDb250YWluZXIgPSBzdHlsZWQoQm94KWBcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWNhcmQtYm9yZGVyLWNvbG9yKTtcbmAsIGRlZmF1bHRWYWx1ZSQxID0gYHtcbiAgXG59YDtcbmZ1bmN0aW9uIFBhcmFtc0VkaXRvcihwcm9wcykge1xuICBjb25zdCAkID0gYygzMyksIHtcbiAgICBvbkNoYW5nZSxcbiAgICBwYXJhbXNFcnJvcixcbiAgICBoYXNWYWxpZFBhcmFtcyxcbiAgICBlZGl0b3JSZWZcbiAgfSA9IHByb3BzLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKTtcbiAgbGV0IHQwO1xuICAkWzBdICE9PSBwcm9wcy52YWx1ZSB8fCAkWzFdICE9PSB0ID8gKHQwID0gcGFyc2VQYXJhbXMocHJvcHMudmFsdWUsIHQpLCAkWzBdID0gcHJvcHMudmFsdWUsICRbMV0gPSB0LCAkWzJdID0gdDApIDogdDAgPSAkWzJdO1xuICBjb25zdCB7XG4gICAgcmF3OiB2YWx1ZSxcbiAgICBlcnJvcixcbiAgICBwYXJzZWQsXG4gICAgdmFsaWRcbiAgfSA9IHQwLCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGUodmFsaWQpLCBbaW5pdCwgc2V0SW5pdF0gPSB1c2VTdGF0ZSghMSk7XG4gIGxldCB0MSwgdDI7XG4gICRbM10gIT09IGVycm9yIHx8ICRbNF0gIT09IGluaXQgfHwgJFs1XSAhPT0gaXNWYWxpZCB8fCAkWzZdICE9PSBvbkNoYW5nZSB8fCAkWzddICE9PSBwYXJzZWQgfHwgJFs4XSAhPT0gdmFsdWUgPyAodDEgPSAoKSA9PiB7XG4gICAgaW5pdCB8fCAob25DaGFuZ2Uoe1xuICAgICAgcGFyc2VkLFxuICAgICAgcmF3OiB2YWx1ZSxcbiAgICAgIHZhbGlkOiBpc1ZhbGlkLFxuICAgICAgZXJyb3JcbiAgICB9KSwgc2V0SW5pdCghMCkpO1xuICB9LCB0MiA9IFtlcnJvciwgaW5pdCwgaXNWYWxpZCwgb25DaGFuZ2UsIHBhcnNlZCwgdmFsdWVdLCAkWzNdID0gZXJyb3IsICRbNF0gPSBpbml0LCAkWzVdID0gaXNWYWxpZCwgJFs2XSA9IG9uQ2hhbmdlLCAkWzddID0gcGFyc2VkLCAkWzhdID0gdmFsdWUsICRbOV0gPSB0MSwgJFsxMF0gPSB0MikgOiAodDEgPSAkWzldLCB0MiA9ICRbMTBdKSwgdXNlRWZmZWN0KHQxLCB0Mik7XG4gIGxldCB0MztcbiAgJFsxMV0gIT09IG9uQ2hhbmdlIHx8ICRbMTJdICE9PSB0ID8gKHQzID0gKG5ld1ZhbHVlKSA9PiB7XG4gICAgY29uc3QgZXZlbnQgPSBwYXJzZVBhcmFtcyhuZXdWYWx1ZSwgdCk7XG4gICAgc2V0VmFsaWQoZXZlbnQudmFsaWQpLCBvbkNoYW5nZShldmVudCk7XG4gIH0sICRbMTFdID0gb25DaGFuZ2UsICRbMTJdID0gdCwgJFsxM10gPSB0MykgOiB0MyA9ICRbMTNdO1xuICBjb25zdCBoYW5kbGVDaGFuZ2VSYXcgPSB0MztcbiAgbGV0IHQ0LCB0NTtcbiAgJFsxNF0gIT09IGhhbmRsZUNoYW5nZVJhdyA/ICh0NSA9IGRlYm91bmNlKGhhbmRsZUNoYW5nZVJhdywgMzMzKSwgJFsxNF0gPSBoYW5kbGVDaGFuZ2VSYXcsICRbMTVdID0gdDUpIDogdDUgPSAkWzE1XSwgdDQgPSB0NTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdDQsIHQ2ID0gaGFzVmFsaWRQYXJhbXMgPyBcImRlZmF1bHRcIiA6IFwiY3JpdGljYWxcIjtcbiAgbGV0IHQ3O1xuICAkWzE2XSAhPT0gdCA/ICh0NyA9IHQoXCJwYXJhbXMubGFiZWxcIiksICRbMTZdID0gdCwgJFsxN10gPSB0NykgOiB0NyA9ICRbMTddO1xuICBsZXQgdDg7XG4gICRbMThdICE9PSB0NyA/ICh0OCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goU3R5bGVkTGFiZWwsIHsgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogdDcgfSksICRbMThdID0gdDcsICRbMTldID0gdDgpIDogdDggPSAkWzE5XTtcbiAgbGV0IHQ5O1xuICAkWzIwXSAhPT0gcGFyYW1zRXJyb3IgPyAodDkgPSBwYXJhbXNFcnJvciAmJiAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgYW5pbWF0ZTogITAsIHBsYWNlbWVudDogXCJ0b3BcIiwgcG9ydGFsOiAhMCwgY29udGVudDogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IDEsIGNoaWxkcmVuOiBwYXJhbXNFcnJvciB9KSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IHBhZGRpbmc6IDEsIG1hcmdpblg6IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JPdXRsaW5lSWNvbiwge30pIH0pIH0pIH0pLCAkWzIwXSA9IHBhcmFtc0Vycm9yLCAkWzIxXSA9IHQ5KSA6IHQ5ID0gJFsyMV07XG4gIGxldCB0MTA7XG4gICRbMjJdICE9PSB0OCB8fCAkWzIzXSAhPT0gdDkgPyAodDEwID0gLyogQF9fUFVSRV9fICovIGpzeChJbnB1dEJhY2tncm91bmRDb250YWluZXJMZWZ0LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhGbGV4LCB7IGNoaWxkcmVuOiBbXG4gICAgdDgsXG4gICAgdDlcbiAgXSB9KSB9KSwgJFsyMl0gPSB0OCwgJFsyM10gPSB0OSwgJFsyNF0gPSB0MTApIDogdDEwID0gJFsyNF07XG4gIGNvbnN0IHQxMSA9IHByb3BzLnZhbHVlIHx8IGRlZmF1bHRWYWx1ZSQxO1xuICBsZXQgdDEyO1xuICAkWzI1XSAhPT0gZWRpdG9yUmVmIHx8ICRbMjZdICE9PSBoYW5kbGVDaGFuZ2UgfHwgJFsyN10gIT09IHQxMSA/ICh0MTIgPSAvKiBAX19QVVJFX18gKi8ganN4KFZpc2lvbkNvZGVNaXJyb3IsIHsgcmVmOiBlZGl0b3JSZWYsIGluaXRpYWxWYWx1ZTogdDExLCBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlIH0pLCAkWzI1XSA9IGVkaXRvclJlZiwgJFsyNl0gPSBoYW5kbGVDaGFuZ2UsICRbMjddID0gdDExLCAkWzI4XSA9IHQxMikgOiB0MTIgPSAkWzI4XTtcbiAgbGV0IHQxMztcbiAgcmV0dXJuICRbMjldICE9PSB0MTAgfHwgJFszMF0gIT09IHQxMiB8fCAkWzMxXSAhPT0gdDYgPyAodDEzID0gLyogQF9fUFVSRV9fICovIGpzeHMoQ2FyZCwgeyBmbGV4OiAxLCB0b25lOiB0NiwgXCJkYXRhLXRlc3RpZFwiOiBcInBhcmFtcy1lZGl0b3JcIiwgY2hpbGRyZW46IFtcbiAgICB0MTAsXG4gICAgdDEyXG4gIF0gfSksICRbMjldID0gdDEwLCAkWzMwXSA9IHQxMiwgJFszMV0gPSB0NiwgJFszMl0gPSB0MTMpIDogdDEzID0gJFszMl0sIHQxMztcbn1cbmZ1bmN0aW9uIHBhcnNlUGFyYW1zKHZhbHVlLCB0KSB7XG4gIGNvbnN0IHBhcnNlZFBhcmFtcyA9IHRyeVBhcnNlUGFyYW1zKHZhbHVlLCB0KSwgcGFyYW1zID0gcGFyc2VkUGFyYW1zIGluc3RhbmNlb2YgRXJyb3IgPyB7fSA6IHBhcnNlZFBhcmFtcywgdmFsaWRhdGlvbkVycm9yID0gcGFyc2VkUGFyYW1zIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzZWRQYXJhbXMubWVzc2FnZSA6IHZvaWQgMDtcbiAgcmV0dXJuIHtcbiAgICBwYXJzZWQ6IHBhcmFtcyxcbiAgICByYXc6IHZhbHVlLFxuICAgIHZhbGlkOiAhdmFsaWRhdGlvbkVycm9yLFxuICAgIGVycm9yOiB2YWxpZGF0aW9uRXJyb3JcbiAgfTtcbn1cbmNvbnN0IFNUT1JFRF9RVUVSSUVTX05BTUVTUEFDRSA9IFwic3R1ZGlvLnZpc2lvbi10b29sLnNhdmVkLXF1ZXJpZXNcIiwgZGVmYXVsdFZhbHVlID0ge1xuICBxdWVyaWVzOiBbXVxufSwga2V5VmFsdWVTdG9yZUtleSA9IFNUT1JFRF9RVUVSSUVTX05BTUVTUEFDRTtcbmZ1bmN0aW9uIHVzZVNhdmVkUXVlcmllcygpIHtcbiAgY29uc3Qga2V5VmFsdWVTdG9yZSA9IHVzZUtleVZhbHVlU3RvcmUoKSwgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUpLCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoITEpLCBbZGVsZXRpbmcsIHNldERlbGV0aW5nXSA9IHVzZVN0YXRlKFtdKSwgW3NhdmVRdWVyeUVycm9yLCBzZXRTYXZlUXVlcnlFcnJvcl0gPSB1c2VTdGF0ZSgpLCBbZGVsZXRlUXVlcnlFcnJvciwgc2V0RGVsZXRlUXVlcnlFcnJvcl0gPSB1c2VTdGF0ZSgpLCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCksIHF1ZXJpZXMgPSB1c2VNZW1vKCgpID0+IGtleVZhbHVlU3RvcmUuZ2V0S2V5KGtleVZhbHVlU3RvcmVLZXkpLCBba2V5VmFsdWVTdG9yZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN1YiA9IHF1ZXJpZXMucGlwZShzdGFydFdpdGgoZGVmYXVsdFZhbHVlKSwgbWFwKChkYXRhKSA9PiBkYXRhIHx8IGRlZmF1bHRWYWx1ZSkpLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiBzZXRWYWx1ZSxcbiAgICAgIGVycm9yOiAoZXJyKSA9PiBzZXRFcnJvcihlcnIpXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHN1Yj8udW5zdWJzY3JpYmUoKTtcbiAgfSwgW3F1ZXJpZXMsIGtleVZhbHVlU3RvcmVdKTtcbiAgY29uc3Qgc2F2ZVF1ZXJ5ID0gdXNlQ2FsbGJhY2soKHF1ZXJ5KSA9PiB7XG4gICAgc2V0U2F2aW5nKCEwKSwgc2V0U2F2ZVF1ZXJ5RXJyb3Iodm9pZCAwKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3UXVlcmllcyA9IFt7XG4gICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICBfa2V5OiB1dWlkKClcbiAgICAgIH0sIC4uLnZhbHVlLnF1ZXJpZXNdO1xuICAgICAgc2V0VmFsdWUoe1xuICAgICAgICBxdWVyaWVzOiBuZXdRdWVyaWVzXG4gICAgICB9KSwga2V5VmFsdWVTdG9yZS5zZXRLZXkoa2V5VmFsdWVTdG9yZUtleSwge1xuICAgICAgICBxdWVyaWVzOiBuZXdRdWVyaWVzXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJfMCkge1xuICAgICAgc2V0U2F2ZVF1ZXJ5RXJyb3IoZXJyXzApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZpbmcoITEpO1xuICAgIH1cbiAgfSwgW2tleVZhbHVlU3RvcmUsIHZhbHVlLnF1ZXJpZXNdKSwgdXBkYXRlUXVlcnkgPSB1c2VDYWxsYmFjaygocXVlcnlfMCkgPT4ge1xuICAgIHNldFNhdmluZyghMCksIHNldFNhdmVRdWVyeUVycm9yKHZvaWQgMCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRRdWVyaWVzID0gdmFsdWUucXVlcmllcy5tYXAoKHEpID0+IHEuX2tleSA9PT0gcXVlcnlfMC5fa2V5ID8ge1xuICAgICAgICAuLi5xLFxuICAgICAgICAuLi5xdWVyeV8wXG4gICAgICB9IDogcSk7XG4gICAgICBzZXRWYWx1ZSh7XG4gICAgICAgIHF1ZXJpZXM6IHVwZGF0ZWRRdWVyaWVzXG4gICAgICB9KSwga2V5VmFsdWVTdG9yZS5zZXRLZXkoa2V5VmFsdWVTdG9yZUtleSwge1xuICAgICAgICBxdWVyaWVzOiB1cGRhdGVkUXVlcmllc1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyXzEpIHtcbiAgICAgIHNldFNhdmVRdWVyeUVycm9yKGVycl8xKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2F2aW5nKCExKTtcbiAgICB9XG4gIH0sIFtrZXlWYWx1ZVN0b3JlLCB2YWx1ZS5xdWVyaWVzXSksIGRlbGV0ZVF1ZXJ5ID0gdXNlQ2FsbGJhY2soKGtleSkgPT4ge1xuICAgIHNldERlbGV0aW5nKChwcmV2KSA9PiBbLi4ucHJldiwga2V5XSksIHNldERlbGV0ZVF1ZXJ5RXJyb3Iodm9pZCAwKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsdGVyZWRRdWVyaWVzID0gdmFsdWUucXVlcmllcy5maWx0ZXIoKHFfMCkgPT4gcV8wLl9rZXkgIT09IGtleSk7XG4gICAgICBzZXRWYWx1ZSh7XG4gICAgICAgIHF1ZXJpZXM6IGZpbHRlcmVkUXVlcmllc1xuICAgICAgfSksIGtleVZhbHVlU3RvcmUuc2V0S2V5KGtleVZhbHVlU3RvcmVLZXksIHtcbiAgICAgICAgcXVlcmllczogZmlsdGVyZWRRdWVyaWVzXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJfMikge1xuICAgICAgc2V0RGVsZXRlUXVlcnlFcnJvcihlcnJfMik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldERlbGV0aW5nKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaykgPT4gayAhPT0ga2V5KSk7XG4gICAgfVxuICB9LCBba2V5VmFsdWVTdG9yZSwgdmFsdWUucXVlcmllc10pO1xuICByZXR1cm4ge1xuICAgIHF1ZXJpZXM6IHZhbHVlLnF1ZXJpZXMsXG4gICAgc2F2ZVF1ZXJ5LFxuICAgIHVwZGF0ZVF1ZXJ5LFxuICAgIGRlbGV0ZVF1ZXJ5LFxuICAgIHNhdmluZyxcbiAgICBkZWxldGluZyxcbiAgICBzYXZlUXVlcnlFcnJvcixcbiAgICBkZWxldGVRdWVyeUVycm9yLFxuICAgIGVycm9yXG4gIH07XG59XG5jb25zdCBGaXhlZEhlYWRlciA9IHN0eWxlZChTdGFjaylgXG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgYmFja2dyb3VuZDogJHsoe1xuICB0aGVtZVxufSkgPT4gdGhlbWUuc2FuaXR5LmNvbG9yLmJhc2UuYmd9O1xuICB6LWluZGV4OiAxO1xuYCwgU2Nyb2xsQ29udGFpbmVyID0gc3R5bGVkKEJveClgXG4gIGhlaWdodDogMTAwJTtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuXG4gICY6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogOHB4O1xuICB9XG5cbiAgJjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICB9XG5cbiAgJjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQ6ICR7KHtcbiAgdGhlbWVcbn0pID0+IHRoZW1lLnNhbml0eS5jb2xvci5iYXNlLmJvcmRlcn07XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG5gO1xuZnVuY3Rpb24gUXVlcnlSZWNhbGwodDApIHtcbiAgY29uc3QgJCA9IGMoODApLCB7XG4gICAgdXJsLFxuICAgIGdldFN0YXRlRnJvbVVybCxcbiAgICBzZXRTdGF0ZUZyb21QYXJzZWRVcmwsXG4gICAgY3VycmVudFF1ZXJ5LFxuICAgIGN1cnJlbnRQYXJhbXMsXG4gICAgZ2VuZXJhdGVVcmxcbiAgfSA9IHQwLCB0b2FzdCA9IHVzZVRvYXN0KCksIHtcbiAgICBzYXZlUXVlcnksXG4gICAgdXBkYXRlUXVlcnksXG4gICAgcXVlcmllcyxcbiAgICBkZWxldGVRdWVyeSxcbiAgICBzYXZpbmcsXG4gICAgc2F2ZVF1ZXJ5RXJyb3JcbiAgfSA9IHVzZVNhdmVkUXVlcmllcygpLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKTtcbiAgbGV0IHQxO1xuICAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MSA9IHtcbiAgICBtb250aDogXCJzaG9ydFwiLFxuICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgbWludXRlOiBcIjItZGlnaXRcIixcbiAgICBob3VyMTI6ICEwXG4gIH0sICRbMF0gPSB0MSkgOiB0MSA9ICRbMF07XG4gIGNvbnN0IGZvcm1hdERhdGUgPSB1c2VEYXRlVGltZUZvcm1hdCh0MSksIFtlZGl0aW5nS2V5LCBzZXRFZGl0aW5nS2V5XSA9IHVzZVN0YXRlKG51bGwpLCBbZWRpdGluZ1RpdGxlLCBzZXRFZGl0aW5nVGl0bGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGxldCB0MjtcbiAgJFsxXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDIgPSB7fSwgJFsxXSA9IHQyKSA6IHQyID0gJFsxXTtcbiAgY29uc3QgW29wdGltaXN0aWNUaXRsZXMsIHNldE9wdGltaXN0aWNUaXRsZXNdID0gdXNlU3RhdGUodDIpLCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpLCBbc2VsZWN0ZWRVcmwsIHNldFNlbGVjdGVkVXJsXSA9IHVzZVN0YXRlKHVybCk7XG4gIGxldCB0MztcbiAgJFsyXSAhPT0gY3VycmVudFBhcmFtcyB8fCAkWzNdICE9PSBjdXJyZW50UXVlcnkgfHwgJFs0XSAhPT0gZm9ybWF0RGF0ZSB8fCAkWzVdICE9PSBnZW5lcmF0ZVVybCB8fCAkWzZdICE9PSBnZXRTdGF0ZUZyb21VcmwgfHwgJFs3XSAhPT0gcXVlcmllcyB8fCAkWzhdICE9PSBzYXZlUXVlcnkgfHwgJFs5XSAhPT0gc2F2ZVF1ZXJ5RXJyb3IgfHwgJFsxMF0gIT09IHQgfHwgJFsxMV0gIT09IHRvYXN0ID8gKHQzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5ld1VybCA9IGdlbmVyYXRlVXJsKGN1cnJlbnRRdWVyeSwgY3VycmVudFBhcmFtcyk7XG4gICAgaWYgKHF1ZXJpZXM/LnNvbWUoKHEpID0+IHtcbiAgICAgIGNvbnN0IHNhdmVkUXVlcnlPYmogPSBnZXRTdGF0ZUZyb21VcmwocS51cmwpO1xuICAgICAgcmV0dXJuIHNhdmVkUXVlcnlPYmogJiYgc2F2ZWRRdWVyeU9iai5xdWVyeSA9PT0gY3VycmVudFF1ZXJ5ICYmIGlzRXF1YWwoc2F2ZWRRdWVyeU9iai5wYXJhbXMsIGN1cnJlbnRQYXJhbXMpO1xuICAgIH0pKSB7XG4gICAgICBjb25zdCBkdXBsaWNhdGVRdWVyeSA9IHF1ZXJpZXM/LmZpbmQoKHFfMCkgPT4ge1xuICAgICAgICBjb25zdCBzYXZlZFF1ZXJ5T2JqXzAgPSBnZXRTdGF0ZUZyb21VcmwocV8wLnVybCk7XG4gICAgICAgIHJldHVybiBzYXZlZFF1ZXJ5T2JqXzAgJiYgc2F2ZWRRdWVyeU9ial8wLnF1ZXJ5ID09PSBjdXJyZW50UXVlcnkgJiYgaXNFcXVhbChzYXZlZFF1ZXJ5T2JqXzAucGFyYW1zLCBjdXJyZW50UGFyYW1zKTtcbiAgICAgIH0pO1xuICAgICAgdG9hc3QucHVzaCh7XG4gICAgICAgIGNsb3NhYmxlOiAhMCxcbiAgICAgICAgc3RhdHVzOiBcIndhcm5pbmdcIixcbiAgICAgICAgdGl0bGU6IHQoXCJzYXZlLXF1ZXJ5LmFscmVhZHktc2F2ZWRcIiksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgJHtkdXBsaWNhdGVRdWVyeT8udGl0bGV9IC0gJHtmb3JtYXREYXRlLmZvcm1hdChuZXcgRGF0ZShkdXBsaWNhdGVRdWVyeT8uc2F2ZWRBdCB8fCBcIlwiKSl9YFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5ld1VybCAmJiAoYXdhaXQgc2F2ZVF1ZXJ5KHtcbiAgICAgIHVybDogbmV3VXJsLFxuICAgICAgc2F2ZWRBdDogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLFxuICAgICAgdGl0bGU6IFwiVW50aXRsZWRcIlxuICAgIH0pLCBzZXRTZWxlY3RlZFVybChuZXdVcmwpKSwgc2F2ZVF1ZXJ5RXJyb3IgPyB0b2FzdC5wdXNoKHtcbiAgICAgIGNsb3NhYmxlOiAhMCxcbiAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgdGl0bGU6IHQoXCJzYXZlLXF1ZXJ5LmVycm9yXCIpLFxuICAgICAgZGVzY3JpcHRpb246IHNhdmVRdWVyeUVycm9yLm1lc3NhZ2VcbiAgICB9KSA6IHRvYXN0LnB1c2goe1xuICAgICAgY2xvc2FibGU6ICEwLFxuICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgIHRpdGxlOiB0KFwic2F2ZS1xdWVyeS5zdWNjZXNzXCIpXG4gICAgfSk7XG4gIH0sICRbMl0gPSBjdXJyZW50UGFyYW1zLCAkWzNdID0gY3VycmVudFF1ZXJ5LCAkWzRdID0gZm9ybWF0RGF0ZSwgJFs1XSA9IGdlbmVyYXRlVXJsLCAkWzZdID0gZ2V0U3RhdGVGcm9tVXJsLCAkWzddID0gcXVlcmllcywgJFs4XSA9IHNhdmVRdWVyeSwgJFs5XSA9IHNhdmVRdWVyeUVycm9yLCAkWzEwXSA9IHQsICRbMTFdID0gdG9hc3QsICRbMTJdID0gdDMpIDogdDMgPSAkWzEyXTtcbiAgY29uc3QgaGFuZGxlU2F2ZSA9IHQzO1xuICBsZXQgdDQ7XG4gICRbMTNdICE9PSB0IHx8ICRbMTRdICE9PSB0b2FzdCB8fCAkWzE1XSAhPT0gdXBkYXRlUXVlcnkgPyAodDQgPSBhc3luYyAocXVlcnksIG5ld1RpdGxlKSA9PiB7XG4gICAgc2V0RWRpdGluZ0tleShudWxsKSwgc2V0T3B0aW1pc3RpY1RpdGxlcygocHJldikgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbcXVlcnkuX2tleV06IG5ld1RpdGxlXG4gICAgfSkpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1cGRhdGVRdWVyeSh7XG4gICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICB0aXRsZTogbmV3VGl0bGVcbiAgICAgIH0pLCBzZXRPcHRpbWlzdGljVGl0bGVzKChwcmV2XzEpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dF8wID0ge1xuICAgICAgICAgIC4uLnByZXZfMVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGVsZXRlIG5leHRfMFtxdWVyeS5fa2V5XSwgbmV4dF8wO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAodDUyKSB7XG4gICAgICBjb25zdCBlcnIgPSB0NTI7XG4gICAgICBzZXRPcHRpbWlzdGljVGl0bGVzKChwcmV2XzApID0+IHtcbiAgICAgICAgY29uc3QgbmV4dCA9IHtcbiAgICAgICAgICAuLi5wcmV2XzBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZSBuZXh0W3F1ZXJ5Ll9rZXldLCBuZXh0O1xuICAgICAgfSksIHRvYXN0LnB1c2goe1xuICAgICAgICBjbG9zYWJsZTogITAsXG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgICB0aXRsZTogdChcInNhdmUtcXVlcnkuZXJyb3JcIiksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnIubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCAkWzEzXSA9IHQsICRbMTRdID0gdG9hc3QsICRbMTVdID0gdXBkYXRlUXVlcnksICRbMTZdID0gdDQpIDogdDQgPSAkWzE2XTtcbiAgY29uc3QgaGFuZGxlVGl0bGVTYXZlID0gdDQ7XG4gIGxldCB0NTtcbiAgJFsxN10gIT09IGN1cnJlbnRQYXJhbXMgfHwgJFsxOF0gIT09IGN1cnJlbnRRdWVyeSB8fCAkWzE5XSAhPT0gZm9ybWF0RGF0ZSB8fCAkWzIwXSAhPT0gZ2VuZXJhdGVVcmwgfHwgJFsyMV0gIT09IGdldFN0YXRlRnJvbVVybCB8fCAkWzIyXSAhPT0gcXVlcmllcyB8fCAkWzIzXSAhPT0gdCB8fCAkWzI0XSAhPT0gdG9hc3QgfHwgJFsyNV0gIT09IHVwZGF0ZVF1ZXJ5ID8gKHQ1ID0gYXN5bmMgKHF1ZXJ5XzApID0+IHtcbiAgICBjb25zdCBuZXdVcmxfMCA9IGdlbmVyYXRlVXJsKGN1cnJlbnRRdWVyeSwgY3VycmVudFBhcmFtcyk7XG4gICAgaWYgKHF1ZXJpZXM/LnNvbWUoKHFfMSkgPT4ge1xuICAgICAgaWYgKHFfMS5fa2V5ID09PSBxdWVyeV8wLl9rZXkpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIGNvbnN0IHNhdmVkUXVlcnlPYmpfMSA9IGdldFN0YXRlRnJvbVVybChxXzEudXJsKTtcbiAgICAgIHJldHVybiBzYXZlZFF1ZXJ5T2JqXzEgJiYgc2F2ZWRRdWVyeU9ial8xLnF1ZXJ5ID09PSBjdXJyZW50UXVlcnkgJiYgaXNFcXVhbChzYXZlZFF1ZXJ5T2JqXzEucGFyYW1zLCBjdXJyZW50UGFyYW1zKTtcbiAgICB9KSkge1xuICAgICAgY29uc3QgZHVwbGljYXRlUXVlcnlfMCA9IHF1ZXJpZXM/LmZpbmQoKHFfMikgPT4ge1xuICAgICAgICBpZiAocV8yLl9rZXkgPT09IHF1ZXJ5XzAuX2tleSlcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHNhdmVkUXVlcnlPYmpfMiA9IGdldFN0YXRlRnJvbVVybChxXzIudXJsKTtcbiAgICAgICAgcmV0dXJuIHNhdmVkUXVlcnlPYmpfMiAmJiBzYXZlZFF1ZXJ5T2JqXzIucXVlcnkgPT09IGN1cnJlbnRRdWVyeSAmJiBpc0VxdWFsKHNhdmVkUXVlcnlPYmpfMi5wYXJhbXMsIGN1cnJlbnRQYXJhbXMpO1xuICAgICAgfSk7XG4gICAgICB0b2FzdC5wdXNoKHtcbiAgICAgICAgY2xvc2FibGU6ICEwLFxuICAgICAgICBzdGF0dXM6IFwid2FybmluZ1wiLFxuICAgICAgICB0aXRsZTogdChcInNhdmUtcXVlcnkuYWxyZWFkeS1zYXZlZFwiKSxcbiAgICAgICAgZGVzY3JpcHRpb246IGAke2R1cGxpY2F0ZVF1ZXJ5XzA/LnRpdGxlfSAtICR7Zm9ybWF0RGF0ZS5mb3JtYXQobmV3IERhdGUoZHVwbGljYXRlUXVlcnlfMD8uc2F2ZWRBdCB8fCBcIlwiKSl9YFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1cGRhdGVRdWVyeSh7XG4gICAgICAgIC4uLnF1ZXJ5XzAsXG4gICAgICAgIHVybDogbmV3VXJsXzAsXG4gICAgICAgIHNhdmVkQXQ6ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKVxuICAgICAgfSksIHNldFNlbGVjdGVkVXJsKG5ld1VybF8wKSwgdG9hc3QucHVzaCh7XG4gICAgICAgIGNsb3NhYmxlOiAhMCxcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgdGl0bGU6IHQoXCJzYXZlLXF1ZXJ5LnN1Y2Nlc3NcIilcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHQ2Mikge1xuICAgICAgY29uc3QgZXJyXzAgPSB0NjI7XG4gICAgICB0b2FzdC5wdXNoKHtcbiAgICAgICAgY2xvc2FibGU6ICEwLFxuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgdGl0bGU6IHQoXCJzYXZlLXF1ZXJ5LmVycm9yXCIpLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyXzAubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCAkWzE3XSA9IGN1cnJlbnRQYXJhbXMsICRbMThdID0gY3VycmVudFF1ZXJ5LCAkWzE5XSA9IGZvcm1hdERhdGUsICRbMjBdID0gZ2VuZXJhdGVVcmwsICRbMjFdID0gZ2V0U3RhdGVGcm9tVXJsLCAkWzIyXSA9IHF1ZXJpZXMsICRbMjNdID0gdCwgJFsyNF0gPSB0b2FzdCwgJFsyNV0gPSB1cGRhdGVRdWVyeSwgJFsyNl0gPSB0NSkgOiB0NSA9ICRbMjZdO1xuICBjb25zdCBoYW5kbGVVcGRhdGUgPSB0NTtcbiAgbGV0IFQwLCBUMSwgdDYsIHQ3LCB0ODtcbiAgaWYgKCRbMjddICE9PSBjdXJyZW50UGFyYW1zIHx8ICRbMjhdICE9PSBjdXJyZW50UXVlcnkgfHwgJFsyOV0gIT09IGRlbGV0ZVF1ZXJ5IHx8ICRbMzBdICE9PSBlZGl0aW5nS2V5IHx8ICRbMzFdICE9PSBlZGl0aW5nVGl0bGUgfHwgJFszMl0gIT09IGZvcm1hdERhdGUgfHwgJFszM10gIT09IGdldFN0YXRlRnJvbVVybCB8fCAkWzM0XSAhPT0gaGFuZGxlU2F2ZSB8fCAkWzM1XSAhPT0gaGFuZGxlVGl0bGVTYXZlIHx8ICRbMzZdICE9PSBoYW5kbGVVcGRhdGUgfHwgJFszN10gIT09IG9wdGltaXN0aWNUaXRsZXMgfHwgJFszOF0gIT09IHF1ZXJpZXMgfHwgJFszOV0gIT09IHNhdmluZyB8fCAkWzQwXSAhPT0gc2VhcmNoUXVlcnkgfHwgJFs0MV0gIT09IHNlbGVjdGVkVXJsIHx8ICRbNDJdICE9PSBzZXRTdGF0ZUZyb21QYXJzZWRVcmwgfHwgJFs0M10gIT09IHQpIHtcbiAgICBjb25zdCBmaWx0ZXJlZFF1ZXJpZXMgPSBxdWVyaWVzPy5maWx0ZXIoKHFfMykgPT4gcV8zPy50aXRsZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgVDEgPSBTY3JvbGxDb250YWluZXI7XG4gICAgbGV0IHQ5MjtcbiAgICAkWzQ5XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDkyID0ge1xuICAgICAgdGV4dFRyYW5zZm9ybTogXCJjYXBpdGFsaXplXCJcbiAgICB9LCAkWzQ5XSA9IHQ5MikgOiB0OTIgPSAkWzQ5XTtcbiAgICBsZXQgdDEwMjtcbiAgICAkWzUwXSAhPT0gdCA/ICh0MTAyID0gdChcImxhYmVsLnNhdmVkLXF1ZXJpZXNcIiksICRbNTBdID0gdCwgJFs1MV0gPSB0MTAyKSA6IHQxMDIgPSAkWzUxXTtcbiAgICBsZXQgdDExO1xuICAgICRbNTJdICE9PSB0MTAyID8gKHQxMSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyB3ZWlnaHQ6IFwic2VtaWJvbGRcIiwgc3R5bGU6IHQ5Miwgc2l6ZTogNCwgY2hpbGRyZW46IHQxMDIgfSksICRbNTJdID0gdDEwMiwgJFs1M10gPSB0MTEpIDogdDExID0gJFs1M107XG4gICAgbGV0IHQxMjtcbiAgICAkWzU0XSAhPT0gdCA/ICh0MTIgPSB0KFwiYWN0aW9uLnNhdmUtcXVlcnlcIiksICRbNTRdID0gdCwgJFs1NV0gPSB0MTIpIDogdDEyID0gJFs1NV07XG4gICAgbGV0IHQxMztcbiAgICAkWzU2XSAhPT0gaGFuZGxlU2F2ZSB8fCAkWzU3XSAhPT0gc2F2aW5nIHx8ICRbNThdICE9PSB0MTIgPyAodDEzID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgbGFiZWw6IHQxMiwgaWNvbjogQWRkSWNvbiwgZGlzYWJsZWQ6IHNhdmluZywgb25DbGljazogaGFuZGxlU2F2ZSwgbW9kZTogXCJibGVlZFwiIH0pLCAkWzU2XSA9IGhhbmRsZVNhdmUsICRbNTddID0gc2F2aW5nLCAkWzU4XSA9IHQxMiwgJFs1OV0gPSB0MTMpIDogdDEzID0gJFs1OV07XG4gICAgbGV0IHQxNDtcbiAgICAkWzYwXSAhPT0gdDExIHx8ICRbNjFdICE9PSB0MTMgPyAodDE0ID0gLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBwYWRkaW5nOiAzLCBwYWRkaW5nVG9wOiA0LCBwYWRkaW5nQm90dG9tOiAwLCBqdXN0aWZ5OiBcInNwYWNlLWJldHdlZW5cIiwgYWxpZ246IFwiY2VudGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICB0MTEsXG4gICAgICB0MTNcbiAgICBdIH0pLCAkWzYwXSA9IHQxMSwgJFs2MV0gPSB0MTMsICRbNjJdID0gdDE0KSA6IHQxNCA9ICRbNjJdO1xuICAgIGxldCB0MTU7XG4gICAgJFs2M10gIT09IHQgPyAodDE1ID0gdChcImxhYmVsLnNlYXJjaC1xdWVyaWVzXCIpLCAkWzYzXSA9IHQsICRbNjRdID0gdDE1KSA6IHQxNSA9ICRbNjRdO1xuICAgIGxldCB0MTY7XG4gICAgJFs2NV0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpID8gKHQxNiA9IChldmVudCkgPT4gc2V0U2VhcmNoUXVlcnkoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSksICRbNjVdID0gdDE2KSA6IHQxNiA9ICRbNjVdO1xuICAgIGxldCB0MTc7XG4gICAgJFs2Nl0gIT09IHNlYXJjaFF1ZXJ5IHx8ICRbNjddICE9PSB0MTUgPyAodDE3ID0gLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgcGFkZGluZzogMywgcGFkZGluZ1RvcDogMCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dElucHV0LCB7IHBsYWNlaG9sZGVyOiB0MTUsIGljb246IFNlYXJjaEljb24sIHZhbHVlOiBzZWFyY2hRdWVyeSwgb25DaGFuZ2U6IHQxNiB9KSB9KSwgJFs2Nl0gPSBzZWFyY2hRdWVyeSwgJFs2N10gPSB0MTUsICRbNjhdID0gdDE3KSA6IHQxNyA9ICRbNjhdLCAkWzY5XSAhPT0gdDE0IHx8ICRbNzBdICE9PSB0MTcgPyAodDggPSAvKiBAX19QVVJFX18gKi8ganN4cyhGaXhlZEhlYWRlciwgeyBzcGFjZTogMywgY2hpbGRyZW46IFtcbiAgICAgIHQxNCxcbiAgICAgIHQxN1xuICAgIF0gfSksICRbNjldID0gdDE0LCAkWzcwXSA9IHQxNywgJFs3MV0gPSB0OCkgOiB0OCA9ICRbNzFdLCBUMCA9IFN0YWNrLCB0NiA9IDMsIHQ3ID0gZmlsdGVyZWRRdWVyaWVzPy5tYXAoKHFfNCkgPT4ge1xuICAgICAgY29uc3QgcXVlcnlPYmogPSBnZXRTdGF0ZUZyb21VcmwocV80LnVybCksIGlzU2VsZWN0ZWQgPSBzZWxlY3RlZFVybCA9PT0gcV80LnVybCwgYXJlUXVlcmllc0VxdWFsID0gcXVlcnlPYmogJiYgY3VycmVudFF1ZXJ5ID09PSBxdWVyeU9iai5xdWVyeSAmJiBpc0VxdWFsKGN1cnJlbnRQYXJhbXMsIHF1ZXJ5T2JqLnBhcmFtcyksIGlzRWRpdGVkID0gaXNTZWxlY3RlZCAmJiAhYXJlUXVlcmllc0VxdWFsO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyB3aWR0aDogXCJmaWxsXCIsIHBhZGRpbmc6IDQsIGJvcmRlcjogITAsIHRvbmU6IGlzU2VsZWN0ZWQgPyBcInBvc2l0aXZlXCIgOiBcImRlZmF1bHRcIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICBzZXRTZWxlY3RlZFVybChxXzQudXJsKTtcbiAgICAgICAgY29uc3QgcGFyc2VkVXJsID0gZ2V0U3RhdGVGcm9tVXJsKHFfNC51cmwpO1xuICAgICAgICBwYXJzZWRVcmwgJiYgc2V0U3RhdGVGcm9tUGFyc2VkVXJsKHBhcnNlZFVybCk7XG4gICAgICB9LCBzdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgICB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgc3BhY2U6IDMsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsganVzdGlmeTogXCJzcGFjZS1iZXR3ZWVuXCIsIGFsaWduOiBcImNlbnRlclwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsgYWxpZ246IFwiY2VudGVyXCIsIGdhcDogMiwgcGFkZGluZ1JpZ2h0OiAxLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgZWRpdGluZ0tleSA9PT0gcV80Ll9rZXkgPyAvKiBAX19QVVJFX18gKi8ganN4KFRleHRJbnB1dCwgeyB2YWx1ZTogZWRpdGluZ1RpdGxlLCBvbkNoYW5nZTogKGV2ZW50XzApID0+IHNldEVkaXRpbmdUaXRsZShldmVudF8wLmN1cnJlbnRUYXJnZXQudmFsdWUpLCBvbktleURvd246IChldmVudF8xKSA9PiB7XG4gICAgICAgICAgICAgIGV2ZW50XzEua2V5ID09PSBcIkVudGVyXCIgPyBoYW5kbGVUaXRsZVNhdmUocV80LCBlZGl0aW5nVGl0bGUpIDogZXZlbnRfMS5rZXkgPT09IFwiRXNjYXBlXCIgJiYgc2V0RWRpdGluZ0tleShudWxsKTtcbiAgICAgICAgICAgIH0sIG9uQmx1cjogKCkgPT4gaGFuZGxlVGl0bGVTYXZlKHFfNCwgZWRpdGluZ1RpdGxlKSwgYXV0b0ZvY3VzOiAhMCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTcwcHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjI0cHhcIlxuICAgICAgICAgICAgfSB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyB3ZWlnaHQ6IFwiYm9sZFwiLCBzaXplOiAzLCB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTcwcHhcIixcbiAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHggMFwiXG4gICAgICAgICAgICB9LCB0aXRsZTogb3B0aW1pc3RpY1RpdGxlc1txXzQuX2tleV0gfHwgcV80LnRpdGxlIHx8IHFfNC5fa2V5LnNsaWNlKHFfNC5fa2V5Lmxlbmd0aCAtIDUsIHFfNC5fa2V5Lmxlbmd0aCksIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgc2V0RWRpdGluZ0tleShxXzQuX2tleSksIHNldEVkaXRpbmdUaXRsZShxXzQudGl0bGUgfHwgcV80Ll9rZXkuc2xpY2UoMCwgNSkpO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IG9wdGltaXN0aWNUaXRsZXNbcV80Ll9rZXldIHx8IHFfNC50aXRsZSB8fCBxXzQuX2tleS5zbGljZShxXzQuX2tleS5sZW5ndGggLSA1LCBxXzQuX2tleS5sZW5ndGgpIH0pLFxuICAgICAgICAgICAgaXNFZGl0ZWQgJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCI2cHhcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidmFyKC0tY2FyZC1mb2N1cy1yaW5nLWNvbG9yKVwiXG4gICAgICAgICAgICB9IH0pXG4gICAgICAgICAgXSB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVCdXR0b24sIHsgYnV0dG9uOiAvKiBAX19QVVJFX18gKi8ganN4KENvbnRleHRNZW51QnV0dG9uLCB7fSksIGlkOiBgJHtxXzQuX2tleX0tbWVudWAsIG1lbnU6IC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChNZW51SXRlbSwgeyB0b25lOiBcImNyaXRpY2FsXCIsIHBhZGRpbmc6IDMsIGljb246IFRyYXNoSWNvbiwgdGV4dDogdChcImFjdGlvbi5kZWxldGVcIiksIG9uQ2xpY2s6IChldmVudF8yKSA9PiB7XG4gICAgICAgICAgICBldmVudF8yLnN0b3BQcm9wYWdhdGlvbigpLCBkZWxldGVRdWVyeShxXzQuX2tleSk7XG4gICAgICAgICAgfSB9KSB9KSwgcG9wb3Zlcjoge1xuICAgICAgICAgICAgcG9ydGFsOiAhMCxcbiAgICAgICAgICAgIHBsYWNlbWVudDogXCJib3R0b20tZW5kXCIsXG4gICAgICAgICAgICB0b25lOiBcImRlZmF1bHRcIlxuICAgICAgICAgIH0gfSlcbiAgICAgICAgXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDb2RlLCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IHF1ZXJ5T2JqPy5xdWVyeS5zcGxpdChcIntcIilbMF0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRmxleCwgeyBhbGlnbjogXCJjZW50ZXJcIiwgZ2FwOiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IDEsIG11dGVkOiAhMCwgY2hpbGRyZW46IGZvcm1hdERhdGUuZm9ybWF0KG5ldyBEYXRlKHFfNC5zYXZlZEF0IHx8IFwiXCIpKSB9KSB9KSxcbiAgICAgICAgaXNFZGl0ZWQgJiYgLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgbW9kZTogXCJnaG9zdFwiLCB0b25lOiBcImRlZmF1bHRcIiwgc2l6ZTogMSwgcGFkZGluZzogMiwgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IFwiMjRweFwiLFxuICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgcmlnaHQ6IFwiMTZweFwiLFxuICAgICAgICAgIGJvdHRvbTogXCIxNnB4XCIsXG4gICAgICAgICAgZm9udFNpemU6IFwiMTJweFwiXG4gICAgICAgIH0sIHRleHQ6IHQoXCJhY3Rpb24udXBkYXRlXCIpLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCksIGhhbmRsZVVwZGF0ZShxXzQpO1xuICAgICAgICB9IH0pXG4gICAgICBdIH0pIH0sIHFfNC5fa2V5KTtcbiAgICB9KSwgJFsyN10gPSBjdXJyZW50UGFyYW1zLCAkWzI4XSA9IGN1cnJlbnRRdWVyeSwgJFsyOV0gPSBkZWxldGVRdWVyeSwgJFszMF0gPSBlZGl0aW5nS2V5LCAkWzMxXSA9IGVkaXRpbmdUaXRsZSwgJFszMl0gPSBmb3JtYXREYXRlLCAkWzMzXSA9IGdldFN0YXRlRnJvbVVybCwgJFszNF0gPSBoYW5kbGVTYXZlLCAkWzM1XSA9IGhhbmRsZVRpdGxlU2F2ZSwgJFszNl0gPSBoYW5kbGVVcGRhdGUsICRbMzddID0gb3B0aW1pc3RpY1RpdGxlcywgJFszOF0gPSBxdWVyaWVzLCAkWzM5XSA9IHNhdmluZywgJFs0MF0gPSBzZWFyY2hRdWVyeSwgJFs0MV0gPSBzZWxlY3RlZFVybCwgJFs0Ml0gPSBzZXRTdGF0ZUZyb21QYXJzZWRVcmwsICRbNDNdID0gdCwgJFs0NF0gPSBUMCwgJFs0NV0gPSBUMSwgJFs0Nl0gPSB0NiwgJFs0N10gPSB0NywgJFs0OF0gPSB0ODtcbiAgfSBlbHNlXG4gICAgVDAgPSAkWzQ0XSwgVDEgPSAkWzQ1XSwgdDYgPSAkWzQ2XSwgdDcgPSAkWzQ3XSwgdDggPSAkWzQ4XTtcbiAgbGV0IHQ5O1xuICAkWzcyXSAhPT0gVDAgfHwgJFs3M10gIT09IHQ2IHx8ICRbNzRdICE9PSB0NyA/ICh0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVDAsIHsgcGFkZGluZ1k6IHQ2LCBjaGlsZHJlbjogdDcgfSksICRbNzJdID0gVDAsICRbNzNdID0gdDYsICRbNzRdID0gdDcsICRbNzVdID0gdDkpIDogdDkgPSAkWzc1XTtcbiAgbGV0IHQxMDtcbiAgcmV0dXJuICRbNzZdICE9PSBUMSB8fCAkWzc3XSAhPT0gdDggfHwgJFs3OF0gIT09IHQ5ID8gKHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFQxLCB7IGNoaWxkcmVuOiBbXG4gICAgdDgsXG4gICAgdDlcbiAgXSB9KSwgJFs3Nl0gPSBUMSwgJFs3N10gPSB0OCwgJFs3OF0gPSB0OSwgJFs3OV0gPSB0MTApIDogdDEwID0gJFs3OV0sIHQxMDtcbn1cbmZ1bmN0aW9uIG5hcnJvd0JyZWFrcG9pbnQoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgd2luZG93LmlubmVyV2lkdGggPiA2MDA7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVQYW5lU2l6ZU9wdGlvbnMoaGVpZ2h0KSB7XG4gIGxldCByb290SGVpZ2h0ID0gaGVpZ2h0O1xuICByZXR1cm4gcm9vdEhlaWdodCB8fCAocm9vdEhlaWdodCA9IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB0eXBlb2YgZG9jdW1lbnQgPCBcInVcIiA/IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gNjAgOiAwKSwge1xuICAgIGRlZmF1bHRTaXplOiByb290SGVpZ2h0IC8gKG5hcnJvd0JyZWFrcG9pbnQoKSA/IDIgOiAxKSxcbiAgICBzaXplOiByb290SGVpZ2h0ID4gNTUwID8gdm9pZCAwIDogcm9vdEhlaWdodCAqIDAuNCxcbiAgICBhbGxvd1Jlc2l6ZTogcm9vdEhlaWdodCA+IDU1MCxcbiAgICBtaW5TaXplOiBNYXRoLm1pbigxNzAsIE1hdGgubWF4KDE3MCwgcm9vdEhlaWdodCAvIDIpKSxcbiAgICBtYXhTaXplOiByb290SGVpZ2h0ID4gNjUwID8gcm9vdEhlaWdodCAqIDAuNyA6IHJvb3RIZWlnaHQgKiAwLjZcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZVBhbmVTaXplKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDcpLCB7XG4gICAgdmlzaW9uUm9vdFJlZlxuICB9ID0gdDAsIFtpc05hcnJvd0JyZWFrcG9pbnQsIHNldElzTmFycm93QnJlYWtwb2ludF0gPSB1c2VTdGF0ZShfdGVtcCQzKSwgW3BhbmVTaXplT3B0aW9ucywgc2V0UGFuZVNpemVPcHRpb25zXSA9IHVzZVN0YXRlKF90ZW1wMiQyKTtcbiAgbGV0IHQxO1xuICAkWzBdICE9PSB2aXNpb25Sb290UmVmLmN1cnJlbnQgPyAodDEgPSAoKSA9PiB7XG4gICAgaWYgKCF2aXNpb25Sb290UmVmLmN1cnJlbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKGVudHJpZXMpID0+IHtcbiAgICAgIHNldElzTmFycm93QnJlYWtwb2ludChuYXJyb3dCcmVha3BvaW50KCkpO1xuICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzPy5bMF07XG4gICAgICBlbnRyeSAmJiBzZXRQYW5lU2l6ZU9wdGlvbnMoY2FsY3VsYXRlUGFuZVNpemVPcHRpb25zKGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodCkpO1xuICAgIH0sIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGhhbmRsZVJlc2l6ZSk7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUodmlzaW9uUm9vdFJlZi5jdXJyZW50KSwgKCkgPT4ge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sICRbMF0gPSB2aXNpb25Sb290UmVmLmN1cnJlbnQsICRbMV0gPSB0MSkgOiB0MSA9ICRbMV07XG4gIGxldCB0MjtcbiAgJFsyXSAhPT0gdmlzaW9uUm9vdFJlZiA/ICh0MiA9IFt2aXNpb25Sb290UmVmXSwgJFsyXSA9IHZpc2lvblJvb3RSZWYsICRbM10gPSB0MikgOiB0MiA9ICRbM10sIHVzZUVmZmVjdCh0MSwgdDIpO1xuICBsZXQgdDM7XG4gIHJldHVybiAkWzRdICE9PSBpc05hcnJvd0JyZWFrcG9pbnQgfHwgJFs1XSAhPT0gcGFuZVNpemVPcHRpb25zID8gKHQzID0ge1xuICAgIHBhbmVTaXplT3B0aW9ucyxcbiAgICBpc05hcnJvd0JyZWFrcG9pbnRcbiAgfSwgJFs0XSA9IGlzTmFycm93QnJlYWtwb2ludCwgJFs1XSA9IHBhbmVTaXplT3B0aW9ucywgJFs2XSA9IHQzKSA6IHQzID0gJFs2XSwgdDM7XG59XG5mdW5jdGlvbiBfdGVtcDIkMigpIHtcbiAgcmV0dXJuIGNhbGN1bGF0ZVBhbmVTaXplT3B0aW9ucyh2b2lkIDApO1xufVxuZnVuY3Rpb24gX3RlbXAkMygpIHtcbiAgcmV0dXJuIG5hcnJvd0JyZWFrcG9pbnQoKTtcbn1cbmZ1bmN0aW9uIFZpc2lvbkd1aUNvbnRyb2xzKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDMwKSwge1xuICAgIGhhc1ZhbGlkUGFyYW1zLFxuICAgIGxpc3RlbkluUHJvZ3Jlc3MsXG4gICAgcXVlcnlJblByb2dyZXNzLFxuICAgIG9uUXVlcnlFeGVjdXRpb24sXG4gICAgb25MaXN0ZW5FeGVjdXRpb25cbiAgfSA9IHQwLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKTtcbiAgbGV0IHQxO1xuICAkWzBdICE9PSB0ID8gKHQxID0gdChcInBhcmFtcy5lcnJvci5wYXJhbXMtaW52YWxpZC1qc29uXCIpLCAkWzBdID0gdCwgJFsxXSA9IHQxKSA6IHQxID0gJFsxXTtcbiAgbGV0IHQyO1xuICAkWzJdICE9PSB0MSA/ICh0MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyByYWRpdXM6IDQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgc2l6ZTogMSwgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogdDEgfSkgfSksICRbMl0gPSB0MSwgJFszXSA9IHQyKSA6IHQyID0gJFszXTtcbiAgbGV0IHQzO1xuICAkWzRdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyByYWRpdXM6IDQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEhvdGtleXMsIHsga2V5czogW1wiQ3RybFwiLCBcIkVudGVyXCJdIH0pIH0pLCAkWzRdID0gdDMpIDogdDMgPSAkWzRdO1xuICBjb25zdCB0NCA9IHF1ZXJ5SW5Qcm9ncmVzcyA/IFN0b3BJY29uIDogUGxheUljb24sIHQ1ID0gbGlzdGVuSW5Qcm9ncmVzcyB8fCAhaGFzVmFsaWRQYXJhbXMsIHQ2ID0gcXVlcnlJblByb2dyZXNzID8gXCJwb3NpdGl2ZVwiIDogXCJwcmltYXJ5XCI7XG4gIGxldCB0NztcbiAgJFs1XSAhPT0gcXVlcnlJblByb2dyZXNzIHx8ICRbNl0gIT09IHQgPyAodDcgPSB0KHF1ZXJ5SW5Qcm9ncmVzcyA/IFwiYWN0aW9uLnF1ZXJ5LWNhbmNlbFwiIDogXCJhY3Rpb24ucXVlcnktZXhlY3V0ZVwiKSwgJFs1XSA9IHF1ZXJ5SW5Qcm9ncmVzcywgJFs2XSA9IHQsICRbN10gPSB0NykgOiB0NyA9ICRbN107XG4gIGxldCB0ODtcbiAgJFs4XSAhPT0gb25RdWVyeUV4ZWN1dGlvbiB8fCAkWzldICE9PSB0NCB8fCAkWzEwXSAhPT0gdDUgfHwgJFsxMV0gIT09IHQ2IHx8ICRbMTJdICE9PSB0NyA/ICh0OCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGZsZXg6IDEsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgY29udGVudDogdDMsIHBsYWNlbWVudDogXCJ0b3BcIiwgcG9ydGFsOiAhMCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IHdpZHRoOiBcImZpbGxcIiwgb25DbGljazogb25RdWVyeUV4ZWN1dGlvbiwgdHlwZTogXCJidXR0b25cIiwgaWNvbjogdDQsIGRpc2FibGVkOiB0NSwgdG9uZTogdDYsIHRleHQ6IHQ3IH0pIH0pIH0pLCAkWzhdID0gb25RdWVyeUV4ZWN1dGlvbiwgJFs5XSA9IHQ0LCAkWzEwXSA9IHQ1LCAkWzExXSA9IHQ2LCAkWzEyXSA9IHQ3LCAkWzEzXSA9IHQ4KSA6IHQ4ID0gJFsxM107XG4gIGNvbnN0IHQ5ID0gbGlzdGVuSW5Qcm9ncmVzcyA/IFN0b3BJY29uIDogUGxheUljb247XG4gIGxldCB0MTA7XG4gICRbMTRdICE9PSBsaXN0ZW5JblByb2dyZXNzIHx8ICRbMTVdICE9PSB0ID8gKHQxMCA9IHQobGlzdGVuSW5Qcm9ncmVzcyA/IFwiYWN0aW9uLmxpc3Rlbi1jYW5jZWxcIiA6IFwiYWN0aW9uLmxpc3Rlbi1leGVjdXRlXCIpLCAkWzE0XSA9IGxpc3RlbkluUHJvZ3Jlc3MsICRbMTVdID0gdCwgJFsxNl0gPSB0MTApIDogdDEwID0gJFsxNl07XG4gIGNvbnN0IHQxMSA9ICFoYXNWYWxpZFBhcmFtcywgdDEyID0gbGlzdGVuSW5Qcm9ncmVzcyA/IFwicG9zaXRpdmVcIiA6IFwiZGVmYXVsdFwiO1xuICBsZXQgdDEzO1xuICAkWzE3XSAhPT0gb25MaXN0ZW5FeGVjdXRpb24gfHwgJFsxOF0gIT09IHQxMCB8fCAkWzE5XSAhPT0gdDExIHx8ICRbMjBdICE9PSB0MTIgfHwgJFsyMV0gIT09IHQ5ID8gKHQxMyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGZsZXg6IDEsIG1hcmdpbkxlZnQ6IDMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyB3aWR0aDogXCJmaWxsXCIsIG9uQ2xpY2s6IG9uTGlzdGVuRXhlY3V0aW9uLCB0eXBlOiBcImJ1dHRvblwiLCBpY29uOiB0OSwgdGV4dDogdDEwLCBtb2RlOiBcImdob3N0XCIsIGRpc2FibGVkOiB0MTEsIHRvbmU6IHQxMiB9KSB9KSwgJFsxN10gPSBvbkxpc3RlbkV4ZWN1dGlvbiwgJFsxOF0gPSB0MTAsICRbMTldID0gdDExLCAkWzIwXSA9IHQxMiwgJFsyMV0gPSB0OSwgJFsyMl0gPSB0MTMpIDogdDEzID0gJFsyMl07XG4gIGxldCB0MTQ7XG4gICRbMjNdICE9PSB0MTMgfHwgJFsyNF0gIT09IHQ4ID8gKHQxNCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZsZXgsIHsganVzdGlmeTogXCJzcGFjZS1ldmVubHlcIiwgY2hpbGRyZW46IFtcbiAgICB0OCxcbiAgICB0MTNcbiAgXSB9KSwgJFsyM10gPSB0MTMsICRbMjRdID0gdDgsICRbMjVdID0gdDE0KSA6IHQxNCA9ICRbMjVdO1xuICBsZXQgdDE1O1xuICByZXR1cm4gJFsyNl0gIT09IGhhc1ZhbGlkUGFyYW1zIHx8ICRbMjddICE9PSB0MTQgfHwgJFsyOF0gIT09IHQyID8gKHQxNSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29udHJvbHNDb250YWluZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBwYWRkaW5nOiAzLCBwYWRkaW5nWDogMywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyBjb250ZW50OiB0MiwgcGxhY2VtZW50OiBcInRvcFwiLCBkaXNhYmxlZDogaGFzVmFsaWRQYXJhbXMsIHBvcnRhbDogITAsIGNoaWxkcmVuOiB0MTQgfSkgfSkgfSksICRbMjZdID0gaGFzVmFsaWRQYXJhbXMsICRbMjddID0gdDE0LCAkWzI4XSA9IHQyLCAkWzI5XSA9IHQxNSkgOiB0MTUgPSAkWzI5XSwgdDE1O1xufVxuY29uc3QgUGVyc3BlY3RpdmVQb3BvdmVyQ29udGVudCA9IHN0eWxlZChCb3gpYFxuICAvKiBUaGlzIGxpbWl0cyB0aGUgd2lkdGggb2YgdGhlIHBvcG92ZXIgY29udGVudCAqL1xuICBtYXgtd2lkdGg6IDI0MHB4O1xuYCwgUGVyc3BlY3RpdmVQb3BvdmVyTGluayA9IHN0eWxlZC5hYFxuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbmAsIERvdCA9IHN0eWxlZC5kaXZgXG4gIHdpZHRoOiA0cHg7XG4gIGhlaWdodDogNHB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDFweCB2YXIoLS1jYXJkLWJnLWNvbG9yKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHsoe1xuICAkdG9uZVxufSkgPT4gYHZhcigtLWNhcmQtYmFkZ2UtJHskdG9uZX0tZG90LWNvbG9yKWB9O1xuYDtcbmZ1bmN0aW9uIFBlcnNwZWN0aXZlUG9wb3ZlcigpIHtcbiAgY29uc3QgJCA9IGMoMzkpLCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZSghMSksIGJ1dHRvblJlZiA9IHVzZVJlZihudWxsKSwgcG9wb3ZlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgbGV0IHQwO1xuICAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MCA9ICgpID0+IHNldE9wZW4oX3RlbXAkMiksICRbMF0gPSB0MCkgOiB0MCA9ICRbMF07XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdDAsIHtcbiAgICB0XG4gIH0gPSB1c2VUcmFuc2xhdGlvbih2aXNpb25Mb2NhbGVOYW1lc3BhY2UpO1xuICBsZXQgdDEsIHQyO1xuICAkWzFdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MSA9ICgpID0+IHNldE9wZW4oITEpLCB0MiA9ICgpID0+IFtidXR0b25SZWYuY3VycmVudCwgcG9wb3ZlclJlZi5jdXJyZW50XSwgJFsxXSA9IHQxLCAkWzJdID0gdDIpIDogKHQxID0gJFsxXSwgdDIgPSAkWzJdKSwgdXNlQ2xpY2tPdXRzaWRlRXZlbnQodDEsIHQyKTtcbiAgbGV0IHQzO1xuICAkWzNdICE9PSB0ID8gKHQzID0gdChcInNldHRpbmdzLnBlcnNwZWN0aXZlcy50aXRsZVwiKSwgJFszXSA9IHQsICRbNF0gPSB0MykgOiB0MyA9ICRbNF07XG4gIGxldCB0NDtcbiAgJFs1XSAhPT0gdDMgPyAodDQgPSAvKiBAX19QVVJFX18gKi8ganN4KElubGluZSwgeyBzcGFjZTogMiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyB3ZWlnaHQ6IFwibWVkaXVtXCIsIGNoaWxkcmVuOiB0MyB9KSB9KSwgJFs1XSA9IHQzLCAkWzZdID0gdDQpIDogdDQgPSAkWzZdO1xuICBsZXQgdDU7XG4gICRbN10gIT09IHQgPyAodDUgPSB0KFwic2V0dGluZ3MucGVyc3BlY3RpdmVzLmRlc2NyaXB0aW9uXCIpLCAkWzddID0gdCwgJFs4XSA9IHQ1KSA6IHQ1ID0gJFs4XTtcbiAgbGV0IHQ2O1xuICAkWzldICE9PSB0NSA/ICh0NiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IHQ1IH0pIH0pLCAkWzldID0gdDUsICRbMTBdID0gdDYpIDogdDYgPSAkWzEwXTtcbiAgbGV0IHQ3O1xuICAkWzExXSAhPT0gdCA/ICh0NyA9IHQoXCJsYWJlbC5uZXdcIiksICRbMTFdID0gdCwgJFsxMl0gPSB0NykgOiB0NyA9ICRbMTJdO1xuICBsZXQgdDg7XG4gICRbMTNdICE9PSB0NyA/ICh0OCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJhZGdlLCB7IHRvbmU6IFwicHJpbWFyeVwiLCBjaGlsZHJlbjogdDcgfSkgfSksICRbMTNdID0gdDcsICRbMTRdID0gdDgpIDogdDggPSAkWzE0XTtcbiAgbGV0IHQ5O1xuICAkWzE1XSAhPT0gdCA/ICh0OSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBtdXRlZDogITAsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFRyYW5zbGF0ZSwgeyB0LCBpMThuS2V5OiBcInNldHRpbmdzLnBlcnNwZWN0aXZlLnByZXZpZXctZHJhZnRzLXJlbmFtZWQtdG8tZHJhZnRzLmRlc2NyaXB0aW9uXCIgfSkgfSksICRbMTVdID0gdCwgJFsxNl0gPSB0OSkgOiB0OSA9ICRbMTZdO1xuICBsZXQgdDEwO1xuICAkWzE3XSAhPT0gdDggfHwgJFsxOF0gIT09IHQ5ID8gKHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgc3BhY2U6IDIsIGNoaWxkcmVuOiBbXG4gICAgdDgsXG4gICAgdDlcbiAgXSB9KSB9KSwgJFsxN10gPSB0OCwgJFsxOF0gPSB0OSwgJFsxOV0gPSB0MTApIDogdDEwID0gJFsxOV07XG4gIGxldCB0MTE7XG4gICRbMjBdICE9PSB0ID8gKHQxMSA9IG51bGwsICRbMjBdID0gdCwgJFsyMV0gPSB0MTEpIDogdDExID0gJFsyMV07XG4gIGxldCB0MTI7XG4gICRbMjJdICE9PSB0ID8gKHQxMiA9IHQoXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZXMuYWN0aW9uLmRvY3MtbGlua1wiKSwgJFsyMl0gPSB0LCAkWzIzXSA9IHQxMikgOiB0MTIgPSAkWzIzXTtcbiAgbGV0IHQxMztcbiAgJFsyNF0gIT09IHQxMiA/ICh0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4KENhcmQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoUGVyc3BlY3RpdmVQb3BvdmVyTGluaywgeyBocmVmOiBcImh0dHBzOi8vc2FuaXR5LmlvL2RvY3MvcGVyc3BlY3RpdmVzXCIsIHRhcmdldDogXCJfYmxhbmtcIiwgY2hpbGRyZW46IFtcbiAgICB0MTIsXG4gICAgXCIgXFx1MjE5MlwiXG4gIF0gfSkgfSkgfSksICRbMjRdID0gdDEyLCAkWzI1XSA9IHQxMykgOiB0MTMgPSAkWzI1XTtcbiAgbGV0IHQxNDtcbiAgJFsyNl0gIT09IHQxMCB8fCAkWzI3XSAhPT0gdDExIHx8ICRbMjhdICE9PSB0MTMgfHwgJFsyOV0gIT09IHQ0IHx8ICRbMzBdICE9PSB0NiA/ICh0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4KFBlcnNwZWN0aXZlUG9wb3ZlckNvbnRlbnQsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IHNwYWNlOiA0LCBjaGlsZHJlbjogW1xuICAgIHQ0LFxuICAgIHQ2LFxuICAgIHQxMCxcbiAgICB0MTEsXG4gICAgdDEzXG4gIF0gfSkgfSksICRbMjZdID0gdDEwLCAkWzI3XSA9IHQxMSwgJFsyOF0gPSB0MTMsICRbMjldID0gdDQsICRbMzBdID0gdDYsICRbMzFdID0gdDE0KSA6IHQxNCA9ICRbMzFdO1xuICBsZXQgdDE1O1xuICAkWzMyXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDE1ID0gLyogQF9fUFVSRV9fICovIGpzeChEb3QsIHsgJHRvbmU6IFwicHJpbWFyeVwiIH0pLCAkWzMyXSA9IHQxNSkgOiB0MTUgPSAkWzMyXTtcbiAgbGV0IHQxNjtcbiAgJFszM10gIT09IG9wZW4gPyAodDE2ID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgaWNvbjogSGVscENpcmNsZUljb24sIG1vZGU6IFwiYmxlZWRcIiwgcGFkZGluZzogMiwgcGFkZGluZ1JpZ2h0OiAxLCB0b25lOiBcInByaW1hcnlcIiwgZm9udFNpemU6IDEsIHJlZjogYnV0dG9uUmVmLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgc2VsZWN0ZWQ6IG9wZW4sIGNoaWxkcmVuOiB0MTUgfSksICRbMzNdID0gb3BlbiwgJFszNF0gPSB0MTYpIDogdDE2ID0gJFszNF07XG4gIGxldCB0MTc7XG4gIHJldHVybiAkWzM1XSAhPT0gb3BlbiB8fCAkWzM2XSAhPT0gdDE0IHx8ICRbMzddICE9PSB0MTYgPyAodDE3ID0gLyogQF9fUFVSRV9fICovIGpzeChQb3BvdmVyLCB7IGNvbnRlbnQ6IHQxNCwgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLCBwb3J0YWw6ICEwLCBwYWRkaW5nOiAzLCByZWY6IHBvcG92ZXJSZWYsIG9wZW4sIGNoaWxkcmVuOiB0MTYgfSksICRbMzVdID0gb3BlbiwgJFszNl0gPSB0MTQsICRbMzddID0gdDE2LCAkWzM4XSA9IHQxNykgOiB0MTcgPSAkWzM4XSwgdDE3O1xufVxuZnVuY3Rpb24gX3RlbXAkMihvKSB7XG4gIHJldHVybiAhbztcbn1cbmNvbnN0IFBpbm5lZFJlbGVhc2VQZXJzcGVjdGl2ZU9wdGlvbiA9ICh0MCkgPT4ge1xuICBjb25zdCAkID0gYyg5KSwge1xuICAgIHBpbm5lZFBlcnNwZWN0aXZlLFxuICAgIHRcbiAgfSA9IHQwLCBuYW1lID0gdHlwZW9mIHBpbm5lZFBlcnNwZWN0aXZlLnNlbGVjdGVkUGVyc3BlY3RpdmUgPT0gXCJvYmplY3RcIiA/IHBpbm5lZFBlcnNwZWN0aXZlLnNlbGVjdGVkUGVyc3BlY3RpdmUubWV0YWRhdGEudGl0bGUgOiBwaW5uZWRQZXJzcGVjdGl2ZS5zZWxlY3RlZFBlcnNwZWN0aXZlTmFtZTtcbiAgbGV0IHQxO1xuICAkWzBdICE9PSBwaW5uZWRQZXJzcGVjdGl2ZSB8fCAkWzFdICE9PSB0ID8gKHQxID0gaGFzUGlubmVkUGVyc3BlY3RpdmUocGlubmVkUGVyc3BlY3RpdmUpID8gYCgke3QoXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZXMucGlubmVkLXJlbGVhc2UtbGFiZWxcIil9KWAgOiB0KFwic2V0dGluZ3MucGVyc3BlY3RpdmVzLnBpbm5lZC1yZWxlYXNlLWxhYmVsXCIpLCAkWzBdID0gcGlubmVkUGVyc3BlY3RpdmUsICRbMV0gPSB0LCAkWzJdID0gdDEpIDogdDEgPSAkWzJdO1xuICBjb25zdCBsYWJlbCA9IHQxO1xuICBsZXQgdDIsIHQzO1xuICAkWzNdICE9PSBsYWJlbCB8fCAkWzRdICE9PSBuYW1lID8gKHQzID0gW25hbWUsIGxhYmVsXS5maWx0ZXIoX3RlbXAkMSksICRbM10gPSBsYWJlbCwgJFs0XSA9IG5hbWUsICRbNV0gPSB0MykgOiB0MyA9ICRbNV0sIHQyID0gdDMuam9pbihcIiBcIik7XG4gIGNvbnN0IHRleHQgPSB0MiwgdDQgPSAhaGFzUGlubmVkUGVyc3BlY3RpdmUocGlubmVkUGVyc3BlY3RpdmUpO1xuICBsZXQgdDU7XG4gIHJldHVybiAkWzZdICE9PSB0NCB8fCAkWzddICE9PSB0ZXh0ID8gKHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeChcIm9wdGlvblwiLCB7IHZhbHVlOiBcInBpbm5lZFJlbGVhc2VcIiwgZGlzYWJsZWQ6IHQ0LCBjaGlsZHJlbjogdGV4dCB9KSwgJFs2XSA9IHQ0LCAkWzddID0gdGV4dCwgJFs4XSA9IHQ1KSA6IHQ1ID0gJFs4XSwgdDU7XG59O1xuZnVuY3Rpb24gVmlzaW9uR3VpSGVhZGVyKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDY0KSwge1xuICAgIG9uQ2hhbmdlRGF0YXNldCxcbiAgICBkYXRhc2V0LFxuICAgIGN1c3RvbUFwaVZlcnNpb24sXG4gICAgYXBpVmVyc2lvbixcbiAgICBvbkNoYW5nZUFwaVZlcnNpb24sXG4gICAgZGF0YXNldHMsXG4gICAgY3VzdG9tQXBpVmVyc2lvbkVsZW1lbnRSZWYsXG4gICAgb25DdXN0b21BcGlWZXJzaW9uQ2hhbmdlLFxuICAgIGlzVmFsaWRBcGlWZXJzaW9uLFxuICAgIG9uQ2hhbmdlUGVyc3BlY3RpdmUsXG4gICAgdXJsLFxuICAgIHBlcnNwZWN0aXZlXG4gIH0gPSB0MCwgcGlubmVkUGVyc3BlY3RpdmUgPSB1c2VQZXJzcGVjdGl2ZSgpLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKSwgb3BlcmF0aW9uVXJsRWxlbWVudCA9IHVzZVJlZihudWxsKTtcbiAgbGV0IHQxO1xuICAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MSA9ICgpID0+IHtcbiAgICBjb25zdCBlbCA9IG9wZXJhdGlvblVybEVsZW1lbnQuY3VycmVudDtcbiAgICBpZiAoZWwpXG4gICAgICB0cnkge1xuICAgICAgICBlbC5zZWxlY3QoKSwgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gY29weSB0byBjbGlwYm9hcmQgOihcIik7XG4gICAgICB9XG4gIH0sICRbMF0gPSB0MSkgOiB0MSA9ICRbMF07XG4gIGNvbnN0IGhhbmRsZUNvcHlVcmwgPSB0MTtcbiAgbGV0IHQyO1xuICAkWzFdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MiA9IFsxLCA0LCA4LCAxMl0sICRbMV0gPSB0MikgOiB0MiA9ICRbMV07XG4gIGxldCB0MztcbiAgJFsyXSAhPT0gdCA/ICh0MyA9IHQoXCJzZXR0aW5ncy5kYXRhc2V0LWxhYmVsXCIpLCAkWzJdID0gdCwgJFszXSA9IHQzKSA6IHQzID0gJFszXTtcbiAgbGV0IHQ0O1xuICAkWzRdICE9PSB0MyA/ICh0NCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBwYWRkaW5nVG9wOiAyLCBwYWRkaW5nQm90dG9tOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTdHlsZWRMYWJlbCwgeyBjaGlsZHJlbjogdDMgfSkgfSksICRbNF0gPSB0MywgJFs1XSA9IHQ0KSA6IHQ0ID0gJFs1XTtcbiAgbGV0IHQ1O1xuICAkWzZdICE9PSBkYXRhc2V0cyA/ICh0NSA9IGRhdGFzZXRzLm1hcChfdGVtcDIkMSksICRbNl0gPSBkYXRhc2V0cywgJFs3XSA9IHQ1KSA6IHQ1ID0gJFs3XTtcbiAgbGV0IHQ2O1xuICAkWzhdICE9PSBkYXRhc2V0IHx8ICRbOV0gIT09IG9uQ2hhbmdlRGF0YXNldCB8fCAkWzEwXSAhPT0gdDUgPyAodDYgPSAvKiBAX19QVVJFX18gKi8ganN4KFNlbGVjdCwgeyB2YWx1ZTogZGF0YXNldCwgb25DaGFuZ2U6IG9uQ2hhbmdlRGF0YXNldCwgY2hpbGRyZW46IHQ1IH0pLCAkWzhdID0gZGF0YXNldCwgJFs5XSA9IG9uQ2hhbmdlRGF0YXNldCwgJFsxMF0gPSB0NSwgJFsxMV0gPSB0NikgOiB0NiA9ICRbMTFdO1xuICBsZXQgdDc7XG4gICRbMTJdICE9PSB0NCB8fCAkWzEzXSAhPT0gdDYgPyAodDcgPSAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBjb2x1bW46IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBjaGlsZHJlbjogW1xuICAgIHQ0LFxuICAgIHQ2XG4gIF0gfSkgfSksICRbMTJdID0gdDQsICRbMTNdID0gdDYsICRbMTRdID0gdDcpIDogdDcgPSAkWzE0XTtcbiAgbGV0IHQ4O1xuICAkWzE1XSAhPT0gdCA/ICh0OCA9IHQoXCJzZXR0aW5ncy5hcGktdmVyc2lvbi1sYWJlbFwiKSwgJFsxNV0gPSB0LCAkWzE2XSA9IHQ4KSA6IHQ4ID0gJFsxNl07XG4gIGxldCB0OTtcbiAgJFsxN10gIT09IHQ4ID8gKHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IHBhZGRpbmdUb3A6IDIsIHBhZGRpbmdCb3R0b206IDMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFN0eWxlZExhYmVsLCB7IGNoaWxkcmVuOiB0OCB9KSB9KSwgJFsxN10gPSB0OCwgJFsxOF0gPSB0OSkgOiB0OSA9ICRbMThdO1xuICBjb25zdCB0MTAgPSBjdXN0b21BcGlWZXJzaW9uID09PSAhMSA/IGFwaVZlcnNpb24gOiBcIm90aGVyXCI7XG4gIGxldCB0MTE7XG4gICRbMTldID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MTEgPSBBUElfVkVSU0lPTlMubWFwKF90ZW1wMyQxKSwgJFsxOV0gPSB0MTEpIDogdDExID0gJFsxOV07XG4gIGxldCB0MTI7XG4gICRbMjBdICE9PSB0ID8gKHQxMiA9IHQoXCJzZXR0aW5ncy5vdGhlci1hcGktdmVyc2lvbi1sYWJlbFwiKSwgJFsyMF0gPSB0LCAkWzIxXSA9IHQxMikgOiB0MTIgPSAkWzIxXTtcbiAgbGV0IHQxMztcbiAgJFsyMl0gIT09IHQxMiA/ICh0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4KFwib3B0aW9uXCIsIHsgdmFsdWU6IFwib3RoZXJcIiwgY2hpbGRyZW46IHQxMiB9LCBcIm90aGVyXCIpLCAkWzIyXSA9IHQxMiwgJFsyM10gPSB0MTMpIDogdDEzID0gJFsyM107XG4gIGxldCB0MTQ7XG4gICRbMjRdICE9PSBvbkNoYW5nZUFwaVZlcnNpb24gfHwgJFsyNV0gIT09IHQxMCB8fCAkWzI2XSAhPT0gdDEzID8gKHQxNCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFNlbGVjdCwgeyBcImRhdGEtdGVzdGlkXCI6IFwiYXBpLXZlcnNpb24tc2VsZWN0b3JcIiwgdmFsdWU6IHQxMCwgb25DaGFuZ2U6IG9uQ2hhbmdlQXBpVmVyc2lvbiwgY2hpbGRyZW46IFtcbiAgICB0MTEsXG4gICAgdDEzXG4gIF0gfSksICRbMjRdID0gb25DaGFuZ2VBcGlWZXJzaW9uLCAkWzI1XSA9IHQxMCwgJFsyNl0gPSB0MTMsICRbMjddID0gdDE0KSA6IHQxNCA9ICRbMjddO1xuICBsZXQgdDE1O1xuICAkWzI4XSAhPT0gdDE0IHx8ICRbMjldICE9PSB0OSA/ICh0MTUgPSAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBjb2x1bW46IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBjaGlsZHJlbjogW1xuICAgIHQ5LFxuICAgIHQxNFxuICBdIH0pIH0pLCAkWzI4XSA9IHQxNCwgJFsyOV0gPSB0OSwgJFszMF0gPSB0MTUpIDogdDE1ID0gJFszMF07XG4gIGxldCB0MTY7XG4gICRbMzFdICE9PSBjdXN0b21BcGlWZXJzaW9uIHx8ICRbMzJdICE9PSBjdXN0b21BcGlWZXJzaW9uRWxlbWVudFJlZiB8fCAkWzMzXSAhPT0gaXNWYWxpZEFwaVZlcnNpb24gfHwgJFszNF0gIT09IG9uQ3VzdG9tQXBpVmVyc2lvbkNoYW5nZSB8fCAkWzM1XSAhPT0gdCA/ICh0MTYgPSBjdXN0b21BcGlWZXJzaW9uICE9PSAhMSAmJiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBwYWRkaW5nOiAxLCBjb2x1bW46IDIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBwYWRkaW5nVG9wOiAyLCBwYWRkaW5nQm90dG9tOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTdHlsZWRMYWJlbCwgeyB0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIiwgY2hpbGRyZW46IHQoXCJzZXR0aW5ncy5jdXN0b20tYXBpLXZlcnNpb24tbGFiZWxcIikgfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChUZXh0SW5wdXQsIHsgcmVmOiBjdXN0b21BcGlWZXJzaW9uRWxlbWVudFJlZiwgdmFsdWU6IGN1c3RvbUFwaVZlcnNpb24sIG9uQ2hhbmdlOiBvbkN1c3RvbUFwaVZlcnNpb25DaGFuZ2UsIGN1c3RvbVZhbGlkaXR5OiBpc1ZhbGlkQXBpVmVyc2lvbiA/IHZvaWQgMCA6IHQoXCJzZXR0aW5ncy5lcnJvci5pbnZhbGlkLWFwaS12ZXJzaW9uXCIpLCBtYXhMZW5ndGg6IDExIH0pXG4gIF0gfSkgfSksICRbMzFdID0gY3VzdG9tQXBpVmVyc2lvbiwgJFszMl0gPSBjdXN0b21BcGlWZXJzaW9uRWxlbWVudFJlZiwgJFszM10gPSBpc1ZhbGlkQXBpVmVyc2lvbiwgJFszNF0gPSBvbkN1c3RvbUFwaVZlcnNpb25DaGFuZ2UsICRbMzVdID0gdCwgJFszNl0gPSB0MTYpIDogdDE2ID0gJFszNl07XG4gIGxldCB0MTc7XG4gICRbMzddICE9PSB0ID8gKHQxNyA9IHQoXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZS1sYWJlbFwiKSwgJFszN10gPSB0LCAkWzM4XSA9IHQxNykgOiB0MTcgPSAkWzM4XTtcbiAgbGV0IHQxODtcbiAgJFszOV0gIT09IHQxNyA/ICh0MTggPSAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTdHlsZWRMYWJlbCwgeyBjaGlsZHJlbjogdDE3IH0pIH0pLCAkWzM5XSA9IHQxNywgJFs0MF0gPSB0MTgpIDogdDE4ID0gJFs0MF07XG4gIGxldCB0MTk7XG4gICRbNDFdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MTkgPSAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQZXJzcGVjdGl2ZVBvcG92ZXIsIHt9KSB9KSwgJFs0MV0gPSB0MTkpIDogdDE5ID0gJFs0MV07XG4gIGxldCB0MjA7XG4gICRbNDJdICE9PSB0MTggPyAodDIwID0gLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IHBhZGRpbmdCb3R0b206IDEsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhJbmxpbmUsIHsgc3BhY2U6IDEsIGNoaWxkcmVuOiBbXG4gICAgdDE4LFxuICAgIHQxOVxuICBdIH0pIH0pLCAkWzQyXSA9IHQxOCwgJFs0M10gPSB0MjApIDogdDIwID0gJFs0M107XG4gIGNvbnN0IHQyMSA9IHBlcnNwZWN0aXZlIHx8IFwiZGVmYXVsdFwiO1xuICBsZXQgdDIyO1xuICAkWzQ0XSAhPT0gcGlubmVkUGVyc3BlY3RpdmUgfHwgJFs0NV0gIT09IHQgPyAodDIyID0gU1VQUE9SVEVEX1BFUlNQRUNUSVZFUy5tYXAoKHBlcnNwZWN0aXZlTmFtZSkgPT4gcGVyc3BlY3RpdmVOYW1lID09PSBcInBpbm5lZFJlbGVhc2VcIiA/IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChQaW5uZWRSZWxlYXNlUGVyc3BlY3RpdmVPcHRpb24sIHsgcGlubmVkUGVyc3BlY3RpdmUsIHQgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcIm9wdGlvblwiLCB7IHZhbHVlOiBcImRlZmF1bHRcIiwgY2hpbGRyZW46IHQoXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZXMuZGVmYXVsdFwiKSB9LCBcImRlZmF1bHRcIiksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcImhyXCIsIHt9KVxuICBdIH0sIFwicGlubmVkUmVsZWFzZVwiKSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJvcHRpb25cIiwgeyBjaGlsZHJlbjogcGVyc3BlY3RpdmVOYW1lIH0sIHBlcnNwZWN0aXZlTmFtZSkpLCAkWzQ0XSA9IHBpbm5lZFBlcnNwZWN0aXZlLCAkWzQ1XSA9IHQsICRbNDZdID0gdDIyKSA6IHQyMiA9ICRbNDZdO1xuICBsZXQgdDIzO1xuICAkWzQ3XSAhPT0gb25DaGFuZ2VQZXJzcGVjdGl2ZSB8fCAkWzQ4XSAhPT0gdDIxIHx8ICRbNDldICE9PSB0MjIgPyAodDIzID0gLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3QsIHsgdmFsdWU6IHQyMSwgb25DaGFuZ2U6IG9uQ2hhbmdlUGVyc3BlY3RpdmUsIGNoaWxkcmVuOiB0MjIgfSksICRbNDddID0gb25DaGFuZ2VQZXJzcGVjdGl2ZSwgJFs0OF0gPSB0MjEsICRbNDldID0gdDIyLCAkWzUwXSA9IHQyMykgOiB0MjMgPSAkWzUwXTtcbiAgbGV0IHQyNDtcbiAgJFs1MV0gIT09IHQyMCB8fCAkWzUyXSAhPT0gdDIzID8gKHQyNCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IHBhZGRpbmc6IDEsIGNvbHVtbjogMiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IGNoaWxkcmVuOiBbXG4gICAgdDIwLFxuICAgIHQyM1xuICBdIH0pIH0pLCAkWzUxXSA9IHQyMCwgJFs1Ml0gPSB0MjMsICRbNTNdID0gdDI0KSA6IHQyNCA9ICRbNTNdO1xuICBsZXQgdDI1O1xuICAkWzU0XSAhPT0gY3VzdG9tQXBpVmVyc2lvbiB8fCAkWzU1XSAhPT0gdCB8fCAkWzU2XSAhPT0gdXJsID8gKHQyNSA9IHR5cGVvZiB1cmwgPT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IHBhZGRpbmc6IDEsIGZsZXg6IDEsIGNvbHVtbjogY3VzdG9tQXBpVmVyc2lvbiA9PT0gITEgPyA2IDogNCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IHBhZGRpbmdUb3A6IDIsIHBhZGRpbmdCb3R0b206IDMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTdHlsZWRMYWJlbCwgeyBjaGlsZHJlbjogW1xuICAgICAgdChcInF1ZXJ5LnVybFwiKSxcbiAgICAgIFwiXFx4QTBcIixcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFF1ZXJ5Q29weUxpbmssIHsgb25DbGljazogaGFuZGxlQ29weVVybCwgY2hpbGRyZW46IFtcbiAgICAgICAgXCJbXCIsXG4gICAgICAgIHQoXCJhY3Rpb24uY29weS11cmwtdG8tY2xpcGJvYXJkXCIpLFxuICAgICAgICBcIl1cIlxuICAgICAgXSB9KVxuICAgIF0gfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoRmxleCwgeyBmbGV4OiAxLCBnYXA6IDEsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBmbGV4OiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0SW5wdXQsIHsgcmVhZE9ubHk6ICEwLCB0eXBlOiBcInVybFwiLCByZWY6IG9wZXJhdGlvblVybEVsZW1lbnQsIHZhbHVlOiB1cmwgfSkgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXAsIHsgY29udGVudDogdChcImFjdGlvbi5jb3B5LXVybC10by1jbGlwYm9hcmRcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyBcImFyaWEtbGFiZWxcIjogdChcImFjdGlvbi5jb3B5LXVybC10by1jbGlwYm9hcmRcIiksIHR5cGU6IFwiYnV0dG9uXCIsIG1vZGU6IFwiZ2hvc3RcIiwgaWNvbjogQ29weUljb24sIG9uQ2xpY2s6IGhhbmRsZUNvcHlVcmwgfSkgfSlcbiAgICBdIH0pXG4gIF0gfSkgfSkgOiAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBmbGV4OiAxIH0pLCAkWzU0XSA9IGN1c3RvbUFwaVZlcnNpb24sICRbNTVdID0gdCwgJFs1Nl0gPSB1cmwsICRbNTddID0gdDI1KSA6IHQyNSA9ICRbNTddO1xuICBsZXQgdDI2O1xuICByZXR1cm4gJFs1OF0gIT09IHQxNSB8fCAkWzU5XSAhPT0gdDE2IHx8ICRbNjBdICE9PSB0MjQgfHwgJFs2MV0gIT09IHQyNSB8fCAkWzYyXSAhPT0gdDcgPyAodDI2ID0gLyogQF9fUFVSRV9fICovIGpzeChIZWFkZXIsIHsgcGFkZGluZ1g6IDMsIHBhZGRpbmdZOiAyLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoR3JpZCwgeyBjb2x1bW5zOiB0MiwgY2hpbGRyZW46IFtcbiAgICB0NyxcbiAgICB0MTUsXG4gICAgdDE2LFxuICAgIHQyNCxcbiAgICB0MjVcbiAgXSB9KSB9KSwgJFs1OF0gPSB0MTUsICRbNTldID0gdDE2LCAkWzYwXSA9IHQyNCwgJFs2MV0gPSB0MjUsICRbNjJdID0gdDcsICRbNjNdID0gdDI2KSA6IHQyNiA9ICRbNjNdLCB0MjY7XG59XG5mdW5jdGlvbiBfdGVtcDMkMSh2ZXJzaW9uKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwib3B0aW9uXCIsIHsgY2hpbGRyZW46IHZlcnNpb24gfSwgdmVyc2lvbik7XG59XG5mdW5jdGlvbiBfdGVtcDIkMShkcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcIm9wdGlvblwiLCB7IGNoaWxkcmVuOiBkcyB9LCBkcyk7XG59XG5mdW5jdGlvbiBfdGVtcCQxKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPCBcInVcIjtcbn1cbmZ1bmN0aW9uIGdldEJsb2JVcmwoY29udGVudCwgbWltZVR5cGUpIHtcbiAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NvbnRlbnRdLCB7XG4gICAgdHlwZTogbWltZVR5cGVcbiAgfSkpO1xufVxuZnVuY3Rpb24gZ2V0TWVtb2l6ZWRCbG9iVXJsUmVzb2x2ZXIobWltZVR5cGUsIHN0cmluZ0VuY29kZXIpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4ge1xuICAgIGxldCBwcmV2UmVzdWx0ID0gXCJcIiwgcHJldkNvbnRlbnQgPSBcIlwiO1xuICAgIHJldHVybiAoaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBzdHJpbmdFbmNvZGVyKGlucHV0KTtcbiAgICAgIGlmICghKHR5cGVvZiBjb250ZW50ICE9IFwic3RyaW5nXCIgfHwgY29udGVudCA9PT0gXCJcIikpXG4gICAgICAgIHJldHVybiBjb250ZW50ID09PSBwcmV2Q29udGVudCB8fCAocHJldkNvbnRlbnQgPSBjb250ZW50LCBwcmV2UmVzdWx0ICYmIFVSTC5yZXZva2VPYmplY3RVUkwocHJldlJlc3VsdCksIHByZXZSZXN1bHQgPSBnZXRCbG9iVXJsKGNvbnRlbnQsIG1pbWVUeXBlKSksIHByZXZSZXN1bHQ7XG4gICAgfTtcbiAgfSkoKTtcbn1cbmNvbnN0IGdldEpzb25CbG9iVXJsID0gZ2V0TWVtb2l6ZWRCbG9iVXJsUmVzb2x2ZXIoXCJhcHBsaWNhdGlvbi9qc29uXCIsIChpbnB1dCkgPT4gSlNPTi5zdHJpbmdpZnkoaW5wdXQsIG51bGwsIDIpKSwgZ2V0Q3N2QmxvYlVybCA9IGdldE1lbW9pemVkQmxvYlVybFJlc29sdmVyKFwidGV4dC9jc3ZcIiwgKGlucHV0KSA9PiBqc29uMmNzdihBcnJheS5pc0FycmF5KGlucHV0KSA/IGlucHV0IDogW2lucHV0XSkudHJpbSgpKSwgRXJyb3JDb2RlID0gc3R5bGVkKENvZGUpYFxuICBjb2xvcjogJHsoe1xuICB0aGVtZVxufSkgPT4gdGhlbWUuc2FuaXR5LmNvbG9yLm11dGVkLmNyaXRpY2FsLmVuYWJsZWQuZmd9O1xuYDtcbmZ1bmN0aW9uIFF1ZXJ5RXJyb3JEZXRhaWxzKHQwKSB7XG4gIGNvbnN0ICQgPSBjKDcpLCB7XG4gICAgZXJyb3JcbiAgfSA9IHQwLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKTtcbiAgaWYgKCEoXCJkZXRhaWxzXCIgaW4gZXJyb3IpKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBkZXRhaWxzID0ge1xuICAgIC4uLmVycm9yLmRldGFpbHMsXG4gICAgLi4ubWFwVG9MZWdhY3lEZXRhaWxzKGVycm9yLmRldGFpbHMpXG4gIH07XG4gIGlmICghZGV0YWlscy5saW5lKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCB0MSA9IGAke2RldGFpbHMubGluZX1cbiR7ZGFzaExpbmUoZGV0YWlscy5jb2x1bW4sIGRldGFpbHMuY29sdW1uRW5kKX1gO1xuICBsZXQgdDI7XG4gICRbMF0gIT09IHQxID8gKHQyID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvckNvZGUsIHsgc2l6ZTogMSwgY2hpbGRyZW46IHQxIH0pLCAkWzBdID0gdDEsICRbMV0gPSB0MikgOiB0MiA9ICRbMV07XG4gIGNvbnN0IHQzID0gYCR7dChcInF1ZXJ5LmVycm9yLmxpbmVcIil9OiAgICR7ZGV0YWlscy5saW5lTnVtYmVyfVxuJHt0KFwicXVlcnkuZXJyb3IuY29sdW1uXCIpfTogJHtkZXRhaWxzLmNvbHVtbn1gO1xuICBsZXQgdDQ7XG4gICRbMl0gIT09IHQzID8gKHQ0ID0gLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgbWFyZ2luVG9wOiA0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChFcnJvckNvZGUsIHsgc2l6ZTogMSwgY2hpbGRyZW46IHQzIH0pIH0pLCAkWzJdID0gdDMsICRbM10gPSB0NCkgOiB0NCA9ICRbM107XG4gIGxldCB0NTtcbiAgcmV0dXJuICRbNF0gIT09IHQyIHx8ICRbNV0gIT09IHQ0ID8gKHQ1ID0gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW1xuICAgIHQyLFxuICAgIHQ0XG4gIF0gfSksICRbNF0gPSB0MiwgJFs1XSA9IHQ0LCAkWzZdID0gdDUpIDogdDUgPSAkWzZdLCB0NTtcbn1cbmZ1bmN0aW9uIG1hcFRvTGVnYWN5RGV0YWlscyhkZXRhaWxzKSB7XG4gIGlmICghZGV0YWlscyB8fCB0eXBlb2YgZGV0YWlscy5xdWVyeSAhPSBcInN0cmluZ1wiIHx8IHR5cGVvZiBkZXRhaWxzLnN0YXJ0ICE9IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIHt9O1xuICBjb25zdCB7XG4gICAgcXVlcnksXG4gICAgc3RhcnQsXG4gICAgZW5kXG4gIH0gPSBkZXRhaWxzLCBsaW5lU3RhcnQgPSBxdWVyeS5zbGljZSgwLCBzdGFydCkubGFzdEluZGV4T2YoYFxuYCkgKyAxLCBsaW5lTnVtYmVyID0gKHF1ZXJ5LnNsaWNlKDAsIGxpbmVTdGFydCkubWF0Y2goL1xcbi9nKSB8fCBbXSkubGVuZ3RoLCBsaW5lID0gcXVlcnkuc2xpY2UobGluZVN0YXJ0LCBxdWVyeS5pbmRleE9mKGBcbmAsIGxpbmVTdGFydCkpLCBjb2x1bW4gPSBzdGFydCAtIGxpbmVTdGFydCwgY29sdW1uRW5kID0gdHlwZW9mIGVuZCA9PSBcIm51bWJlclwiID8gZW5kIC0gbGluZVN0YXJ0IDogdm9pZCAwO1xuICByZXR1cm4ge1xuICAgIGxpbmUsXG4gICAgbGluZU51bWJlcixcbiAgICBjb2x1bW4sXG4gICAgY29sdW1uRW5kXG4gIH07XG59XG5mdW5jdGlvbiBkYXNoTGluZShjb2x1bW4sIGNvbHVtbkVuZCkge1xuICBjb25zdCBsaW5lID0gXCItXCIucmVwZWF0KGNvbHVtbiksIGhhdHMgPSBcIl5cIi5yZXBlYXQoY29sdW1uRW5kID8gY29sdW1uRW5kIC0gY29sdW1uIDogMSk7XG4gIHJldHVybiBgJHtsaW5lfSR7aGF0c31gO1xufVxuZnVuY3Rpb24gUXVlcnlFcnJvckRpYWxvZyhwcm9wcykge1xuICBjb25zdCAkID0gYyg3KTtcbiAgbGV0IHQwO1xuICAkWzBdICE9PSBwcm9wcy5lcnJvci5tZXNzYWdlID8gKHQwID0gLyogQF9fUFVSRV9fICovIGpzeChFcnJvckNvZGUsIHsgc2l6ZTogMSwgY2hpbGRyZW46IHByb3BzLmVycm9yLm1lc3NhZ2UgfSksICRbMF0gPSBwcm9wcy5lcnJvci5tZXNzYWdlLCAkWzFdID0gdDApIDogdDAgPSAkWzFdO1xuICBsZXQgdDE7XG4gICRbMl0gIT09IHByb3BzLmVycm9yID8gKHQxID0gLyogQF9fUFVSRV9fICovIGpzeChRdWVyeUVycm9yRGV0YWlscywgeyBlcnJvcjogcHJvcHMuZXJyb3IgfSksICRbMl0gPSBwcm9wcy5lcnJvciwgJFszXSA9IHQxKSA6IHQxID0gJFszXTtcbiAgbGV0IHQyO1xuICByZXR1cm4gJFs0XSAhPT0gdDAgfHwgJFs1XSAhPT0gdDEgPyAodDIgPSAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBzcGFjZTogNSwgbWFyZ2luVG9wOiAyLCBjaGlsZHJlbjogW1xuICAgIHQwLFxuICAgIHQxXG4gIF0gfSksICRbNF0gPSB0MCwgJFs1XSA9IHQxLCAkWzZdID0gdDIpIDogdDIgPSAkWzZdLCB0Mjtcbn1cbmNvbnN0IFJlc3VsdFZpZXdXcmFwcGVyID0gc3R5bGVkLmRpdigoe1xuICB0aGVtZVxufSkgPT4ge1xuICBjb25zdCB7XG4gICAgY29sb3IsXG4gICAgZm9udHMsXG4gICAgc3BhY2VcbiAgfSA9IHRoZW1lLnNhbml0eTtcbiAgcmV0dXJuIGNzc2BcbiAgICAmIC5qc29uLWluc3BlY3RvcixcbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3NlbGVjdGlvbiB7XG4gICAgICBmb250LWZhbWlseTogJHtmb250cy5jb2RlLmZhbWlseX07XG4gICAgICBmb250LXNpemU6ICR7Zm9udHMuY29kZS5zaXplc1syXS5mb250U2l6ZX1weDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAke2ZvbnRzLmNvZGUuc2l6ZXNbMl0ubGluZUhlaWdodH1weDtcbiAgICAgIGNvbG9yOiB2YXIoLS1jYXJkLWNvZGUtZmctY29sb3IpO1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fbGVhZiB7XG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7cmVtKHNwYWNlWzRdKX07XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19sZWFmLmpzb24taW5zcGVjdG9yX19sZWFmX3Jvb3Qge1xuICAgICAgcGFkZGluZy10b3A6ICR7cmVtKHNwYWNlWzBdKX07XG4gICAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgPiAuanNvbi1pbnNwZWN0b3JfX2xlYWZfcm9vdCA+IC5qc29uLWluc3BlY3Rvcl9fbGluZSA+IC5qc29uLWluc3BlY3Rvcl9fa2V5IHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19saW5lIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fbGluZTo6YWZ0ZXIge1xuICAgICAgY29udGVudDogJyc7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAtMjAwcHg7XG4gICAgICByaWdodDogLTUwcHg7XG4gICAgICBib3R0b206IDA7XG4gICAgICB6LWluZGV4OiAtMTtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fbGluZTpob3Zlcjo6YWZ0ZXIge1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tY2FyZC1jb2RlLWJnLWNvbG9yKTtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2xlYWZfY29tcG9zaXRlID4gLmpzb24taW5zcGVjdG9yX19saW5lIHtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2xlYWZfY29tcG9zaXRlID4gLmpzb24taW5zcGVjdG9yX19saW5lOjpiZWZvcmUge1xuICAgICAgY29udGVudDogJ+KWuCAnO1xuICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoMHB4IC0gJHtyZW0oc3BhY2VbNF0pfSk7XG4gICAgICBmb250LXNpemU6ICR7Zm9udHMuY29kZS5zaXplc1syXS5mb250U2l6ZX1weDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAke2ZvbnRzLmNvZGUuc2l6ZXNbMl0ubGluZUhlaWdodH1weDtcbiAgICB9XG5cbiAgICAmXG4gICAgICAuanNvbi1pbnNwZWN0b3JcbiAgICAgIC5qc29uLWluc3BlY3Rvcl9fbGVhZl9leHBhbmRlZC5qc29uLWluc3BlY3Rvcl9fbGVhZl9jb21wb3NpdGVcbiAgICAgID4gLmpzb24taW5zcGVjdG9yX19saW5lOjpiZWZvcmUge1xuICAgICAgY29udGVudDogJ+KWviAnO1xuICAgICAgZm9udC1zaXplOiAke2ZvbnRzLmNvZGUuc2l6ZXNbMl0uZm9udFNpemV9cHg7XG4gICAgICBsaW5lLWhlaWdodDogJHtmb250cy5jb2RlLnNpemVzWzJdLmxpbmVIZWlnaHR9cHg7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19yYWRpbyxcbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2ZsYXRwYXRoIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX192YWx1ZSB7XG4gICAgICBtYXJnaW4tbGVmdDogJHtyZW0oc3BhY2VbNF0gLyAyKX07XG4gICAgfVxuXG4gICAgJlxuICAgICAgLmpzb24taW5zcGVjdG9yXG4gICAgICA+IC5qc29uLWluc3BlY3Rvcl9fbGVhZl9yb290XG4gICAgICA+IC5qc29uLWluc3BlY3Rvcl9fbGluZVxuICAgICAgPiAuanNvbi1pbnNwZWN0b3JfX2tleVxuICAgICAgKyAuanNvbi1pbnNwZWN0b3JfX3ZhbHVlIHtcbiAgICAgIG1hcmdpbjogMDtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX2tleSB7XG4gICAgICBjb2xvcjogJHtjb2xvci5zeW50YXgucHJvcGVydHl9O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fdmFsdWVfaGVscGVyLFxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fdmFsdWVfbnVsbCB7XG4gICAgICBjb2xvcjogJHtjb2xvci5zeW50YXguY29uc3RhbnR9O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fbm90LWZvdW5kIHtcbiAgICAgIHBhZGRpbmctdG9wOiAke3JlbShzcGFjZVsyXSl9O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fdmFsdWVfc3RyaW5nIHtcbiAgICAgIGNvbG9yOiAke2NvbG9yLnN5bnRheC5zdHJpbmd9O1xuICAgICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3ZhbHVlX2Jvb2xlYW4ge1xuICAgICAgY29sb3I6ICR7Y29sb3Iuc3ludGF4LmJvb2xlYW59O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fdmFsdWVfbnVtYmVyIHtcbiAgICAgIGNvbG9yOiAke2NvbG9yLnN5bnRheC5udW1iZXJ9O1xuICAgIH1cblxuICAgICYgLmpzb24taW5zcGVjdG9yIC5qc29uLWluc3BlY3Rvcl9fc2hvdy1vcmlnaW5hbCB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBwYWRkaW5nOiAwIDZweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAmIC5qc29uLWluc3BlY3RvciAuanNvbi1pbnNwZWN0b3JfX3Nob3ctb3JpZ2luYWw6aG92ZXIge1xuICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19zaG93LW9yaWdpbmFsOjpiZWZvcmUge1xuICAgICAgY29udGVudDogJ+KGlCc7XG4gICAgfVxuXG4gICAgJiAuanNvbi1pbnNwZWN0b3IgLmpzb24taW5zcGVjdG9yX19zaG93LW9yaWdpbmFsOmhvdmVyOjphZnRlciB7XG4gICAgICBjb250ZW50OiAnIGV4cGFuZCc7XG4gICAgfVxuICBgO1xufSksIGxydSA9IG5ldyBMUlUoe1xuICBtYXhTaXplOiA1ZTRcbn0pO1xuZnVuY3Rpb24gUmVzdWx0Vmlldyhwcm9wcykge1xuICBjb25zdCAkID0gYyg3KSwge1xuICAgIGRhdGEsXG4gICAgZGF0YXNldE5hbWVcbiAgfSA9IHByb3BzLCB3b3Jrc3BhY2VEYXRhc2V0ID0gdXNlRGF0YXNldCgpO1xuICBpZiAoaXNSZWNvcmQoZGF0YSkgfHwgQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgIGNvbnN0IHQwMiA9IHdvcmtzcGFjZURhdGFzZXQgPT09IGRhdGFzZXROYW1lID8gRG9jdW1lbnRFZGl0TGFiZWwgOiB2b2lkIDA7XG4gICAgbGV0IHQxMjtcbiAgICByZXR1cm4gJFswXSAhPT0gZGF0YSB8fCAkWzFdICE9PSB0MDIgPyAodDEyID0gLyogQF9fUFVSRV9fICovIGpzeChSZXN1bHRWaWV3V3JhcHBlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChKc29uSW5zcGVjdG9yLCB7IGRhdGEsIHNlYXJjaDogITEsIGlzRXhwYW5kZWQsIG9uQ2xpY2s6IHRvZ2dsZUV4cGFuZGVkLCBpbnRlcmFjdGl2ZUxhYmVsOiB0MDIgfSkgfSksICRbMF0gPSBkYXRhLCAkWzFdID0gdDAyLCAkWzJdID0gdDEyKSA6IHQxMiA9ICRbMl0sIHQxMjtcbiAgfVxuICBsZXQgdDA7XG4gICRbM10gIT09IGRhdGEgPyAodDAgPSBKU09OLnN0cmluZ2lmeShkYXRhKSwgJFszXSA9IGRhdGEsICRbNF0gPSB0MCkgOiB0MCA9ICRbNF07XG4gIGxldCB0MTtcbiAgcmV0dXJuICRbNV0gIT09IHQwID8gKHQxID0gLyogQF9fUFVSRV9fICovIGpzeChDb2RlLCB7IGxhbmd1YWdlOiBcImpzb25cIiwgY2hpbGRyZW46IHQwIH0pLCAkWzVdID0gdDAsICRbNl0gPSB0MSkgOiB0MSA9ICRbNl0sIHQxO1xufVxuZnVuY3Rpb24gRG9jdW1lbnRFZGl0TGFiZWwocHJvcHMpIHtcbiAgY29uc3QgJCA9IGMoNSk7XG4gIGlmIChwcm9wcy5pc0tleSB8fCAhcHJvcHMua2V5cGF0aC5lbmRzV2l0aChcIl9pZFwiKSAmJiAhcHJvcHMua2V5cGF0aC5lbmRzV2l0aChcIl9yZWZcIikpXG4gICAgcmV0dXJuIG51bGw7XG4gIGxldCB0MDtcbiAgJFswXSAhPT0gcHJvcHMudmFsdWUgPyAodDAgPSB7XG4gICAgaWQ6IHByb3BzLnZhbHVlXG4gIH0sICRbMF0gPSBwcm9wcy52YWx1ZSwgJFsxXSA9IHQwKSA6IHQwID0gJFsxXTtcbiAgbGV0IHQxO1xuICAkWzJdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goTGlua0ljb24sIHt9KSwgJFsyXSA9IHQxKSA6IHQxID0gJFsyXTtcbiAgbGV0IHQyO1xuICByZXR1cm4gJFszXSAhPT0gdDAgPyAodDIgPSAvKiBAX19QVVJFX18gKi8ganN4KEludGVudExpbmssIHsgaW50ZW50OiBcImVkaXRcIiwgcGFyYW1zOiB0MCwgY2hpbGRyZW46IHQxIH0pLCAkWzNdID0gdDAsICRbNF0gPSB0MikgOiB0MiA9ICRbNF0sIHQyO1xufVxuZnVuY3Rpb24gaXNFeHBhbmRlZChrZXlQYXRoLCB2YWx1ZSkge1xuICBjb25zdCBjYWNoZWQgPSBscnUuZ2V0KGtleVBhdGgpO1xuICBpZiAodHlwZW9mIGNhY2hlZCA9PSBcImJvb2xlYW5cIilcbiAgICByZXR1cm4gY2FjaGVkO1xuICBjb25zdCBzZWdtZW50cyA9IGtleVBhdGguc3BsaXQoXCIuXCIsIDQpO1xuICByZXR1cm4gc2VnbWVudHMubGVuZ3RoID09PSA0ID8gITEgOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/ICEwIDogaXNSZWNvcmQodmFsdWUpICYmICFzZWdtZW50cy5zb21lKChrZXkpID0+IGlzQXJyYXlLZXlPdmVyTGltaXQoa2V5KSk7XG59XG5mdW5jdGlvbiB0b2dnbGVFeHBhbmRlZChldmVudCkge1xuICBjb25zdCB7XG4gICAgcGF0aFxuICB9ID0gZXZlbnQsIGN1cnJlbnQgPSBscnUuZ2V0KHBhdGgpO1xuICBjdXJyZW50ICE9PSB2b2lkIDAgJiYgbHJ1LnNldChwYXRoLCAhY3VycmVudCk7XG59XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuY29uc3QgbnVtZXJpYyA9IC9eXFxkKyQvO1xuZnVuY3Rpb24gaXNBcnJheUtleU92ZXJMaW1pdChzZWdtZW50LCBsaW1pdCA9IDEwKSB7XG4gIHJldHVybiBudW1lcmljLnRlc3Qoc2VnbWVudCkgJiYgcGFyc2VJbnQoc2VnbWVudCwgMTApID4gbGltaXQ7XG59XG5mdW5jdGlvbiBwcmV2ZW50U2F2ZShldnQpIHtcbiAgcmV0dXJuIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuZnVuY3Rpb24gU2F2ZUNzdkJ1dHRvbih0MCkge1xuICBjb25zdCAkID0gYyg5KSwge1xuICAgIGJsb2JVcmxcbiAgfSA9IHQwLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKSwgaXNEaXNhYmxlZCA9ICFibG9iVXJsLCB0MSA9IGlzRGlzYWJsZWQgPyB2b2lkIDAgOiBcInF1ZXJ5LXJlc3VsdC5jc3ZcIiwgdDIgPSBpc0Rpc2FibGVkID8gcHJldmVudFNhdmUgOiB2b2lkIDA7XG4gIGxldCB0MztcbiAgJFswXSAhPT0gYmxvYlVybCB8fCAkWzFdICE9PSBpc0Rpc2FibGVkIHx8ICRbMl0gIT09IHQxIHx8ICRbM10gIT09IHQyID8gKHQzID0gLyogQF9fUFVSRV9fICovIGpzeChCdXR0b24sIHsgYXM6IFwiYVwiLCBkaXNhYmxlZDogaXNEaXNhYmxlZCwgZG93bmxvYWQ6IHQxLCBocmVmOiBibG9iVXJsLCBpY29uOiBEb2N1bWVudFNoZWV0SWNvbiwgbW9kZTogXCJnaG9zdFwiLCBvbkNsaWNrOiB0MiwgdGV4dDogXCJDU1ZcIiwgdG9uZTogXCJkZWZhdWx0XCIgfSksICRbMF0gPSBibG9iVXJsLCAkWzFdID0gaXNEaXNhYmxlZCwgJFsyXSA9IHQxLCAkWzNdID0gdDIsICRbNF0gPSB0MykgOiB0MyA9ICRbNF07XG4gIGNvbnN0IGJ1dHRvbiA9IHQzO1xuICBsZXQgdDQ7XG4gIHJldHVybiAkWzVdICE9PSBidXR0b24gfHwgJFs2XSAhPT0gaXNEaXNhYmxlZCB8fCAkWzddICE9PSB0ID8gKHQ0ID0gaXNEaXNhYmxlZCA/IC8qIEBfX1BVUkVfXyAqLyBqc3goVG9vbHRpcCwgeyBjb250ZW50OiB0KFwicmVzdWx0LnNhdmUtcmVzdWx0LWFzLWNzdi5ub3QtY3N2LWVuY29kYWJsZVwiKSwgcGxhY2VtZW50OiBcInRvcFwiLCBjaGlsZHJlbjogYnV0dG9uIH0pIDogYnV0dG9uLCAkWzVdID0gYnV0dG9uLCAkWzZdID0gaXNEaXNhYmxlZCwgJFs3XSA9IHQsICRbOF0gPSB0NCkgOiB0NCA9ICRbOF0sIHQ0O1xufVxuZnVuY3Rpb24gU2F2ZUpzb25CdXR0b24odDApIHtcbiAgY29uc3QgJCA9IGMoMiksIHtcbiAgICBibG9iVXJsXG4gIH0gPSB0MDtcbiAgbGV0IHQxO1xuICByZXR1cm4gJFswXSAhPT0gYmxvYlVybCA/ICh0MSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IGFzOiBcImFcIiwgZG93bmxvYWQ6IFwicXVlcnktcmVzdWx0Lmpzb25cIiwgaHJlZjogYmxvYlVybCwgaWNvbjogRG9jdW1lbnRTaGVldEljb24sIG1vZGU6IFwiZ2hvc3RcIiwgdGV4dDogXCJKU09OXCIsIHRvbmU6IFwiZGVmYXVsdFwiIH0pLCAkWzBdID0gYmxvYlVybCwgJFsxXSA9IHQxKSA6IHQxID0gJFsxXSwgdDE7XG59XG5mdW5jdGlvbiBWaXNpb25HdWlSZXN1bHQodDApIHtcbiAgY29uc3QgJCA9IGMoNjcpLCB7XG4gICAgZXJyb3IsXG4gICAgcXVlcnlJblByb2dyZXNzLFxuICAgIHF1ZXJ5UmVzdWx0LFxuICAgIGxpc3RlbkluUHJvZ3Jlc3MsXG4gICAgbGlzdGVuTXV0YXRpb25zLFxuICAgIGRhdGFzZXQsXG4gICAgcXVlcnlUaW1lLFxuICAgIGUyZVRpbWVcbiAgfSA9IHQwLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24odmlzaW9uTG9jYWxlTmFtZXNwYWNlKSwgaGFzUmVzdWx0ID0gIWVycm9yICYmICFxdWVyeUluUHJvZ3Jlc3MgJiYgdHlwZW9mIHF1ZXJ5UmVzdWx0IDwgXCJ1XCI7XG4gIGxldCB0MTtcbiAgJFswXSAhPT0gaGFzUmVzdWx0IHx8ICRbMV0gIT09IHF1ZXJ5UmVzdWx0ID8gKHQxID0gaGFzUmVzdWx0ID8gZ2V0SnNvbkJsb2JVcmwocXVlcnlSZXN1bHQpIDogXCJcIiwgJFswXSA9IGhhc1Jlc3VsdCwgJFsxXSA9IHF1ZXJ5UmVzdWx0LCAkWzJdID0gdDEpIDogdDEgPSAkWzJdO1xuICBjb25zdCBqc29uVXJsID0gdDE7XG4gIGxldCB0MjtcbiAgJFszXSAhPT0gaGFzUmVzdWx0IHx8ICRbNF0gIT09IHF1ZXJ5UmVzdWx0ID8gKHQyID0gaGFzUmVzdWx0ID8gZ2V0Q3N2QmxvYlVybChxdWVyeVJlc3VsdCkgOiBcIlwiLCAkWzNdID0gaGFzUmVzdWx0LCAkWzRdID0gcXVlcnlSZXN1bHQsICRbNV0gPSB0MikgOiB0MiA9ICRbNV07XG4gIGNvbnN0IGNzdlVybCA9IHQyLCB0MyA9IGVycm9yID8gXCJjcml0aWNhbFwiIDogXCJkZWZhdWx0XCIsIHQ0ID0gISFlcnJvcjtcbiAgbGV0IHQ1O1xuICAkWzZdICE9PSB0ID8gKHQ1ID0gdChcInJlc3VsdC5sYWJlbFwiKSwgJFs2XSA9IHQsICRbN10gPSB0NSkgOiB0NSA9ICRbN107XG4gIGxldCB0NjtcbiAgJFs4XSAhPT0gdDUgPyAodDYgPSAvKiBAX19QVVJFX18gKi8ganN4KElucHV0QmFja2dyb3VuZENvbnRhaW5lciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgbWFyZ2luTGVmdDogMywgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3R5bGVkTGFiZWwsIHsgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogdDUgfSkgfSkgfSksICRbOF0gPSB0NSwgJFs5XSA9IHQ2KSA6IHQ2ID0gJFs5XTtcbiAgbGV0IHQ3O1xuICAkWzEwXSAhPT0gbGlzdGVuSW5Qcm9ncmVzcyB8fCAkWzExXSAhPT0gbGlzdGVuTXV0YXRpb25zIHx8ICRbMTJdICE9PSBxdWVyeUluUHJvZ3Jlc3MgPyAodDcgPSAocXVlcnlJblByb2dyZXNzIHx8IGxpc3RlbkluUHJvZ3Jlc3MgJiYgbGlzdGVuTXV0YXRpb25zLmxlbmd0aCA9PT0gMCkgJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgbWFyZ2luVG9wOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChEZWxheWVkU3Bpbm5lciwge30pIH0pLCAkWzEwXSA9IGxpc3RlbkluUHJvZ3Jlc3MsICRbMTFdID0gbGlzdGVuTXV0YXRpb25zLCAkWzEyXSA9IHF1ZXJ5SW5Qcm9ncmVzcywgJFsxM10gPSB0NykgOiB0NyA9ICRbMTNdO1xuICBsZXQgdDg7XG4gICRbMTRdICE9PSBlcnJvciA/ICh0OCA9IGVycm9yICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUXVlcnlFcnJvckRpYWxvZywgeyBlcnJvciB9KSwgJFsxNF0gPSBlcnJvciwgJFsxNV0gPSB0OCkgOiB0OCA9ICRbMTVdO1xuICBsZXQgdDk7XG4gICRbMTZdICE9PSBkYXRhc2V0IHx8ICRbMTddICE9PSBoYXNSZXN1bHQgfHwgJFsxOF0gIT09IHF1ZXJ5UmVzdWx0ID8gKHQ5ID0gaGFzUmVzdWx0ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVzdWx0VmlldywgeyBkYXRhOiBxdWVyeVJlc3VsdCwgZGF0YXNldE5hbWU6IGRhdGFzZXQgfSksICRbMTZdID0gZGF0YXNldCwgJFsxN10gPSBoYXNSZXN1bHQsICRbMThdID0gcXVlcnlSZXN1bHQsICRbMTldID0gdDkpIDogdDkgPSAkWzE5XTtcbiAgbGV0IHQxMDtcbiAgJFsyMF0gIT09IGRhdGFzZXQgfHwgJFsyMV0gIT09IGxpc3RlbkluUHJvZ3Jlc3MgfHwgJFsyMl0gIT09IGxpc3Rlbk11dGF0aW9ucyA/ICh0MTAgPSBsaXN0ZW5JblByb2dyZXNzICYmIGxpc3Rlbk11dGF0aW9ucy5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVzdWx0VmlldywgeyBkYXRhOiBsaXN0ZW5NdXRhdGlvbnMsIGRhdGFzZXROYW1lOiBkYXRhc2V0IH0pLCAkWzIwXSA9IGRhdGFzZXQsICRbMjFdID0gbGlzdGVuSW5Qcm9ncmVzcywgJFsyMl0gPSBsaXN0ZW5NdXRhdGlvbnMsICRbMjNdID0gdDEwKSA6IHQxMCA9ICRbMjNdO1xuICBsZXQgdDExO1xuICAkWzI0XSAhPT0gdDEwIHx8ICRbMjVdICE9PSB0NyB8fCAkWzI2XSAhPT0gdDggfHwgJFsyN10gIT09IHQ5ID8gKHQxMSA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJveCwgeyBwYWRkaW5nOiAzLCBwYWRkaW5nVG9wOiA1LCBjaGlsZHJlbjogW1xuICAgIHQ3LFxuICAgIHQ4LFxuICAgIHQ5LFxuICAgIHQxMFxuICBdIH0pLCAkWzI0XSA9IHQxMCwgJFsyNV0gPSB0NywgJFsyNl0gPSB0OCwgJFsyN10gPSB0OSwgJFsyOF0gPSB0MTEpIDogdDExID0gJFsyOF07XG4gIGxldCB0MTI7XG4gICRbMjldICE9PSB0MTEgfHwgJFszMF0gIT09IHQ2ID8gKHQxMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFJlc3VsdCwgeyBvdmVyZmxvdzogXCJhdXRvXCIsIGNoaWxkcmVuOiBbXG4gICAgdDYsXG4gICAgdDExXG4gIF0gfSksICRbMjldID0gdDExLCAkWzMwXSA9IHQ2LCAkWzMxXSA9IHQxMikgOiB0MTIgPSAkWzMxXTtcbiAgbGV0IHQxMztcbiAgJFszMl0gIT09IHQxMiB8fCAkWzMzXSAhPT0gdDMgfHwgJFszNF0gIT09IHQ0ID8gKHQxMyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVzdWx0SW5uZXJDb250YWluZXIsIHsgZmxleDogMSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUmVzdWx0Q29udGFpbmVyLCB7IGZsZXg6IDEsIG92ZXJmbG93OiBcImhpZGRlblwiLCB0b25lOiB0MywgJGlzSW52YWxpZDogdDQsIGNoaWxkcmVuOiB0MTIgfSkgfSksICRbMzJdID0gdDEyLCAkWzMzXSA9IHQzLCAkWzM0XSA9IHQ0LCAkWzM1XSA9IHQxMykgOiB0MTMgPSAkWzM1XTtcbiAgbGV0IHQxNDtcbiAgJFszNl0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpID8gKHQxNCA9IFtcImNvbHVtblwiLCBcImNvbHVtblwiLCBcInJvd1wiXSwgJFszNl0gPSB0MTQpIDogdDE0ID0gJFszNl07XG4gIGxldCB0MTU7XG4gICRbMzddICE9PSB0ID8gKHQxNSA9IHQoXCJyZXN1bHQuZXhlY3V0aW9uLXRpbWUtbGFiZWxcIiksICRbMzddID0gdCwgJFszOF0gPSB0MTUpIDogdDE1ID0gJFszOF07XG4gIGxldCB0MTY7XG4gICRbMzldICE9PSBxdWVyeVRpbWUgfHwgJFs0MF0gIT09IHQgPyAodDE2ID0gdHlwZW9mIHF1ZXJ5VGltZSA9PSBcIm51bWJlclwiID8gYCR7cXVlcnlUaW1lfW1zYCA6IHQoXCJyZXN1bHQudGltaW5nLW5vdC1hcHBsaWNhYmxlXCIpLCAkWzM5XSA9IHF1ZXJ5VGltZSwgJFs0MF0gPSB0LCAkWzQxXSA9IHQxNikgOiB0MTYgPSAkWzQxXTtcbiAgbGV0IHQxNztcbiAgJFs0Ml0gIT09IHQxNSB8fCAkWzQzXSAhPT0gdDE2ID8gKHQxNyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQm94LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhUZXh0LCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IFtcbiAgICB0MTUsXG4gICAgXCI6XCIsXG4gICAgXCIgXCIsXG4gICAgdDE2XG4gIF0gfSkgfSksICRbNDJdID0gdDE1LCAkWzQzXSA9IHQxNiwgJFs0NF0gPSB0MTcpIDogdDE3ID0gJFs0NF07XG4gIGxldCB0MTg7XG4gICRbNDVdICE9PSB0ID8gKHQxOCA9IHQoXCJyZXN1bHQuZW5kLXRvLWVuZC10aW1lLWxhYmVsXCIpLCAkWzQ1XSA9IHQsICRbNDZdID0gdDE4KSA6IHQxOCA9ICRbNDZdO1xuICBsZXQgdDE5O1xuICAkWzQ3XSAhPT0gZTJlVGltZSB8fCAkWzQ4XSAhPT0gdCA/ICh0MTkgPSB0eXBlb2YgZTJlVGltZSA9PSBcIm51bWJlclwiID8gYCR7ZTJlVGltZX1tc2AgOiB0KFwicmVzdWx0LnRpbWluZy1ub3QtYXBwbGljYWJsZVwiKSwgJFs0N10gPSBlMmVUaW1lLCAkWzQ4XSA9IHQsICRbNDldID0gdDE5KSA6IHQxOSA9ICRbNDldO1xuICBsZXQgdDIwO1xuICAkWzUwXSAhPT0gdDE4IHx8ICRbNTFdICE9PSB0MTkgPyAodDIwID0gLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgbWFyZ2luTGVmdDogNCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFRleHQsIHsgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogW1xuICAgIHQxOCxcbiAgICBcIjpcIixcbiAgICBcIiBcIixcbiAgICB0MTlcbiAgXSB9KSB9KSwgJFs1MF0gPSB0MTgsICRbNTFdID0gdDE5LCAkWzUyXSA9IHQyMCkgOiB0MjAgPSAkWzUyXTtcbiAgbGV0IHQyMTtcbiAgJFs1M10gIT09IHQxNyB8fCAkWzU0XSAhPT0gdDIwID8gKHQyMSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVGltaW5nc0NhcmQsIHsgcGFkZGluZ1g6IDQsIHBhZGRpbmdZOiAzLCBzaXppbmc6IFwiYm9yZGVyXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhUaW1pbmdzVGV4dENvbnRhaW5lciwgeyBhbGlnbjogXCJjZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICB0MTcsXG4gICAgdDIwXG4gIF0gfSkgfSksICRbNTNdID0gdDE3LCAkWzU0XSA9IHQyMCwgJFs1NV0gPSB0MjEpIDogdDIxID0gJFs1NV07XG4gIGxldCB0MjI7XG4gICRbNTZdICE9PSBjc3ZVcmwgfHwgJFs1N10gIT09IGhhc1Jlc3VsdCB8fCAkWzU4XSAhPT0ganNvblVybCB8fCAkWzU5XSAhPT0gdCA/ICh0MjIgPSBoYXNSZXN1bHQgJiYgLyogQF9fUFVSRV9fICovIGpzeChEb3dubG9hZHNDYXJkLCB7IHBhZGRpbmdYOiA0LCBwYWRkaW5nWTogMywgc2l6aW5nOiBcImJvcmRlclwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChTYXZlUmVzdWx0TGFiZWwsIHsgbXV0ZWQ6ICEwLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUcmFuc2xhdGUsIHsgY29tcG9uZW50czoge1xuICAgIFNhdmVSZXN1bHRCdXR0b25zOiAoKSA9PiAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCQxLCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFNhdmVKc29uQnV0dG9uLCB7IGJsb2JVcmw6IGpzb25VcmwgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFNhdmVDc3ZCdXR0b24sIHsgYmxvYlVybDogY3N2VXJsIH0pXG4gICAgXSB9KVxuICB9LCBpMThuS2V5OiBcInJlc3VsdC5zYXZlLXJlc3VsdC1hcy1mb3JtYXRcIiwgdCB9KSB9KSB9KSwgJFs1Nl0gPSBjc3ZVcmwsICRbNTddID0gaGFzUmVzdWx0LCAkWzU4XSA9IGpzb25VcmwsICRbNTldID0gdCwgJFs2MF0gPSB0MjIpIDogdDIyID0gJFs2MF07XG4gIGxldCB0MjM7XG4gICRbNjFdICE9PSB0MjEgfHwgJFs2Ml0gIT09IHQyMiA/ICh0MjMgPSAvKiBAX19QVVJFX18gKi8ganN4cyhSZXN1bHRGb290ZXIsIHsganVzdGlmeTogXCJzcGFjZS1iZXR3ZWVuXCIsIGRpcmVjdGlvbjogdDE0LCBjaGlsZHJlbjogW1xuICAgIHQyMSxcbiAgICB0MjJcbiAgXSB9KSwgJFs2MV0gPSB0MjEsICRbNjJdID0gdDIyLCAkWzYzXSA9IHQyMykgOiB0MjMgPSAkWzYzXTtcbiAgbGV0IHQyNDtcbiAgcmV0dXJuICRbNjRdICE9PSB0MTMgfHwgJFs2NV0gIT09IHQyMyA/ICh0MjQgPSAvKiBAX19QVVJFX18gKi8ganN4cyhSZXN1bHRPdXRlckNvbnRhaW5lciwgeyBkaXJlY3Rpb246IFwiY29sdW1uXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJ2aXNpb24tcmVzdWx0XCIsIGNoaWxkcmVuOiBbXG4gICAgdDEzLFxuICAgIHQyM1xuICBdIH0pLCAkWzY0XSA9IHQxMywgJFs2NV0gPSB0MjMsICRbNjZdID0gdDI0KSA6IHQyNCA9ICRbNjZdLCB0MjQ7XG59XG5mdW5jdGlvbiBub2RlQ29udGFpbnMobm9kZSwgb3RoZXIpIHtcbiAgcmV0dXJuICFub2RlIHx8ICFvdGhlciA/ICExIDogbm9kZSA9PT0gb3RoZXIgfHwgISEobm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihvdGhlcikgJiAxNik7XG59XG5jb25zdCBzYW5pdHlVcmwgPSAvXFwuKD86YXBpfGFwaWNkbilcXC5zYW5pdHlcXC4oPzppb3x3b3JrKVxcLyh2WHx2MXx2XFxkezR9LVxcZFxcZC1cXGRcXGQpXFwvLio/KD86cXVlcnl8bGlzdGVuKVxcLyguKj8pXFw/KC4qKS8sIGlzUnVuSG90a2V5ID0gKGV2ZW50KSA9PiBpc0hvdGtleShcImN0cmwrZW50ZXJcIiwgZXZlbnQpIHx8IGlzSG90a2V5KFwibW9kK2VudGVyXCIsIGV2ZW50KTtcbmZ1bmN0aW9uIFZpc2lvbkd1aShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZGF0YXNldHMsXG4gICAgY29uZmlnLFxuICAgIHByb2plY3RJZCxcbiAgICBkZWZhdWx0RGF0YXNldFxuICB9ID0gcHJvcHMsIHRvYXN0ID0gdXNlVG9hc3QoKSwge1xuICAgIHRcbiAgfSA9IHVzZVRyYW5zbGF0aW9uKHZpc2lvbkxvY2FsZU5hbWVzcGFjZSksIHtcbiAgICBwZXJzcGVjdGl2ZVN0YWNrXG4gIH0gPSB1c2VQZXJzcGVjdGl2ZSgpLCBkZWZhdWx0QXBpVmVyc2lvbiA9IHByZWZpeEFwaVZlcnNpb24oYCR7Y29uZmlnLmRlZmF1bHRBcGlWZXJzaW9ufWApLCBlZGl0b3JRdWVyeVJlZiA9IHVzZVJlZihudWxsKSwgZWRpdG9yUGFyYW1zUmVmID0gdXNlUmVmKG51bGwpLCB2aXNpb25Sb290UmVmID0gdXNlUmVmKG51bGwpLCBjdXN0b21BcGlWZXJzaW9uRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSwgcXVlcnlTdWJzY3JpcHRpb25SZWYgPSB1c2VSZWYodm9pZCAwKSwgbGlzdGVuU3Vic2NyaXB0aW9uUmVmID0gdXNlUmVmKHZvaWQgMCksIFtsb2NhbFN0b3JhZ2UyXSA9IHVzZVN0YXRlKCgpID0+IGdldExvY2FsU3RvcmFnZShwcm9qZWN0SWQgfHwgXCJkZWZhdWx0XCIpKSwge1xuICAgIHN0b3JlZERhdGFzZXQsXG4gICAgc3RvcmVkQXBpVmVyc2lvbixcbiAgICBzdG9yZWRRdWVyeSxcbiAgICBzdG9yZWRQYXJhbXMsXG4gICAgc3RvcmVkUGVyc3BlY3RpdmVcbiAgfSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBzdG9yZWREYXRhc2V0OiBsb2NhbFN0b3JhZ2UyLmdldChcImRhdGFzZXRcIiwgZGVmYXVsdERhdGFzZXQpLFxuICAgIHN0b3JlZEFwaVZlcnNpb246IGxvY2FsU3RvcmFnZTIuZ2V0KFwiYXBpVmVyc2lvblwiLCBkZWZhdWx0QXBpVmVyc2lvbiksXG4gICAgc3RvcmVkUXVlcnk6IGxvY2FsU3RvcmFnZTIuZ2V0KFwicXVlcnlcIiwgXCJcIiksXG4gICAgc3RvcmVkUGFyYW1zOiBsb2NhbFN0b3JhZ2UyLmdldChcInBhcmFtc1wiLCBge1xuICBcbn1gKSxcbiAgICBzdG9yZWRQZXJzcGVjdGl2ZTogbG9jYWxTdG9yYWdlMi5nZXQoXCJwZXJzcGVjdGl2ZVwiLCB2b2lkIDApXG4gIH0pLCBbZGVmYXVsdERhdGFzZXQsIGRlZmF1bHRBcGlWZXJzaW9uLCBsb2NhbFN0b3JhZ2UyXSksIFtkYXRhc2V0LCBzZXREYXRhc2V0XSA9IHVzZVN0YXRlKCgpID0+IGRhdGFzZXRzLmluY2x1ZGVzKHN0b3JlZERhdGFzZXQpID8gc3RvcmVkRGF0YXNldCA6IGRhdGFzZXRzLmluY2x1ZGVzKGRlZmF1bHREYXRhc2V0KSA/IGRlZmF1bHREYXRhc2V0IDogZGF0YXNldHNbMF0pLCBbYXBpVmVyc2lvbiwgc2V0QXBpVmVyc2lvbl0gPSB1c2VTdGF0ZSgoKSA9PiBBUElfVkVSU0lPTlMuaW5jbHVkZXMoc3RvcmVkQXBpVmVyc2lvbikgPyBzdG9yZWRBcGlWZXJzaW9uIDogREVGQVVMVF9BUElfVkVSU0lPTiksIFtjdXN0b21BcGlWZXJzaW9uLCBzZXRDdXN0b21BcGlWZXJzaW9uXSA9IHVzZVN0YXRlKCgpID0+IEFQSV9WRVJTSU9OUy5pbmNsdWRlcyhzdG9yZWRBcGlWZXJzaW9uKSA/ICExIDogc3RvcmVkQXBpVmVyc2lvbiksIFtwZXJzcGVjdGl2ZSwgc2V0UGVyc3BlY3RpdmVTdGF0ZV0gPSB1c2VTdGF0ZShzdG9yZWRQZXJzcGVjdGl2ZSB8fCBcInJhd1wiKSwgaXNWYWxpZEFwaVZlcnNpb24gPSBjdXN0b21BcGlWZXJzaW9uID8gdmFsaWRhdGVBcGlWZXJzaW9uKGN1c3RvbUFwaVZlcnNpb24pIDogITAsIFt1cmwsIHNldFVybF0gPSB1c2VTdGF0ZSh2b2lkIDApLCBbcXVlcnksIHNldFF1ZXJ5XSA9IHVzZVN0YXRlKCgpID0+IHR5cGVvZiBzdG9yZWRRdWVyeSA9PSBcInN0cmluZ1wiID8gc3RvcmVkUXVlcnkgOiBcIlwiKSwgW3BhcmFtcywgc2V0UGFyYW1zXSA9IHVzZVN0YXRlKCgpID0+IHBhcnNlUGFyYW1zKHN0b3JlZFBhcmFtcywgdCkpLCBbcXVlcnlSZXN1bHQsIHNldFF1ZXJ5UmVzdWx0XSA9IHVzZVN0YXRlKHZvaWQgMCksIFtsaXN0ZW5NdXRhdGlvbnMsIHNldExpc3Rlbk11dGF0aW9uc10gPSB1c2VTdGF0ZShbXSksIFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUodm9pZCAwKSwgW3F1ZXJ5VGltZSwgc2V0UXVlcnlUaW1lXSA9IHVzZVN0YXRlKHZvaWQgMCksIFtlMmVUaW1lLCBzZXRFMmVUaW1lXSA9IHVzZVN0YXRlKHZvaWQgMCksIFtxdWVyeUluUHJvZ3Jlc3MsIHNldFF1ZXJ5SW5Qcm9ncmVzc10gPSB1c2VTdGF0ZSghMSksIFtsaXN0ZW5JblByb2dyZXNzLCBzZXRMaXN0ZW5JblByb2dyZXNzXSA9IHVzZVN0YXRlKCExKSwgW2lzUXVlcnlSZWNhbGxDb2xsYXBzZWQsIHNldElzUXVlcnlSZWNhbGxDb2xsYXBzZWRdID0gdXNlU3RhdGUoITEpLCB7XG4gICAgcGFuZVNpemVPcHRpb25zLFxuICAgIGlzTmFycm93QnJlYWtwb2ludFxuICB9ID0gdXNlUGFuZVNpemUoe1xuICAgIHZpc2lvblJvb3RSZWZcbiAgfSksIF9jbGllbnQgPSB1c2VDbGllbnQoe1xuICAgIGFwaVZlcnNpb246IGlzVmFsaWRBcGlWZXJzaW9uICYmIGN1c3RvbUFwaVZlcnNpb24gPyBjdXN0b21BcGlWZXJzaW9uIDogYXBpVmVyc2lvblxuICB9KSwgY2xpZW50ID0gdXNlTWVtbygoKSA9PiBfY2xpZW50LndpdGhDb25maWcoe1xuICAgIGFwaVZlcnNpb246IGlzVmFsaWRBcGlWZXJzaW9uICYmIGN1c3RvbUFwaVZlcnNpb24gPyBjdXN0b21BcGlWZXJzaW9uIDogYXBpVmVyc2lvbixcbiAgICBwZXJzcGVjdGl2ZTogZ2V0QWN0aXZlUGVyc3BlY3RpdmUoe1xuICAgICAgdmlzaW9uUGVyc3BlY3RpdmU6IHBlcnNwZWN0aXZlLFxuICAgICAgcGVyc3BlY3RpdmVTdGFja1xuICAgIH0pLFxuICAgIGRhdGFzZXQsXG4gICAgYWxsb3dSZWNvbmZpZ3VyZTogITBcbiAgfSksIFtwZXJzcGVjdGl2ZVN0YWNrLCBwZXJzcGVjdGl2ZSwgY3VzdG9tQXBpVmVyc2lvbiwgYXBpVmVyc2lvbiwgZGF0YXNldCwgX2NsaWVudCwgaXNWYWxpZEFwaVZlcnNpb25dKSwgY2FuY2VsUXVlcnlTdWJzY3JpcHRpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcXVlcnlTdWJzY3JpcHRpb25SZWYuY3VycmVudCAmJiAocXVlcnlTdWJzY3JpcHRpb25SZWYuY3VycmVudC51bnN1YnNjcmliZSgpLCBxdWVyeVN1YnNjcmlwdGlvblJlZi5jdXJyZW50ID0gdm9pZCAwKTtcbiAgfSwgW10pLCBjYW5jZWxMaXN0ZW5lclN1YnNjcmlwdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBsaXN0ZW5TdWJzY3JpcHRpb25SZWYuY3VycmVudCAmJiAobGlzdGVuU3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQudW5zdWJzY3JpYmUoKSwgbGlzdGVuU3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQgPSB2b2lkIDApO1xuICB9LCBbXSksIGhhbmRsZVF1ZXJ5RXhlY3V0aW9uID0gdXNlQ2FsbGJhY2soKG9wdGlvbnMpID0+IHtcbiAgICBpZiAocXVlcnlJblByb2dyZXNzKSB7XG4gICAgICBjYW5jZWxRdWVyeVN1YnNjcmlwdGlvbigpLCBjYW5jZWxMaXN0ZW5lclN1YnNjcmlwdGlvbigpLCBzZXRRdWVyeUluUHJvZ3Jlc3MoITEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgcXVlcnk6IG9wdGlvbnM/LnF1ZXJ5IHx8IHF1ZXJ5LFxuICAgICAgZGF0YXNldDogb3B0aW9ucz8uZGF0YXNldCB8fCBkYXRhc2V0LFxuICAgICAgcGFyYW1zOiBwYXJzZVBhcmFtcyhKU09OLnN0cmluZ2lmeShvcHRpb25zPy5wYXJhbXMgfHwgcGFyYW1zLnBhcnNlZCwgbnVsbCwgMiksIHQpLFxuICAgICAgcGVyc3BlY3RpdmU6IGdldEFjdGl2ZVBlcnNwZWN0aXZlKHtcbiAgICAgICAgdmlzaW9uUGVyc3BlY3RpdmU6IG9wdGlvbnM/LnBlcnNwZWN0aXZlIHx8IHBlcnNwZWN0aXZlLFxuICAgICAgICBwZXJzcGVjdGl2ZVN0YWNrXG4gICAgICB9KSxcbiAgICAgIGFwaVZlcnNpb246IG9wdGlvbnM/LmFwaVZlcnNpb24gfHwgKGN1c3RvbUFwaVZlcnNpb24gJiYgaXNWYWxpZEFwaVZlcnNpb24gPyBjdXN0b21BcGlWZXJzaW9uIDogYXBpVmVyc2lvbilcbiAgICB9O1xuICAgIGlmIChsb2NhbFN0b3JhZ2UyLnNldChcInF1ZXJ5XCIsIGNvbnRleHQucXVlcnkpLCBsb2NhbFN0b3JhZ2UyLnNldChcInBhcmFtc1wiLCBjb250ZXh0LnBhcmFtcy5yYXcpLCBjYW5jZWxMaXN0ZW5lclN1YnNjcmlwdGlvbigpLCBzZXRRdWVyeUluUHJvZ3Jlc3MoIWNvbnRleHQucGFyYW1zLmVycm9yICYmICEhY29udGV4dC5xdWVyeSksIHNldExpc3RlbkluUHJvZ3Jlc3MoITEpLCBzZXRMaXN0ZW5NdXRhdGlvbnMoW10pLCBzZXRFcnJvcihjb250ZXh0LnBhcmFtcy5lcnJvciA/IG5ldyBFcnJvcihjb250ZXh0LnBhcmFtcy5lcnJvcikgOiB2b2lkIDApLCBzZXRRdWVyeVJlc3VsdCh2b2lkIDApLCBzZXRRdWVyeVRpbWUodm9pZCAwKSwgc2V0RTJlVGltZSh2b2lkIDApLCBjb250ZXh0LnBhcmFtcy5lcnJvcilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB1cmxRdWVyeU9wdHMgPSB7XG4gICAgICBwZXJzcGVjdGl2ZTogY29udGV4dC5wZXJzcGVjdGl2ZSA/PyBbXVxuICAgIH0sIGN0eENsaWVudCA9IGNsaWVudC53aXRoQ29uZmlnKHtcbiAgICAgIGFwaVZlcnNpb246IGNvbnRleHQuYXBpVmVyc2lvbixcbiAgICAgIGRhdGFzZXQ6IGNvbnRleHQuZGF0YXNldCxcbiAgICAgIHBlcnNwZWN0aXZlOiBjb250ZXh0LnBlcnNwZWN0aXZlXG4gICAgfSksIG5ld1VybCA9IGN0eENsaWVudC5nZXRVcmwoY3R4Q2xpZW50LmdldERhdGFVcmwoXCJxdWVyeVwiLCBlbmNvZGVRdWVyeVN0cmluZyhjb250ZXh0LnF1ZXJ5LCBjb250ZXh0LnBhcmFtcy5wYXJzZWQsIHVybFF1ZXJ5T3B0cykpKTtcbiAgICBzZXRVcmwobmV3VXJsKTtcbiAgICBjb25zdCBxdWVyeVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBxdWVyeVN1YnNjcmlwdGlvblJlZi5jdXJyZW50ID0gY3R4Q2xpZW50Lm9ic2VydmFibGUuZmV0Y2goY29udGV4dC5xdWVyeSwgY29udGV4dC5wYXJhbXMucGFyc2VkLCB7XG4gICAgICBmaWx0ZXJSZXNwb25zZTogITEsXG4gICAgICB0YWc6IFwidmlzaW9uXCJcbiAgICB9KS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKHJlcykgPT4ge1xuICAgICAgICBzZXRRdWVyeVRpbWUocmVzLm1zKSwgc2V0RTJlVGltZShEYXRlLm5vdygpIC0gcXVlcnlTdGFydCksIHNldFF1ZXJ5UmVzdWx0KHJlcy5yZXN1bHQpLCBzZXRRdWVyeUluUHJvZ3Jlc3MoITEpLCBzZXRFcnJvcih2b2lkIDApO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgIHNldEVycm9yKGVyciksIHNldFF1ZXJ5SW5Qcm9ncmVzcyghMSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtxdWVyeUluUHJvZ3Jlc3MsIHF1ZXJ5LCBkYXRhc2V0LCBwYXJhbXMucGFyc2VkLCB0LCBwZXJzcGVjdGl2ZSwgcGVyc3BlY3RpdmVTdGFjaywgY3VzdG9tQXBpVmVyc2lvbiwgaXNWYWxpZEFwaVZlcnNpb24sIGFwaVZlcnNpb24sIGxvY2FsU3RvcmFnZTIsIGNhbmNlbExpc3RlbmVyU3Vic2NyaXB0aW9uLCBjbGllbnQsIGNhbmNlbFF1ZXJ5U3Vic2NyaXB0aW9uXSksIHNldFBlcnNwZWN0aXZlID0gdXNlQ2FsbGJhY2soKG5ld1BlcnNwZWN0aXZlKSA9PiB7XG4gICAgbmV3UGVyc3BlY3RpdmUgIT09IHZvaWQgMCAmJiAhaXNTdXBwb3J0ZWRQZXJzcGVjdGl2ZShuZXdQZXJzcGVjdGl2ZSkgfHwgKHNldFBlcnNwZWN0aXZlU3RhdGUobmV3UGVyc3BlY3RpdmUpLCBsb2NhbFN0b3JhZ2UyLnNldChcInBlcnNwZWN0aXZlXCIsIG5ld1BlcnNwZWN0aXZlKSwgaGFuZGxlUXVlcnlFeGVjdXRpb24oe1xuICAgICAgcGVyc3BlY3RpdmU6IG5ld1BlcnNwZWN0aXZlXG4gICAgfSkpO1xuICB9LCBbbG9jYWxTdG9yYWdlMiwgaGFuZGxlUXVlcnlFeGVjdXRpb25dKSwgaGFuZGxlQ2hhbmdlRGF0YXNldCA9IHVzZUNhbGxiYWNrKChldnQpID0+IHtcbiAgICBjb25zdCBuZXdEYXRhc2V0ID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICBsb2NhbFN0b3JhZ2UyLnNldChcImRhdGFzZXRcIiwgbmV3RGF0YXNldCksIHNldERhdGFzZXQobmV3RGF0YXNldCksIGhhbmRsZVF1ZXJ5RXhlY3V0aW9uKHtcbiAgICAgIGRhdGFzZXQ6IG5ld0RhdGFzZXRcbiAgICB9KTtcbiAgfSwgW2xvY2FsU3RvcmFnZTIsIGhhbmRsZVF1ZXJ5RXhlY3V0aW9uXSksIGhhbmRsZUNoYW5nZUFwaVZlcnNpb24gPSB1c2VDYWxsYmFjaygoZXZ0XzApID0+IHtcbiAgICBjb25zdCBuZXdBcGlWZXJzaW9uID0gZXZ0XzAudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChuZXdBcGlWZXJzaW9uPy50b0xvd2VyQ2FzZSgpID09PSBcIm90aGVyXCIpIHtcbiAgICAgIHNldEN1c3RvbUFwaVZlcnNpb24oXCJ2XCIpLCBjdXN0b21BcGlWZXJzaW9uRWxlbWVudFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRBcGlWZXJzaW9uKG5ld0FwaVZlcnNpb24pLCBzZXRDdXN0b21BcGlWZXJzaW9uKCExKSwgbG9jYWxTdG9yYWdlMi5zZXQoXCJhcGlWZXJzaW9uXCIsIG5ld0FwaVZlcnNpb24pLCBoYW5kbGVRdWVyeUV4ZWN1dGlvbih7XG4gICAgICBhcGlWZXJzaW9uOiBuZXdBcGlWZXJzaW9uXG4gICAgfSk7XG4gIH0sIFtsb2NhbFN0b3JhZ2UyLCBoYW5kbGVRdWVyeUV4ZWN1dGlvbl0pLCBoYW5kbGVDdXN0b21BcGlWZXJzaW9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGV2dF8xKSA9PiB7XG4gICAgY29uc3QgbmV3Q3VzdG9tQXBpVmVyc2lvbiA9IGV2dF8xLnRhcmdldC52YWx1ZSB8fCBcIlwiO1xuICAgIHNldEN1c3RvbUFwaVZlcnNpb24obmV3Q3VzdG9tQXBpVmVyc2lvbiB8fCBcInZcIiksIHZhbGlkYXRlQXBpVmVyc2lvbihuZXdDdXN0b21BcGlWZXJzaW9uKSAmJiAoc2V0QXBpVmVyc2lvbihuZXdDdXN0b21BcGlWZXJzaW9uKSwgbG9jYWxTdG9yYWdlMi5zZXQoXCJhcGlWZXJzaW9uXCIsIG5ld0N1c3RvbUFwaVZlcnNpb24pLCBoYW5kbGVRdWVyeUV4ZWN1dGlvbih7XG4gICAgICBhcGlWZXJzaW9uOiBuZXdDdXN0b21BcGlWZXJzaW9uXG4gICAgfSkpO1xuICB9LCBbbG9jYWxTdG9yYWdlMiwgaGFuZGxlUXVlcnlFeGVjdXRpb25dKSwgaGFuZGxlQ2hhbmdlUGVyc3BlY3RpdmUgPSB1c2VDYWxsYmFjaygoZXZ0XzIpID0+IHtcbiAgICBjb25zdCBuZXdQZXJzcGVjdGl2ZV8wID0gZXZ0XzIudGFyZ2V0LnZhbHVlO1xuICAgIHNldFBlcnNwZWN0aXZlKG5ld1BlcnNwZWN0aXZlXzAgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogbmV3UGVyc3BlY3RpdmVfMCk7XG4gIH0sIFtzZXRQZXJzcGVjdGl2ZV0pLCBoYW5kbGVMaXN0ZW5lckV2ZW50ID0gdXNlQ2FsbGJhY2soKGV2dF8zKSA9PiB7XG4gICAgZXZ0XzMudHlwZSA9PT0gXCJtdXRhdGlvblwiICYmIHNldExpc3Rlbk11dGF0aW9ucygocHJldk11dGF0aW9ucykgPT4gcHJldk11dGF0aW9ucy5sZW5ndGggPT09IDUwID8gW2V2dF8zLCAuLi5wcmV2TXV0YXRpb25zLnNsaWNlKDAsIDQ5KV0gOiBbZXZ0XzMsIC4uLnByZXZNdXRhdGlvbnNdKTtcbiAgfSwgW10pLCBoYW5kbGVMaXN0ZW5FeGVjdXRpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGxpc3RlbkluUHJvZ3Jlc3MpIHtcbiAgICAgIGNhbmNlbExpc3RlbmVyU3Vic2NyaXB0aW9uKCksIHNldExpc3RlbkluUHJvZ3Jlc3MoITEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXdVcmxfMCA9IGNsaWVudC5nZXREYXRhVXJsKFwibGlzdGVuXCIsIGVuY29kZVF1ZXJ5U3RyaW5nKHF1ZXJ5LCBwYXJhbXMucGFyc2VkLCB7fSkpLCBzaG91bGRFeGVjdXRlID0gIXBhcmFtcy5lcnJvciAmJiBxdWVyeS50cmltKCkubGVuZ3RoID4gMDtcbiAgICBsb2NhbFN0b3JhZ2UyLnNldChcInF1ZXJ5XCIsIHF1ZXJ5KSwgbG9jYWxTdG9yYWdlMi5zZXQoXCJwYXJhbXNcIiwgcGFyYW1zLnJhdyksIGNhbmNlbFF1ZXJ5U3Vic2NyaXB0aW9uKCksIHNldFVybChuZXdVcmxfMCksIHNldExpc3Rlbk11dGF0aW9ucyhbXSksIHNldFF1ZXJ5SW5Qcm9ncmVzcyghMSksIHNldFF1ZXJ5UmVzdWx0KHZvaWQgMCksIHNldExpc3RlbkluUHJvZ3Jlc3Moc2hvdWxkRXhlY3V0ZSksIHNldEVycm9yKHBhcmFtcy5lcnJvciA/IG5ldyBFcnJvcihwYXJhbXMuZXJyb3IpIDogdm9pZCAwKSwgc2V0UXVlcnlUaW1lKHZvaWQgMCksIHNldEUyZVRpbWUodm9pZCAwKSwgc2hvdWxkRXhlY3V0ZSAmJiAobGlzdGVuU3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQgPSBjbGllbnQubGlzdGVuKHF1ZXJ5LCBwYXJhbXMucGFyc2VkLCB7XG4gICAgICBldmVudHM6IFtcIm11dGF0aW9uXCIsIFwid2VsY29tZVwiXSxcbiAgICAgIGluY2x1ZGVBbGxWZXJzaW9uczogITBcbiAgICB9KS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogaGFuZGxlTGlzdGVuZXJFdmVudCxcbiAgICAgIGVycm9yOiAoZXJyXzApID0+IHtcbiAgICAgICAgc2V0RXJyb3IoZXJyXzApLCBzZXRMaXN0ZW5JblByb2dyZXNzKCExKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0sIFtsaXN0ZW5JblByb2dyZXNzLCBwYXJhbXMsIHF1ZXJ5LCBsb2NhbFN0b3JhZ2UyLCBjYW5jZWxRdWVyeVN1YnNjcmlwdGlvbiwgaGFuZGxlTGlzdGVuZXJFdmVudCwgY2FuY2VsTGlzdGVuZXJTdWJzY3JpcHRpb24sIGNsaWVudF0pLCBoYW5kbGVQYXJhbXNDaGFuZ2UgPSB1c2VDYWxsYmFjaygodmFsdWUpID0+IHtcbiAgICBzZXRQYXJhbXModmFsdWUpLCBsb2NhbFN0b3JhZ2UyLnNldChcInBhcmFtc1wiLCB2YWx1ZS5yYXcpO1xuICB9LCBbbG9jYWxTdG9yYWdlMl0pLCBnZXRTdGF0ZUZyb21VcmwgPSB1c2VDYWxsYmFjaygoZGF0YSkgPT4ge1xuICAgIGNvbnN0IG1hdGNoID0gZGF0YS5tYXRjaChzYW5pdHlVcmwpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBbLCB1c2VkQXBpVmVyc2lvbiwgdXNlZERhdGFzZXQsIHVybFF1ZXJ5XSA9IG1hdGNoLCBxcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJsUXVlcnkpLCBwYXJ0cyA9IHBhcnNlQXBpUXVlcnlTdHJpbmcocXMpO1xuICAgIGlmICghcGFydHMpIHJldHVybiBudWxsO1xuICAgIGxldCBuZXdBcGlWZXJzaW9uXzAsIG5ld0N1c3RvbUFwaVZlcnNpb25fMDtcbiAgICB2YWxpZGF0ZUFwaVZlcnNpb24odXNlZEFwaVZlcnNpb24pICYmIChBUElfVkVSU0lPTlMuaW5jbHVkZXModXNlZEFwaVZlcnNpb24pID8gKG5ld0FwaVZlcnNpb25fMCA9IHVzZWRBcGlWZXJzaW9uLCBuZXdDdXN0b21BcGlWZXJzaW9uXzAgPSAhMSkgOiBuZXdDdXN0b21BcGlWZXJzaW9uXzAgPSB1c2VkQXBpVmVyc2lvbik7XG4gICAgY29uc3QgbmV3UGVyc3BlY3RpdmVfMSA9IGlzU3VwcG9ydGVkUGVyc3BlY3RpdmUocGFydHMub3B0aW9ucy5wZXJzcGVjdGl2ZSkgJiYgIWlzVmlydHVhbFBlcnNwZWN0aXZlKHBhcnRzLm9wdGlvbnMucGVyc3BlY3RpdmUpID8gcGFydHMub3B0aW9ucy5wZXJzcGVjdGl2ZSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbmV3UGVyc3BlY3RpdmVfMSAmJiAoIWlzU3VwcG9ydGVkUGVyc3BlY3RpdmUocGFydHMub3B0aW9ucy5wZXJzcGVjdGl2ZSkgfHwgaXNWaXJ0dWFsUGVyc3BlY3RpdmUocGFydHMub3B0aW9ucy5wZXJzcGVjdGl2ZSkpICYmIHRvYXN0LnB1c2goe1xuICAgICAgY2xvc2FibGU6ICEwLFxuICAgICAgaWQ6IFwidmlzaW9uLXBhc3RlLXVuc3VwcG9ydGVkLXBlcnNwZWN0aXZlXCIsXG4gICAgICBzdGF0dXM6IFwid2FybmluZ1wiLFxuICAgICAgdGl0bGU6ICdQZXJzcGVjdGl2ZSBpbiBwYXN0ZWQgdXJsIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLiBGYWxsaW5nIGJhY2sgdG8gXCJyYXdcIidcbiAgICB9KSwge1xuICAgICAgcXVlcnk6IHBhcnRzLnF1ZXJ5LFxuICAgICAgcGFyYW1zOiBwYXJ0cy5wYXJhbXMsXG4gICAgICByYXdQYXJhbXM6IEpTT04uc3RyaW5naWZ5KHBhcnRzLnBhcmFtcywgbnVsbCwgMiksXG4gICAgICBkYXRhc2V0OiBkYXRhc2V0cy5pbmNsdWRlcyh1c2VkRGF0YXNldCkgPyB1c2VkRGF0YXNldCA6IGRhdGFzZXQsXG4gICAgICBhcGlWZXJzaW9uOiBuZXdBcGlWZXJzaW9uXzAgfHwgYXBpVmVyc2lvbixcbiAgICAgIGN1c3RvbUFwaVZlcnNpb246IG5ld0N1c3RvbUFwaVZlcnNpb25fMCxcbiAgICAgIHBlcnNwZWN0aXZlOiBuZXdQZXJzcGVjdGl2ZV8xIHx8IHBlcnNwZWN0aXZlLFxuICAgICAgdXJsOiBkYXRhXG4gICAgfTtcbiAgfSwgW2RhdGFzZXRzLCBkYXRhc2V0LCBhcGlWZXJzaW9uLCBwZXJzcGVjdGl2ZSwgdG9hc3RdKSwgc2V0U3RhdGVGcm9tUGFyc2VkVXJsID0gdXNlQ2FsbGJhY2soKHBhcnNlZFVybE9iaikgPT4ge1xuICAgIHNldERhdGFzZXQocGFyc2VkVXJsT2JqLmRhdGFzZXQpLCBzZXRRdWVyeShwYXJzZWRVcmxPYmoucXVlcnkpLCBzZXRQYXJhbXMoe1xuICAgICAgcGFyc2VkOiBwYXJzZWRVcmxPYmoucGFyYW1zLFxuICAgICAgcmF3OiBwYXJzZWRVcmxPYmoucmF3UGFyYW1zLFxuICAgICAgdmFsaWQ6ICEwLFxuICAgICAgZXJyb3I6IHZvaWQgMFxuICAgIH0pLCBzZXRBcGlWZXJzaW9uKHBhcnNlZFVybE9iai5hcGlWZXJzaW9uKSwgcGFyc2VkVXJsT2JqLmN1c3RvbUFwaVZlcnNpb24gJiYgc2V0Q3VzdG9tQXBpVmVyc2lvbihwYXJzZWRVcmxPYmouY3VzdG9tQXBpVmVyc2lvbiksIHNldFBlcnNwZWN0aXZlU3RhdGUocGFyc2VkVXJsT2JqLnBlcnNwZWN0aXZlKSwgc2V0VXJsKHBhcnNlZFVybE9iai51cmwpLCBlZGl0b3JRdWVyeVJlZi5jdXJyZW50Py5yZXNldEVkaXRvckNvbnRlbnQocGFyc2VkVXJsT2JqLnF1ZXJ5KSwgZWRpdG9yUGFyYW1zUmVmLmN1cnJlbnQ/LnJlc2V0RWRpdG9yQ29udGVudChwYXJzZWRVcmxPYmoucmF3UGFyYW1zKSwgbG9jYWxTdG9yYWdlMi5tZXJnZSh7XG4gICAgICBxdWVyeTogcGFyc2VkVXJsT2JqLnF1ZXJ5LFxuICAgICAgcGFyYW1zOiBwYXJzZWRVcmxPYmoucmF3UGFyYW1zLFxuICAgICAgZGF0YXNldDogcGFyc2VkVXJsT2JqLmRhdGFzZXQsXG4gICAgICBhcGlWZXJzaW9uOiBwYXJzZWRVcmxPYmouY3VzdG9tQXBpVmVyc2lvbiB8fCBwYXJzZWRVcmxPYmouYXBpVmVyc2lvbixcbiAgICAgIHBlcnNwZWN0aXZlOiBwYXJzZWRVcmxPYmoucGVyc3BlY3RpdmVcbiAgICB9KSwgaGFuZGxlUXVlcnlFeGVjdXRpb24ocGFyc2VkVXJsT2JqKTtcbiAgfSwgW2xvY2FsU3RvcmFnZTIsIGhhbmRsZVF1ZXJ5RXhlY3V0aW9uXSksIGhhbmRsZVBhc3RlID0gdXNlQ2FsbGJhY2soKGV2dF80KSA9PiB7XG4gICAgaWYgKCFldnRfNC5jbGlwYm9hcmREYXRhKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRhdGFfMCA9IGV2dF80LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7XG4gICAgZXZ0XzQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmxTdGF0ZSA9IGdldFN0YXRlRnJvbVVybChkYXRhXzApO1xuICAgIHVybFN0YXRlICYmIChzZXRTdGF0ZUZyb21QYXJzZWRVcmwodXJsU3RhdGUpLCB0b2FzdC5wdXNoKHtcbiAgICAgIGNsb3NhYmxlOiAhMCxcbiAgICAgIGlkOiBcInZpc2lvbi1wYXN0ZVwiLFxuICAgICAgc3RhdHVzOiBcImluZm9cIixcbiAgICAgIHRpdGxlOiBcIlBhcnNlZCBVUkwgdG8gcXVlcnlcIlxuICAgIH0pKTtcbiAgfSwgW2dldFN0YXRlRnJvbVVybCwgc2V0U3RhdGVGcm9tUGFyc2VkVXJsLCB0b2FzdF0pLCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaXNXaXRoaW5Sb290ID0gdmlzaW9uUm9vdFJlZi5jdXJyZW50ICYmIG5vZGVDb250YWlucyh2aXNpb25Sb290UmVmLmN1cnJlbnQsIGV2ZW50LnRhcmdldCk7XG4gICAgaXNSdW5Ib3RrZXkoZXZlbnQpICYmIGlzV2l0aGluUm9vdCAmJiBwYXJhbXMudmFsaWQgJiYgKGhhbmRsZVF1ZXJ5RXhlY3V0aW9uKCksIGV2ZW50LnByZXZlbnREZWZhdWx0KCksIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpKTtcbiAgfSwgW3BhcmFtcy52YWxpZCwgaGFuZGxlUXVlcnlFeGVjdXRpb25dKTtcbiAgdXNlRWZmZWN0KCgpID0+ICh3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIGhhbmRsZVBhc3RlKSwgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pLCAoKSA9PiB7XG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLCBoYW5kbGVQYXN0ZSksIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgfSksIFtoYW5kbGVLZXlEb3duLCBoYW5kbGVQYXN0ZV0pLCB1c2VFZmZlY3QoKCkgPT4gKCkgPT4ge1xuICAgIGNhbmNlbFF1ZXJ5U3Vic2NyaXB0aW9uKCksIGNhbmNlbExpc3RlbmVyU3Vic2NyaXB0aW9uKCk7XG4gIH0sIFtjYW5jZWxRdWVyeVN1YnNjcmlwdGlvbiwgY2FuY2VsTGlzdGVuZXJTdWJzY3JpcHRpb25dKTtcbiAgY29uc3QgaGFuZGxlU3R1ZGlvUGVyc3BlY3RpdmVDaGFuZ2UgPSB1c2VFZmZlY3RFdmVudCgoc3RhY2spID0+IHtcbiAgICBzdGFjay5sZW5ndGggPiAwICYmIHNldFBlcnNwZWN0aXZlKFwicGlubmVkUmVsZWFzZVwiKTtcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaGFuZGxlU3R1ZGlvUGVyc3BlY3RpdmVDaGFuZ2UocGVyc3BlY3RpdmVTdGFjayk7XG4gIH0sIFtwZXJzcGVjdGl2ZVN0YWNrXSk7XG4gIGNvbnN0IGdlbmVyYXRlVXJsID0gdXNlQ2FsbGJhY2soKHF1ZXJ5U3RyaW5nLCBxdWVyeVBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHVybFF1ZXJ5T3B0c18wID0ge1xuICAgICAgcGVyc3BlY3RpdmU6IGdldEFjdGl2ZVBlcnNwZWN0aXZlKHtcbiAgICAgICAgdmlzaW9uUGVyc3BlY3RpdmU6IHBlcnNwZWN0aXZlLFxuICAgICAgICBwZXJzcGVjdGl2ZVN0YWNrXG4gICAgICB9KSA/PyBbXVxuICAgIH07XG4gICAgcmV0dXJuIGNsaWVudC5nZXRVcmwoY2xpZW50LmdldERhdGFVcmwoXCJxdWVyeVwiLCBlbmNvZGVRdWVyeVN0cmluZyhxdWVyeVN0cmluZywgcXVlcnlQYXJhbXMsIHVybFF1ZXJ5T3B0c18wKSkpO1xuICB9LCBbY2xpZW50LCBwZXJzcGVjdGl2ZSwgcGVyc3BlY3RpdmVTdGFja10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoUm9vdCwgeyBkaXJlY3Rpb246IFwiY29sdW1uXCIsIGhlaWdodDogXCJmaWxsXCIsIHJlZjogdmlzaW9uUm9vdFJlZiwgc2l6aW5nOiBcImJvcmRlclwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIiwgXCJkYXRhLXRlc3RpZFwiOiBcInZpc2lvbi1yb290XCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChWaXNpb25HdWlIZWFkZXIsIHsgYXBpVmVyc2lvbiwgY3VzdG9tQXBpVmVyc2lvbiwgZGF0YXNldCwgZGF0YXNldHMsIG9uQ2hhbmdlRGF0YXNldDogaGFuZGxlQ2hhbmdlRGF0YXNldCwgb25DaGFuZ2VBcGlWZXJzaW9uOiBoYW5kbGVDaGFuZ2VBcGlWZXJzaW9uLCBjdXN0b21BcGlWZXJzaW9uRWxlbWVudFJlZiwgb25DdXN0b21BcGlWZXJzaW9uQ2hhbmdlOiBoYW5kbGVDdXN0b21BcGlWZXJzaW9uQ2hhbmdlLCBpc1ZhbGlkQXBpVmVyc2lvbiwgb25DaGFuZ2VQZXJzcGVjdGl2ZTogaGFuZGxlQ2hhbmdlUGVyc3BlY3RpdmUsIHVybCwgcGVyc3BlY3RpdmUgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChTcGxpdHBhbmVDb250YWluZXIsIHsgZmxleDogXCJhdXRvXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhTcGxpdFBhbmUsIHsgbWluU2l6ZTogODAwLCBkZWZhdWx0U2l6ZTogd2luZG93LmlubmVyV2lkdGggLSAyNzUsIHNpemU6IGlzUXVlcnlSZWNhbGxDb2xsYXBzZWQgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IHdpbmRvdy5pbm5lcldpZHRoIC0gMjc1LCBtYXhTaXplOiAtMjI1LCBwcmltYXJ5OiBcImZpcnN0XCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBoZWlnaHQ6IFwic3RyZXRjaFwiLCBmbGV4OiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgIFNwbGl0UGFuZSxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzaWRlYmFyUGFuZXNcIixcbiAgICAgICAgICBzcGxpdDogaXNOYXJyb3dCcmVha3BvaW50ID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgbWluU2l6ZTogMzAwLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBoZWlnaHQ6IFwic3RyZXRjaFwiLCBmbGV4OiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3BsaXRQYW5lLCB7IGNsYXNzTmFtZTogXCJzaWRlYmFyUGFuZXNcIiwgc3BsaXQ6IFwiaG9yaXpvbnRhbFwiLCBkZWZhdWx0U2l6ZTogaXNOYXJyb3dCcmVha3BvaW50ID8gcGFuZVNpemVPcHRpb25zLmRlZmF1bHRTaXplIDogcGFuZVNpemVPcHRpb25zLm1pblNpemUsIHNpemU6IHBhbmVTaXplT3B0aW9ucy5zaXplLCBhbGxvd1Jlc2l6ZTogcGFuZVNpemVPcHRpb25zLmFsbG93UmVzaXplLCBtaW5TaXplOiBpc05hcnJvd0JyZWFrcG9pbnQgPyBwYW5lU2l6ZU9wdGlvbnMubWluU2l6ZSA6IDEwMCwgbWF4U2l6ZTogcGFuZVNpemVPcHRpb25zLm1heFNpemUsIHByaW1hcnk6IFwiZmlyc3RcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChJbnB1dENvbnRhaW5lciwgeyBkaXNwbGF5OiBcImZsZXhcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInZpc2lvbi1xdWVyeS1lZGl0b3JcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJveCwgeyBmbGV4OiAxLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSW5wdXRCYWNrZ3JvdW5kQ29udGFpbmVyTGVmdCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChGbGV4LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFN0eWxlZExhYmVsLCB7IG11dGVkOiAhMCwgY2hpbGRyZW46IHQoXCJxdWVyeS5sYWJlbFwiKSB9KSB9KSB9KSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFZpc2lvbkNvZGVNaXJyb3IsIHsgaW5pdGlhbFZhbHVlOiBxdWVyeSwgb25DaGFuZ2U6IHNldFF1ZXJ5LCByZWY6IGVkaXRvclF1ZXJ5UmVmIH0pXG4gICAgICAgICAgICAgIF0gfSkgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKElucHV0Q29udGFpbmVyLCB7IGRpc3BsYXk6IFwiZmxleFwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goUGFyYW1zRWRpdG9yLCB7IHZhbHVlOiBwYXJhbXMucmF3LCBvbkNoYW5nZTogaGFuZGxlUGFyYW1zQ2hhbmdlLCBwYXJhbXNFcnJvcjogcGFyYW1zLmVycm9yLCBoYXNWYWxpZFBhcmFtczogcGFyYW1zLnZhbGlkLCBlZGl0b3JSZWY6IGVkaXRvclBhcmFtc1JlZiB9KSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFZpc2lvbkd1aUNvbnRyb2xzLCB7IGhhc1ZhbGlkUGFyYW1zOiBwYXJhbXMudmFsaWQsIHF1ZXJ5SW5Qcm9ncmVzcywgbGlzdGVuSW5Qcm9ncmVzcywgb25RdWVyeUV4ZWN1dGlvbjogaGFuZGxlUXVlcnlFeGVjdXRpb24sIG9uTGlzdGVuRXhlY3V0aW9uOiBoYW5kbGVMaXN0ZW5FeGVjdXRpb24gfSlcbiAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVmlzaW9uR3VpUmVzdWx0LCB7IGVycm9yLCBxdWVyeUluUHJvZ3Jlc3MsIHF1ZXJ5UmVzdWx0LCBsaXN0ZW5JblByb2dyZXNzLCBsaXN0ZW5NdXRhdGlvbnMsIGRhdGFzZXQsIHF1ZXJ5VGltZSwgZTJlVGltZSB9KVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgKSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEJveCwgeyBzdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgICB9LCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyBtb2RlOiBcImdob3N0XCIsIHBhZGRpbmc6IDIsIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICBsZWZ0OiAtMzIsXG4gICAgICAgICAgdG9wOiBcIjUwJVwiLFxuICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC01MCUpXCIsXG4gICAgICAgICAgekluZGV4OiAxMDAsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJhdXRvXCJcbiAgICAgICAgfSwgb25DbGljazogKCkgPT4gc2V0SXNRdWVyeVJlY2FsbENvbGxhcHNlZCghaXNRdWVyeVJlY2FsbENvbGxhcHNlZCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICAgICAgfSwgY2hpbGRyZW46IGlzUXVlcnlSZWNhbGxDb2xsYXBzZWQgPyAvKiBAX19QVVJFX18gKi8ganN4KENoZXZyb25MZWZ0SWNvbiwge30pIDogLyogQF9fUFVSRV9fICovIGpzeChDaGV2cm9uUmlnaHRJY29uLCB7fSkgfSkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goUXVlcnlSZWNhbGwsIHsgdXJsLCBnZXRTdGF0ZUZyb21VcmwsIHNldFN0YXRlRnJvbVBhcnNlZFVybCwgY3VycmVudFF1ZXJ5OiBxdWVyeSwgY3VycmVudFBhcmFtczogcGFyYW1zLnBhcnNlZCB8fCB7fSwgZ2VuZXJhdGVVcmwgfSlcbiAgICAgIF0gfSlcbiAgICBdIH0pIH0pXG4gIF0gfSk7XG59XG5mdW5jdGlvbiB1c2VEYXRhc2V0cyh0MCkge1xuICBjb25zdCAkID0gYyg3KSwge1xuICAgIGNsaWVudCxcbiAgICBkYXRhc2V0czogY29uZmlnRGF0YXNldHNcbiAgfSA9IHQwO1xuICBsZXQgdDE7XG4gIGJiMDoge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZ0RhdGFzZXRzKSkge1xuICAgICAgbGV0IHQyMjtcbiAgICAgICRbMF0gIT09IGNvbmZpZ0RhdGFzZXRzID8gKHQyMiA9IG9mKGNvbmZpZ0RhdGFzZXRzKSwgJFswXSA9IGNvbmZpZ0RhdGFzZXRzLCAkWzFdID0gdDIyKSA6IHQyMiA9ICRbMV0sIHQxID0gdDIyO1xuICAgICAgYnJlYWsgYmIwO1xuICAgIH1cbiAgICBsZXQgdDI7XG4gICAgaWYgKCRbMl0gIT09IGNsaWVudC5vYnNlcnZhYmxlLmRhdGFzZXRzIHx8ICRbM10gIT09IGNvbmZpZ0RhdGFzZXRzKSB7XG4gICAgICBsZXQgdDM7XG4gICAgICAkWzVdICE9PSBjb25maWdEYXRhc2V0cyA/ICh0MyA9IChyZXN1bHQpID0+IHR5cGVvZiBjb25maWdEYXRhc2V0cyA9PSBcImZ1bmN0aW9uXCIgPyBjb25maWdEYXRhc2V0cyhyZXN1bHQpLm1hcChfdGVtcCkgOiByZXN1bHQubWFwKF90ZW1wMiksICRbNV0gPSBjb25maWdEYXRhc2V0cywgJFs2XSA9IHQzKSA6IHQzID0gJFs2XSwgdDIgPSBjbGllbnQub2JzZXJ2YWJsZS5kYXRhc2V0cy5saXN0KCkucGlwZShtYXAkMSh0MyksIGNhdGNoRXJyb3IoX3RlbXAzKSksICRbMl0gPSBjbGllbnQub2JzZXJ2YWJsZS5kYXRhc2V0cywgJFszXSA9IGNvbmZpZ0RhdGFzZXRzLCAkWzRdID0gdDI7XG4gICAgfSBlbHNlXG4gICAgICB0MiA9ICRbNF07XG4gICAgdDEgPSB0MjtcbiAgfVxuICByZXR1cm4gdXNlT2JzZXJ2YWJsZSh0MSwgbnVsbCk7XG59XG5mdW5jdGlvbiBfdGVtcDMoZXJyKSB7XG4gIHJldHVybiBvZihlcnIpO1xufVxuZnVuY3Rpb24gX3RlbXAyKGRzKSB7XG4gIHJldHVybiBkcy5uYW1lO1xufVxuZnVuY3Rpb24gX3RlbXAoZCkge1xuICByZXR1cm4gZC5uYW1lO1xufVxuZnVuY3Rpb24gVmlzaW9uQ29udGFpbmVyKHByb3BzKSB7XG4gIGNvbnN0ICQgPSBjKDE5KTtcbiAgbGV0IHQwO1xuICAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MCA9IHtcbiAgICBhcGlWZXJzaW9uOiBcInYyMDI1LTA2LTI3XCJcbiAgfSwgJFswXSA9IHQwKSA6IHQwID0gJFswXTtcbiAgY29uc3QgZGF0YXNldHNDbGllbnQgPSB1c2VDbGllbnQodDApO1xuICBsZXQgdDE7XG4gICRbMV0gIT09IGRhdGFzZXRzQ2xpZW50IHx8ICRbMl0gIT09IHByb3BzLmNvbmZpZy5kYXRhc2V0cyA/ICh0MSA9IHtcbiAgICBjbGllbnQ6IGRhdGFzZXRzQ2xpZW50LFxuICAgIGRhdGFzZXRzOiBwcm9wcy5jb25maWcuZGF0YXNldHNcbiAgfSwgJFsxXSA9IGRhdGFzZXRzQ2xpZW50LCAkWzJdID0gcHJvcHMuY29uZmlnLmRhdGFzZXRzLCAkWzNdID0gdDEpIDogdDEgPSAkWzNdO1xuICBjb25zdCBsb2FkZWREYXRhc2V0cyA9IHVzZURhdGFzZXRzKHQxKTtcbiAgaWYgKCFsb2FkZWREYXRhc2V0cykge1xuICAgIGxldCB0MjI7XG4gICAgcmV0dXJuICRbNF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpID8gKHQyMiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRmxleCwgeyBhbGlnbjogXCJjZW50ZXJcIiwgaGVpZ2h0OiBcImZpbGxcIiwganVzdGlmeTogXCJjZW50ZXJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goRGVsYXllZFNwaW5uZXIsIHt9KSB9KSwgJFs0XSA9IHQyMikgOiB0MjIgPSAkWzRdLCB0MjI7XG4gIH1cbiAgbGV0IHQyO1xuICAkWzVdICE9PSBsb2FkZWREYXRhc2V0cyB8fCAkWzZdICE9PSBwcm9wcy5jbGllbnQgPyAodDIgPSBsb2FkZWREYXRhc2V0cyBpbnN0YW5jZW9mIEVycm9yID8gW3Byb3BzLmNsaWVudC5jb25maWcoKS5kYXRhc2V0IHx8IFwicHJvZHVjdGlvblwiXSA6IGxvYWRlZERhdGFzZXRzLCAkWzVdID0gbG9hZGVkRGF0YXNldHMsICRbNl0gPSBwcm9wcy5jbGllbnQsICRbN10gPSB0MikgOiB0MiA9ICRbN107XG4gIGNvbnN0IGRhdGFzZXRzID0gdDI7XG4gIGxldCB0MztcbiAgJFs4XSAhPT0gcHJvcHMuY2xpZW50ID8gKHQzID0gcHJvcHMuY2xpZW50LmNvbmZpZygpLCAkWzhdID0gcHJvcHMuY2xpZW50LCAkWzldID0gdDMpIDogdDMgPSAkWzldO1xuICBjb25zdCBwcm9qZWN0SWQgPSB0My5wcm9qZWN0SWQ7XG4gIGxldCB0NDtcbiAgJFsxMF0gIT09IGRhdGFzZXRzIHx8ICRbMTFdICE9PSBwcm9wcy5jbGllbnQgfHwgJFsxMl0gIT09IHByb3BzLmNvbmZpZy5kZWZhdWx0RGF0YXNldCA/ICh0NCA9IHByb3BzLmNvbmZpZy5kZWZhdWx0RGF0YXNldCB8fCBwcm9wcy5jbGllbnQuY29uZmlnKCkuZGF0YXNldCB8fCBkYXRhc2V0c1swXSwgJFsxMF0gPSBkYXRhc2V0cywgJFsxMV0gPSBwcm9wcy5jbGllbnQsICRbMTJdID0gcHJvcHMuY29uZmlnLmRlZmF1bHREYXRhc2V0LCAkWzEzXSA9IHQ0KSA6IHQ0ID0gJFsxM107XG4gIGNvbnN0IGRlZmF1bHREYXRhc2V0ID0gdDQ7XG4gIGxldCB0NTtcbiAgcmV0dXJuICRbMTRdICE9PSBkYXRhc2V0cyB8fCAkWzE1XSAhPT0gZGVmYXVsdERhdGFzZXQgfHwgJFsxNl0gIT09IHByb2plY3RJZCB8fCAkWzE3XSAhPT0gcHJvcHMgPyAodDUgPSAvKiBAX19QVVJFX18gKi8ganN4KFZpc2lvbkd1aSwgeyAuLi5wcm9wcywgZGF0YXNldHMsIHByb2plY3RJZCwgZGVmYXVsdERhdGFzZXQgfSwgcHJvamVjdElkKSwgJFsxNF0gPSBkYXRhc2V0cywgJFsxNV0gPSBkZWZhdWx0RGF0YXNldCwgJFsxNl0gPSBwcm9qZWN0SWQsICRbMTddID0gcHJvcHMsICRbMThdID0gdDUpIDogdDUgPSAkWzE4XSwgdDU7XG59XG5jbGFzcyBWaXNpb25FcnJvckJvdW5kYXJ5IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyksIHRoaXMuc3RhdGUgPSB7XG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIG51bVJldHJpZXM6IDBcbiAgICB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogYCR7ZXJyb3J9YFxuICAgIH07XG4gIH1cbiAgaGFuZGxlUmV0cnlSZW5kZXIgPSAoKSA9PiB0aGlzLnNldFN0YXRlKChwcmV2KSA9PiAoe1xuICAgIGVycm9yOiBudWxsLFxuICAgIG51bVJldHJpZXM6IHByZXYubnVtUmV0cmllcyArIDFcbiAgfSkpO1xuICBoYW5kbGVSZXRyeVdpdGhDYWNoZUNsZWFyID0gKCkgPT4ge1xuICAgIGNsZWFyTG9jYWxTdG9yYWdlKCksIHRoaXMuaGFuZGxlUmV0cnlSZW5kZXIoKTtcbiAgfTtcbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5lcnJvcilcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLmVycm9yLCB3aXRoQ2FjaGVDbGVhciA9IHRoaXMuc3RhdGUubnVtUmV0cmllcyA+IDA7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBoZWlnaHQ6IFwiZmlsbFwiLCBvdmVyZmxvdzogXCJhdXRvXCIsIHBhZGRpbmdZOiBbNCwgNSwgNiwgN10sIHBhZGRpbmdYOiA0LCBzaXppbmc6IFwiYm9yZGVyXCIsIHRvbmU6IFwiY3JpdGljYWxcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29udGFpbmVyLCB7IHdpZHRoOiAzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgc3BhY2U6IDQsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQnV0dG9uLCB7IG9uQ2xpY2s6IHdpdGhDYWNoZUNsZWFyID8gdGhpcy5oYW5kbGVSZXRyeVdpdGhDYWNoZUNsZWFyIDogdGhpcy5oYW5kbGVSZXRyeVJlbmRlciwgdGV4dDogd2l0aENhY2hlQ2xlYXIgPyBcIkNsZWFyIGNhY2hlIGFuZCByZXRyeVwiIDogXCJSZXRyeVwiLCB0b25lOiBcImRlZmF1bHRcIiB9KSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goSGVhZGluZywgeyBjaGlsZHJlbjogXCJBbiBlcnJvciBvY2N1cnJlZFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDYXJkLCB7IGJvcmRlcjogITAsIHJhZGl1czogMiwgb3ZlcmZsb3c6IFwiYXV0b1wiLCBwYWRkaW5nOiA0LCB0b25lOiBcImluaGVyaXRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RhY2ssIHsgc3BhY2U6IDQsIGNoaWxkcmVuOiBtZXNzYWdlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29kZSwgeyBzaXplOiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJzdHJvbmdcIiwgeyBjaGlsZHJlbjogW1xuICAgICAgICBcIkVycm9yOiBcIixcbiAgICAgICAgbWVzc2FnZVxuICAgICAgXSB9KSB9KSB9KSB9KVxuICAgIF0gfSkgfSkgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIFNhbml0eVZpc2lvbihwcm9wcykge1xuICBjb25zdCAkID0gYyg2KTtcbiAgbGV0IHQwO1xuICAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MCA9IHtcbiAgICBhcGlWZXJzaW9uOiBcIjFcIlxuICB9LCAkWzBdID0gdDApIDogdDAgPSAkWzBdO1xuICBjb25zdCBjbGllbnQgPSB1c2VDbGllbnQodDApO1xuICBsZXQgdDE7XG4gICRbMV0gIT09IHByb3BzLnRvb2wub3B0aW9ucyA/ICh0MSA9IHtcbiAgICBkZWZhdWx0QXBpVmVyc2lvbjogREVGQVVMVF9BUElfVkVSU0lPTixcbiAgICAuLi5wcm9wcy50b29sLm9wdGlvbnNcbiAgfSwgJFsxXSA9IHByb3BzLnRvb2wub3B0aW9ucywgJFsyXSA9IHQxKSA6IHQxID0gJFsyXTtcbiAgY29uc3QgY29uZmlnID0gdDE7XG4gIGxldCB0MjtcbiAgcmV0dXJuICRbM10gIT09IGNsaWVudCB8fCAkWzRdICE9PSBjb25maWcgPyAodDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFZpc2lvbkVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlzaW9uQ29udGFpbmVyLCB7IGNsaWVudCwgY29uZmlnIH0pIH0pLCAkWzNdID0gY2xpZW50LCAkWzRdID0gY29uZmlnLCAkWzVdID0gdDIpIDogdDIgPSAkWzVdLCB0Mjtcbn1cbmV4cG9ydCB7XG4gIFNhbml0eVZpc2lvbiBhcyBkZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2FuaXR5VmlzaW9uLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/index.mjs":
/*!***********************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/index.mjs ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   visionLocaleNamespace: () => (/* binding */ visionLocaleNamespace),\n/* harmony export */   visionTool: () => (/* binding */ visionTool)\n/* harmony export */ });\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sanity/icons */ \"(ssr)/../node_modules/.pnpm/@sanity+icons@3.7.4_react@18.3.1/node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/.pnpm/next@15.5.2_@babel+core@7.2_a4e656b99e842170c0a22eb76d21770b/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sanity */ \"(ssr)/../node_modules/.pnpm/sanity@3.99.0_@emotion+is-p_bc64cbb7fc7bae6c354f41cec809cb1d/node_modules/sanity/lib/index.mjs\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sanity/router */ \"(ssr)/../node_modules/.pnpm/sanity@3.99.0_@emotion+is-p_bc64cbb7fc7bae6c354f41cec809cb1d/node_modules/sanity/lib/router.mjs\");\n\n\n\n\nconst visionLocaleNamespace = \"vision\", visionUsEnglishLocaleBundle = (0,sanity__WEBPACK_IMPORTED_MODULE_1__.defineLocaleResourceBundle)({\n  locale: \"en-US\",\n  namespace: visionLocaleNamespace,\n  resources: () => __webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21\").then(__webpack_require__.bind(__webpack_require__, /*! ./resources.mjs */ \"(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/resources.mjs\"))\n}), visionTool = (0,sanity__WEBPACK_IMPORTED_MODULE_1__.definePlugin)((options) => {\n  const {\n    name,\n    title,\n    icon,\n    ...config\n  } = options || {};\n  return {\n    name: \"@sanity/vision\",\n    tools: [{\n      name: name || \"vision\",\n      title: title || \"Vision\",\n      icon: icon || _sanity_icons__WEBPACK_IMPORTED_MODULE_2__.EyeOpenIcon,\n      component: (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21\"), __webpack_require__.e(\"vendor-chunks/@babel+runtime@7.28.4\"), __webpack_require__.e(\"vendor-chunks/@uiw+react-codemirror@4.25._0ea69cd3faaef1d64325e5dcf2d03daf\"), __webpack_require__.e(\"vendor-chunks/json-2-csv@5.5.9\"), __webpack_require__.e(\"vendor-chunks/deeks@3.1.0\"), __webpack_require__.e(\"vendor-chunks/w3c-keyname@2.2.8\"), __webpack_require__.e(\"vendor-chunks/style-mod@4.1.2\"), __webpack_require__.e(\"vendor-chunks/json5@2.2.3\"), __webpack_require__.e(\"vendor-chunks/crelt@1.0.6\"), __webpack_require__.e(\"vendor-chunks/@uiw+codemirror-extensions-_522ba9078775f5c320216ea1e0c6a2ad\"), __webpack_require__.e(\"vendor-chunks/@rexxars+react-split-pane@1_d9b9a088cac165a8bb505925c7ad00a4\"), __webpack_require__.e(\"vendor-chunks/@marijn+find-cluster-break@1.0.2\"), __webpack_require__.e(\"vendor-chunks/@lezer+lr@1.4.2\"), __webpack_require__.e(\"vendor-chunks/@lezer+javascript@1.5.4\"), __webpack_require__.e(\"vendor-chunks/@lezer+highlight@1.2.1\"), __webpack_require__.e(\"vendor-chunks/@lezer+common@1.2.3\"), __webpack_require__.e(\"vendor-chunks/@codemirror+view@6.38.2\"), __webpack_require__.e(\"vendor-chunks/@codemirror+theme-one-dark@6.1.3\"), __webpack_require__.e(\"vendor-chunks/@codemirror+state@6.5.2\"), __webpack_require__.e(\"vendor-chunks/@codemirror+search@6.5.11\"), __webpack_require__.e(\"vendor-chunks/@codemirror+lint@6.8.5\"), __webpack_require__.e(\"vendor-chunks/@codemirror+language@6.11.3\"), __webpack_require__.e(\"vendor-chunks/@codemirror+lang-javascript@6.2.4\"), __webpack_require__.e(\"vendor-chunks/@codemirror+commands@6.8.1\"), __webpack_require__.e(\"vendor-chunks/@codemirror+autocomplete@6.18.7\"), __webpack_require__.e(\"vendor-chunks/doc-path@4.1.1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./SanityVision.mjs */ \"(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/SanityVision.mjs\"))),\n      options: config,\n      router: sanity_router__WEBPACK_IMPORTED_MODULE_3__.route.create(\"/*\"),\n      __internalApplicationType: \"sanity/vision\"\n    }],\n    i18n: {\n      bundles: [visionUsEnglishLocaleBundle]\n    }\n  };\n});\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrdmlzaW9uQDMuOTkuMF9AYmFiZV83OTY3MjQzY2VhZmM5NDVkNzRhMzgyZDY3ZWFjNWEyMS9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbGliL19jaHVua3MtZXMvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0QztBQUNmO0FBQ3FDO0FBQzVCO0FBQ3RDLHNFQUFzRSxrRUFBMEI7QUFDaEc7QUFDQTtBQUNBLG1CQUFtQixtVkFBeUI7QUFDNUMsQ0FBQyxnQkFBZ0Isb0RBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNEQUFXO0FBQy9CLGlCQUFpQiwyQ0FBSSxPQUFPLGkvREFBNEI7QUFDeEQ7QUFDQSxjQUFjLGdEQUFLO0FBQ25CO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUlDO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxub2RlX21vZHVsZXNcXC5wbnBtXFxAc2FuaXR5K3Zpc2lvbkAzLjk5LjBfQGJhYmVfNzk2NzI0M2NlYWZjOTQ1ZDc0YTM4MmQ2N2VhYzVhMjFcXG5vZGVfbW9kdWxlc1xcQHNhbml0eVxcdmlzaW9uXFxsaWJcXF9jaHVua3MtZXNcXGluZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeWVPcGVuSWNvbiB9IGZyb20gXCJAc2FuaXR5L2ljb25zXCI7XG5pbXBvcnQgeyBsYXp5IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBkZWZpbmVMb2NhbGVSZXNvdXJjZUJ1bmRsZSwgZGVmaW5lUGx1Z2luIH0gZnJvbSBcInNhbml0eVwiO1xuaW1wb3J0IHsgcm91dGUgfSBmcm9tIFwic2FuaXR5L3JvdXRlclwiO1xuY29uc3QgdmlzaW9uTG9jYWxlTmFtZXNwYWNlID0gXCJ2aXNpb25cIiwgdmlzaW9uVXNFbmdsaXNoTG9jYWxlQnVuZGxlID0gZGVmaW5lTG9jYWxlUmVzb3VyY2VCdW5kbGUoe1xuICBsb2NhbGU6IFwiZW4tVVNcIixcbiAgbmFtZXNwYWNlOiB2aXNpb25Mb2NhbGVOYW1lc3BhY2UsXG4gIHJlc291cmNlczogKCkgPT4gaW1wb3J0KFwiLi9yZXNvdXJjZXMubWpzXCIpXG59KSwgdmlzaW9uVG9vbCA9IGRlZmluZVBsdWdpbigob3B0aW9ucykgPT4ge1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICB0aXRsZSxcbiAgICBpY29uLFxuICAgIC4uLmNvbmZpZ1xuICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcIkBzYW5pdHkvdmlzaW9uXCIsXG4gICAgdG9vbHM6IFt7XG4gICAgICBuYW1lOiBuYW1lIHx8IFwidmlzaW9uXCIsXG4gICAgICB0aXRsZTogdGl0bGUgfHwgXCJWaXNpb25cIixcbiAgICAgIGljb246IGljb24gfHwgRXllT3Blbkljb24sXG4gICAgICBjb21wb25lbnQ6IGxhenkoKCkgPT4gaW1wb3J0KFwiLi9TYW5pdHlWaXNpb24ubWpzXCIpKSxcbiAgICAgIG9wdGlvbnM6IGNvbmZpZyxcbiAgICAgIHJvdXRlcjogcm91dGUuY3JlYXRlKFwiLypcIiksXG4gICAgICBfX2ludGVybmFsQXBwbGljYXRpb25UeXBlOiBcInNhbml0eS92aXNpb25cIlxuICAgIH1dLFxuICAgIGkxOG46IHtcbiAgICAgIGJ1bmRsZXM6IFt2aXNpb25Vc0VuZ2xpc2hMb2NhbGVCdW5kbGVdXG4gICAgfVxuICB9O1xufSk7XG5leHBvcnQge1xuICB2aXNpb25Mb2NhbGVOYW1lc3BhY2UsXG4gIHZpc2lvblRvb2xcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/index.mjs\n");

/***/ }),

/***/ "(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/resources.mjs":
/*!***************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/resources.mjs ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ visionLocaleStrings)\n/* harmony export */ });\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sanity */ \"(ssr)/../node_modules/.pnpm/sanity@3.99.0_@emotion+is-p_bc64cbb7fc7bae6c354f41cec809cb1d/node_modules/sanity/lib/index.mjs\");\n\nconst visionLocaleStrings = (0,sanity__WEBPACK_IMPORTED_MODULE_0__.defineLocalesResources)(\"vision\", {\n  /** Label for action \"Copy to clipboard\", tied to the \"Query URL\" field. Also used for accessibility purposes on button */\n  \"action.copy-url-to-clipboard\": \"Copy to clipboard\",\n  /** Label for deleting a query */\n  \"action.delete\": \"Delete\",\n  /** Label for editing a query's title */\n  \"action.edit-title\": \"Edit title\",\n  /** Label for stopping an ongoing listen operation */\n  \"action.listen-cancel\": \"Stop\",\n  /** Label for setting up a listener */\n  \"action.listen-execute\": \"Listen\",\n  /** Label for query loading table */\n  \"action.load-queries\": \"Load queries\",\n  /** Label for loading a query */\n  \"action.load-query\": \"Load query\",\n  /** Label for cancelling an ongoing query */\n  \"action.query-cancel\": \"Cancel\",\n  /** Label for executing the query, eg doing a fetch */\n  \"action.query-execute\": \"Fetch\",\n  /** Label for saving a query */\n  \"action.save-query\": \"Save query\",\n  /** Label for updating a query */\n  \"action.update\": \"Update\",\n  /** Label for actions user can take */\n  \"label.actions\": \"Actions\",\n  /** Label for saved queries that have been edited */\n  \"label.edited\": \"Edited\",\n  /**\n   * Some features has a \"New\" label indicating that the feature was recently introduced.\n   * This defines what the text of that label is. Keep it short and sweet.\n   */\n  \"label.new\": \"New\",\n  /** Label for query type \"personal\" */\n  \"label.personal\": \"Personal\",\n  /** Label for savedAt date */\n  \"label.saved-at\": \"Saved at\",\n  /** Saved queries */\n  \"label.saved-queries\": \"Saved queries\",\n  /** Search queries */\n  \"label.search-queries\": \"Search queries\",\n  /** Share query */\n  \"label.share\": \"Share\",\n  /** Label for saved query type \"team\" */\n  \"label.team\": \"Team\",\n  /** Error message for when the \"Params\" input are not a valid json */\n  \"params.error.params-invalid-json\": \"Parameters are not valid JSON\",\n  /** Label for \"Params\" (parameters) editor/input */\n  \"params.label\": \"Params\",\n  /** Label for 'Column' indicator when there is an error within the query */\n  \"query.error.column\": \"Column\",\n  /** Label for 'Line' indicator when there is an error within the query */\n  \"query.error.line\": \"Line\",\n  /** Label for \"Query\" editor/input */\n  \"query.label\": \"Query\",\n  /** Label for the \"Query URL\" field, shown after executing a query, and allows for copying */\n  \"query.url\": \"Query URL\",\n  /** Label for \"End to End time\" information of the fetched query */\n  \"result.end-to-end-time-label\": \"End-to-end\",\n  /** Label for \"Execution time\" information of the fetched query */\n  \"result.execution-time-label\": \"Execution\",\n  /** Label for \"Result\" explorer/view */\n  \"result.label\": \"Result\",\n  /** Tooltip text shown when the query result is not encodable as CSV */\n  \"result.save-result-as-csv.not-csv-encodable\": \"Result cannot be encoded as CSV\",\n  /** Label for \"Save result as\" result action */\n  \"result.save-result-as-format\": \"Save result as <SaveResultButtons/>\",\n  /**\n   * \"Not applicable\" message for when there is no Execution time or End to End time information\n   * available for the query (eg when the query has not been executed, or errored)\n   */\n  \"result.timing-not-applicable\": \"n/a\",\n  /** Query already saved error label */\n  \"save-query.already-saved\": \"Query already saved\",\n  /** Save error label */\n  \"save-query.error\": \"Error saving query\",\n  /** Save success label */\n  \"save-query.success\": \"Query saved\",\n  /** Label for the \"API version\" dropdown in settings */\n  \"settings.api-version-label\": \"API version\",\n  /** Label for the \"Custom API version\" input in settings, shown when \"other\" is chosen as API version */\n  \"settings.custom-api-version-label\": \"Custom API version\",\n  /** Label for the \"Dataset\" dropdown in vision settings */\n  \"settings.dataset-label\": \"Dataset\",\n  /** Error label for when the API version in 'Custom API version' input is invalid */\n  \"settings.error.invalid-api-version\": \"Invalid API version\",\n  /** Label for the \"other\" versions within the \"API version\" dropdown */\n  \"settings.other-api-version-label\": \"Other\",\n  /**\n   * Label for the \"Perspective\" dropdown in vision settings\n   * @see {@link https://www.sanity.io/docs/perspectives}\n   */\n  \"settings.perspective-label\": \"Perspective\",\n  /** Notification about previewDrafts to drafts rename */\n  \"settings.perspective.preview-drafts-renamed-to-drafts.description\": 'The \"<code>previewDrafts</code>\" perspective has been renamed to \"<code>drafts</code>\" and is now deprecated. This change is effective for all versions with perspective support (>= v2021-03-25).',\n  /** Call to action to read the docs related to \"Perspectives\" */\n  \"settings.perspectives.action.docs-link\": \"Read docs\",\n  /** Option for selecting default perspective */\n  \"settings.perspectives.default\": \"No perspective (API default)\",\n  /** Description for popover that explains what \"Perspectives\" are */\n  \"settings.perspectives.description\": 'Perspectives allow your query to run against different \"views\" of the content in your dataset',\n  /** Description for upcoming default perspective change */\n  \"settings.perspectives.new-default.description\": 'The default perspective will change from \"<code>raw</code>\" to \"<code>published</code>\" in an upcoming API version. Please consult docs for more details.',\n  /** Label for the pinned release perspective */\n  \"settings.perspectives.pinned-release-label\": \"Pinned release\",\n  /** Title for popover that explains what \"Perspectives\" are */\n  \"settings.perspectives.title\": \"Perspectives\"\n});\n\n//# sourceMappingURL=resources.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrdmlzaW9uQDMuOTkuMF9AYmFiZV83OTY3MjQzY2VhZmM5NDVkNzRhMzgyZDY3ZWFjNWEyMS9ub2RlX21vZHVsZXMvQHNhbml0eS92aXNpb24vbGliL19jaHVua3MtZXMvcmVzb3VyY2VzLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRDtBQUNoRCw0QkFBNEIsOERBQXNCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUdDO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxub2RlX21vZHVsZXNcXC5wbnBtXFxAc2FuaXR5K3Zpc2lvbkAzLjk5LjBfQGJhYmVfNzk2NzI0M2NlYWZjOTQ1ZDc0YTM4MmQ2N2VhYzVhMjFcXG5vZGVfbW9kdWxlc1xcQHNhbml0eVxcdmlzaW9uXFxsaWJcXF9jaHVua3MtZXNcXHJlc291cmNlcy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmaW5lTG9jYWxlc1Jlc291cmNlcyB9IGZyb20gXCJzYW5pdHlcIjtcbmNvbnN0IHZpc2lvbkxvY2FsZVN0cmluZ3MgPSBkZWZpbmVMb2NhbGVzUmVzb3VyY2VzKFwidmlzaW9uXCIsIHtcbiAgLyoqIExhYmVsIGZvciBhY3Rpb24gXCJDb3B5IHRvIGNsaXBib2FyZFwiLCB0aWVkIHRvIHRoZSBcIlF1ZXJ5IFVSTFwiIGZpZWxkLiBBbHNvIHVzZWQgZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMgb24gYnV0dG9uICovXG4gIFwiYWN0aW9uLmNvcHktdXJsLXRvLWNsaXBib2FyZFwiOiBcIkNvcHkgdG8gY2xpcGJvYXJkXCIsXG4gIC8qKiBMYWJlbCBmb3IgZGVsZXRpbmcgYSBxdWVyeSAqL1xuICBcImFjdGlvbi5kZWxldGVcIjogXCJEZWxldGVcIixcbiAgLyoqIExhYmVsIGZvciBlZGl0aW5nIGEgcXVlcnkncyB0aXRsZSAqL1xuICBcImFjdGlvbi5lZGl0LXRpdGxlXCI6IFwiRWRpdCB0aXRsZVwiLFxuICAvKiogTGFiZWwgZm9yIHN0b3BwaW5nIGFuIG9uZ29pbmcgbGlzdGVuIG9wZXJhdGlvbiAqL1xuICBcImFjdGlvbi5saXN0ZW4tY2FuY2VsXCI6IFwiU3RvcFwiLFxuICAvKiogTGFiZWwgZm9yIHNldHRpbmcgdXAgYSBsaXN0ZW5lciAqL1xuICBcImFjdGlvbi5saXN0ZW4tZXhlY3V0ZVwiOiBcIkxpc3RlblwiLFxuICAvKiogTGFiZWwgZm9yIHF1ZXJ5IGxvYWRpbmcgdGFibGUgKi9cbiAgXCJhY3Rpb24ubG9hZC1xdWVyaWVzXCI6IFwiTG9hZCBxdWVyaWVzXCIsXG4gIC8qKiBMYWJlbCBmb3IgbG9hZGluZyBhIHF1ZXJ5ICovXG4gIFwiYWN0aW9uLmxvYWQtcXVlcnlcIjogXCJMb2FkIHF1ZXJ5XCIsXG4gIC8qKiBMYWJlbCBmb3IgY2FuY2VsbGluZyBhbiBvbmdvaW5nIHF1ZXJ5ICovXG4gIFwiYWN0aW9uLnF1ZXJ5LWNhbmNlbFwiOiBcIkNhbmNlbFwiLFxuICAvKiogTGFiZWwgZm9yIGV4ZWN1dGluZyB0aGUgcXVlcnksIGVnIGRvaW5nIGEgZmV0Y2ggKi9cbiAgXCJhY3Rpb24ucXVlcnktZXhlY3V0ZVwiOiBcIkZldGNoXCIsXG4gIC8qKiBMYWJlbCBmb3Igc2F2aW5nIGEgcXVlcnkgKi9cbiAgXCJhY3Rpb24uc2F2ZS1xdWVyeVwiOiBcIlNhdmUgcXVlcnlcIixcbiAgLyoqIExhYmVsIGZvciB1cGRhdGluZyBhIHF1ZXJ5ICovXG4gIFwiYWN0aW9uLnVwZGF0ZVwiOiBcIlVwZGF0ZVwiLFxuICAvKiogTGFiZWwgZm9yIGFjdGlvbnMgdXNlciBjYW4gdGFrZSAqL1xuICBcImxhYmVsLmFjdGlvbnNcIjogXCJBY3Rpb25zXCIsXG4gIC8qKiBMYWJlbCBmb3Igc2F2ZWQgcXVlcmllcyB0aGF0IGhhdmUgYmVlbiBlZGl0ZWQgKi9cbiAgXCJsYWJlbC5lZGl0ZWRcIjogXCJFZGl0ZWRcIixcbiAgLyoqXG4gICAqIFNvbWUgZmVhdHVyZXMgaGFzIGEgXCJOZXdcIiBsYWJlbCBpbmRpY2F0aW5nIHRoYXQgdGhlIGZlYXR1cmUgd2FzIHJlY2VudGx5IGludHJvZHVjZWQuXG4gICAqIFRoaXMgZGVmaW5lcyB3aGF0IHRoZSB0ZXh0IG9mIHRoYXQgbGFiZWwgaXMuIEtlZXAgaXQgc2hvcnQgYW5kIHN3ZWV0LlxuICAgKi9cbiAgXCJsYWJlbC5uZXdcIjogXCJOZXdcIixcbiAgLyoqIExhYmVsIGZvciBxdWVyeSB0eXBlIFwicGVyc29uYWxcIiAqL1xuICBcImxhYmVsLnBlcnNvbmFsXCI6IFwiUGVyc29uYWxcIixcbiAgLyoqIExhYmVsIGZvciBzYXZlZEF0IGRhdGUgKi9cbiAgXCJsYWJlbC5zYXZlZC1hdFwiOiBcIlNhdmVkIGF0XCIsXG4gIC8qKiBTYXZlZCBxdWVyaWVzICovXG4gIFwibGFiZWwuc2F2ZWQtcXVlcmllc1wiOiBcIlNhdmVkIHF1ZXJpZXNcIixcbiAgLyoqIFNlYXJjaCBxdWVyaWVzICovXG4gIFwibGFiZWwuc2VhcmNoLXF1ZXJpZXNcIjogXCJTZWFyY2ggcXVlcmllc1wiLFxuICAvKiogU2hhcmUgcXVlcnkgKi9cbiAgXCJsYWJlbC5zaGFyZVwiOiBcIlNoYXJlXCIsXG4gIC8qKiBMYWJlbCBmb3Igc2F2ZWQgcXVlcnkgdHlwZSBcInRlYW1cIiAqL1xuICBcImxhYmVsLnRlYW1cIjogXCJUZWFtXCIsXG4gIC8qKiBFcnJvciBtZXNzYWdlIGZvciB3aGVuIHRoZSBcIlBhcmFtc1wiIGlucHV0IGFyZSBub3QgYSB2YWxpZCBqc29uICovXG4gIFwicGFyYW1zLmVycm9yLnBhcmFtcy1pbnZhbGlkLWpzb25cIjogXCJQYXJhbWV0ZXJzIGFyZSBub3QgdmFsaWQgSlNPTlwiLFxuICAvKiogTGFiZWwgZm9yIFwiUGFyYW1zXCIgKHBhcmFtZXRlcnMpIGVkaXRvci9pbnB1dCAqL1xuICBcInBhcmFtcy5sYWJlbFwiOiBcIlBhcmFtc1wiLFxuICAvKiogTGFiZWwgZm9yICdDb2x1bW4nIGluZGljYXRvciB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIHdpdGhpbiB0aGUgcXVlcnkgKi9cbiAgXCJxdWVyeS5lcnJvci5jb2x1bW5cIjogXCJDb2x1bW5cIixcbiAgLyoqIExhYmVsIGZvciAnTGluZScgaW5kaWNhdG9yIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3Igd2l0aGluIHRoZSBxdWVyeSAqL1xuICBcInF1ZXJ5LmVycm9yLmxpbmVcIjogXCJMaW5lXCIsXG4gIC8qKiBMYWJlbCBmb3IgXCJRdWVyeVwiIGVkaXRvci9pbnB1dCAqL1xuICBcInF1ZXJ5LmxhYmVsXCI6IFwiUXVlcnlcIixcbiAgLyoqIExhYmVsIGZvciB0aGUgXCJRdWVyeSBVUkxcIiBmaWVsZCwgc2hvd24gYWZ0ZXIgZXhlY3V0aW5nIGEgcXVlcnksIGFuZCBhbGxvd3MgZm9yIGNvcHlpbmcgKi9cbiAgXCJxdWVyeS51cmxcIjogXCJRdWVyeSBVUkxcIixcbiAgLyoqIExhYmVsIGZvciBcIkVuZCB0byBFbmQgdGltZVwiIGluZm9ybWF0aW9uIG9mIHRoZSBmZXRjaGVkIHF1ZXJ5ICovXG4gIFwicmVzdWx0LmVuZC10by1lbmQtdGltZS1sYWJlbFwiOiBcIkVuZC10by1lbmRcIixcbiAgLyoqIExhYmVsIGZvciBcIkV4ZWN1dGlvbiB0aW1lXCIgaW5mb3JtYXRpb24gb2YgdGhlIGZldGNoZWQgcXVlcnkgKi9cbiAgXCJyZXN1bHQuZXhlY3V0aW9uLXRpbWUtbGFiZWxcIjogXCJFeGVjdXRpb25cIixcbiAgLyoqIExhYmVsIGZvciBcIlJlc3VsdFwiIGV4cGxvcmVyL3ZpZXcgKi9cbiAgXCJyZXN1bHQubGFiZWxcIjogXCJSZXN1bHRcIixcbiAgLyoqIFRvb2x0aXAgdGV4dCBzaG93biB3aGVuIHRoZSBxdWVyeSByZXN1bHQgaXMgbm90IGVuY29kYWJsZSBhcyBDU1YgKi9cbiAgXCJyZXN1bHQuc2F2ZS1yZXN1bHQtYXMtY3N2Lm5vdC1jc3YtZW5jb2RhYmxlXCI6IFwiUmVzdWx0IGNhbm5vdCBiZSBlbmNvZGVkIGFzIENTVlwiLFxuICAvKiogTGFiZWwgZm9yIFwiU2F2ZSByZXN1bHQgYXNcIiByZXN1bHQgYWN0aW9uICovXG4gIFwicmVzdWx0LnNhdmUtcmVzdWx0LWFzLWZvcm1hdFwiOiBcIlNhdmUgcmVzdWx0IGFzIDxTYXZlUmVzdWx0QnV0dG9ucy8+XCIsXG4gIC8qKlxuICAgKiBcIk5vdCBhcHBsaWNhYmxlXCIgbWVzc2FnZSBmb3Igd2hlbiB0aGVyZSBpcyBubyBFeGVjdXRpb24gdGltZSBvciBFbmQgdG8gRW5kIHRpbWUgaW5mb3JtYXRpb25cbiAgICogYXZhaWxhYmxlIGZvciB0aGUgcXVlcnkgKGVnIHdoZW4gdGhlIHF1ZXJ5IGhhcyBub3QgYmVlbiBleGVjdXRlZCwgb3IgZXJyb3JlZClcbiAgICovXG4gIFwicmVzdWx0LnRpbWluZy1ub3QtYXBwbGljYWJsZVwiOiBcIm4vYVwiLFxuICAvKiogUXVlcnkgYWxyZWFkeSBzYXZlZCBlcnJvciBsYWJlbCAqL1xuICBcInNhdmUtcXVlcnkuYWxyZWFkeS1zYXZlZFwiOiBcIlF1ZXJ5IGFscmVhZHkgc2F2ZWRcIixcbiAgLyoqIFNhdmUgZXJyb3IgbGFiZWwgKi9cbiAgXCJzYXZlLXF1ZXJ5LmVycm9yXCI6IFwiRXJyb3Igc2F2aW5nIHF1ZXJ5XCIsXG4gIC8qKiBTYXZlIHN1Y2Nlc3MgbGFiZWwgKi9cbiAgXCJzYXZlLXF1ZXJ5LnN1Y2Nlc3NcIjogXCJRdWVyeSBzYXZlZFwiLFxuICAvKiogTGFiZWwgZm9yIHRoZSBcIkFQSSB2ZXJzaW9uXCIgZHJvcGRvd24gaW4gc2V0dGluZ3MgKi9cbiAgXCJzZXR0aW5ncy5hcGktdmVyc2lvbi1sYWJlbFwiOiBcIkFQSSB2ZXJzaW9uXCIsXG4gIC8qKiBMYWJlbCBmb3IgdGhlIFwiQ3VzdG9tIEFQSSB2ZXJzaW9uXCIgaW5wdXQgaW4gc2V0dGluZ3MsIHNob3duIHdoZW4gXCJvdGhlclwiIGlzIGNob3NlbiBhcyBBUEkgdmVyc2lvbiAqL1xuICBcInNldHRpbmdzLmN1c3RvbS1hcGktdmVyc2lvbi1sYWJlbFwiOiBcIkN1c3RvbSBBUEkgdmVyc2lvblwiLFxuICAvKiogTGFiZWwgZm9yIHRoZSBcIkRhdGFzZXRcIiBkcm9wZG93biBpbiB2aXNpb24gc2V0dGluZ3MgKi9cbiAgXCJzZXR0aW5ncy5kYXRhc2V0LWxhYmVsXCI6IFwiRGF0YXNldFwiLFxuICAvKiogRXJyb3IgbGFiZWwgZm9yIHdoZW4gdGhlIEFQSSB2ZXJzaW9uIGluICdDdXN0b20gQVBJIHZlcnNpb24nIGlucHV0IGlzIGludmFsaWQgKi9cbiAgXCJzZXR0aW5ncy5lcnJvci5pbnZhbGlkLWFwaS12ZXJzaW9uXCI6IFwiSW52YWxpZCBBUEkgdmVyc2lvblwiLFxuICAvKiogTGFiZWwgZm9yIHRoZSBcIm90aGVyXCIgdmVyc2lvbnMgd2l0aGluIHRoZSBcIkFQSSB2ZXJzaW9uXCIgZHJvcGRvd24gKi9cbiAgXCJzZXR0aW5ncy5vdGhlci1hcGktdmVyc2lvbi1sYWJlbFwiOiBcIk90aGVyXCIsXG4gIC8qKlxuICAgKiBMYWJlbCBmb3IgdGhlIFwiUGVyc3BlY3RpdmVcIiBkcm9wZG93biBpbiB2aXNpb24gc2V0dGluZ3NcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuc2FuaXR5LmlvL2RvY3MvcGVyc3BlY3RpdmVzfVxuICAgKi9cbiAgXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZS1sYWJlbFwiOiBcIlBlcnNwZWN0aXZlXCIsXG4gIC8qKiBOb3RpZmljYXRpb24gYWJvdXQgcHJldmlld0RyYWZ0cyB0byBkcmFmdHMgcmVuYW1lICovXG4gIFwic2V0dGluZ3MucGVyc3BlY3RpdmUucHJldmlldy1kcmFmdHMtcmVuYW1lZC10by1kcmFmdHMuZGVzY3JpcHRpb25cIjogJ1RoZSBcIjxjb2RlPnByZXZpZXdEcmFmdHM8L2NvZGU+XCIgcGVyc3BlY3RpdmUgaGFzIGJlZW4gcmVuYW1lZCB0byBcIjxjb2RlPmRyYWZ0czwvY29kZT5cIiBhbmQgaXMgbm93IGRlcHJlY2F0ZWQuIFRoaXMgY2hhbmdlIGlzIGVmZmVjdGl2ZSBmb3IgYWxsIHZlcnNpb25zIHdpdGggcGVyc3BlY3RpdmUgc3VwcG9ydCAoPj0gdjIwMjEtMDMtMjUpLicsXG4gIC8qKiBDYWxsIHRvIGFjdGlvbiB0byByZWFkIHRoZSBkb2NzIHJlbGF0ZWQgdG8gXCJQZXJzcGVjdGl2ZXNcIiAqL1xuICBcInNldHRpbmdzLnBlcnNwZWN0aXZlcy5hY3Rpb24uZG9jcy1saW5rXCI6IFwiUmVhZCBkb2NzXCIsXG4gIC8qKiBPcHRpb24gZm9yIHNlbGVjdGluZyBkZWZhdWx0IHBlcnNwZWN0aXZlICovXG4gIFwic2V0dGluZ3MucGVyc3BlY3RpdmVzLmRlZmF1bHRcIjogXCJObyBwZXJzcGVjdGl2ZSAoQVBJIGRlZmF1bHQpXCIsXG4gIC8qKiBEZXNjcmlwdGlvbiBmb3IgcG9wb3ZlciB0aGF0IGV4cGxhaW5zIHdoYXQgXCJQZXJzcGVjdGl2ZXNcIiBhcmUgKi9cbiAgXCJzZXR0aW5ncy5wZXJzcGVjdGl2ZXMuZGVzY3JpcHRpb25cIjogJ1BlcnNwZWN0aXZlcyBhbGxvdyB5b3VyIHF1ZXJ5IHRvIHJ1biBhZ2FpbnN0IGRpZmZlcmVudCBcInZpZXdzXCIgb2YgdGhlIGNvbnRlbnQgaW4geW91ciBkYXRhc2V0JyxcbiAgLyoqIERlc2NyaXB0aW9uIGZvciB1cGNvbWluZyBkZWZhdWx0IHBlcnNwZWN0aXZlIGNoYW5nZSAqL1xuICBcInNldHRpbmdzLnBlcnNwZWN0aXZlcy5uZXctZGVmYXVsdC5kZXNjcmlwdGlvblwiOiAnVGhlIGRlZmF1bHQgcGVyc3BlY3RpdmUgd2lsbCBjaGFuZ2UgZnJvbSBcIjxjb2RlPnJhdzwvY29kZT5cIiB0byBcIjxjb2RlPnB1Ymxpc2hlZDwvY29kZT5cIiBpbiBhbiB1cGNvbWluZyBBUEkgdmVyc2lvbi4gUGxlYXNlIGNvbnN1bHQgZG9jcyBmb3IgbW9yZSBkZXRhaWxzLicsXG4gIC8qKiBMYWJlbCBmb3IgdGhlIHBpbm5lZCByZWxlYXNlIHBlcnNwZWN0aXZlICovXG4gIFwic2V0dGluZ3MucGVyc3BlY3RpdmVzLnBpbm5lZC1yZWxlYXNlLWxhYmVsXCI6IFwiUGlubmVkIHJlbGVhc2VcIixcbiAgLyoqIFRpdGxlIGZvciBwb3BvdmVyIHRoYXQgZXhwbGFpbnMgd2hhdCBcIlBlcnNwZWN0aXZlc1wiIGFyZSAqL1xuICBcInNldHRpbmdzLnBlcnNwZWN0aXZlcy50aXRsZVwiOiBcIlBlcnNwZWN0aXZlc1wiXG59KTtcbmV4cG9ydCB7XG4gIHZpc2lvbkxvY2FsZVN0cmluZ3MgYXMgZGVmYXVsdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/@sanity+vision@3.99.0_@babe_7967243ceafc945d74a382d67eac5a21/node_modules/@sanity/vision/lib/_chunks-es/resources.mjs\n");

/***/ })

};
;