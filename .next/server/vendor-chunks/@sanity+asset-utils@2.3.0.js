"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity+asset-utils@2.3.0";
exports.ids = ["vendor-chunks/@sanity+asset-utils@2.3.0"];
exports.modules = {

/***/ "(ssr)/../node_modules/.pnpm/@sanity+asset-utils@2.3.0/node_modules/@sanity/asset-utils/dist/index.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@sanity+asset-utils@2.3.0/node_modules/@sanity/asset-utils/dist/index.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CROP: () => (/* binding */ DEFAULT_CROP),\n/* harmony export */   DEFAULT_HOTSPOT: () => (/* binding */ DEFAULT_HOTSPOT),\n/* harmony export */   UnresolvableError: () => (/* binding */ UnresolvableError),\n/* harmony export */   buildFilePath: () => (/* binding */ buildFilePath),\n/* harmony export */   buildFileUrl: () => (/* binding */ buildFileUrl),\n/* harmony export */   buildImagePath: () => (/* binding */ buildImagePath),\n/* harmony export */   buildImageUrl: () => (/* binding */ buildImageUrl),\n/* harmony export */   getAssetDocumentId: () => (/* binding */ getAssetDocumentId),\n/* harmony export */   getAssetUrlType: () => (/* binding */ getAssetUrlType),\n/* harmony export */   getDefaultCrop: () => (/* binding */ getDefaultCrop),\n/* harmony export */   getDefaultHotspot: () => (/* binding */ getDefaultHotspot),\n/* harmony export */   getExtension: () => (/* binding */ getExtension),\n/* harmony export */   getFile: () => (/* binding */ getFile),\n/* harmony export */   getFileAsset: () => (/* binding */ getFileAsset),\n/* harmony export */   getIdFromString: () => (/* binding */ getIdFromString),\n/* harmony export */   getImage: () => (/* binding */ getImage),\n/* harmony export */   getImageAsset: () => (/* binding */ getImageAsset),\n/* harmony export */   getImageDimensions: () => (/* binding */ getImageDimensions),\n/* harmony export */   getProject: () => (/* binding */ getProject),\n/* harmony export */   getUrlFilename: () => (/* binding */ getUrlFilename),\n/* harmony export */   getUrlPath: () => (/* binding */ getUrlPath),\n/* harmony export */   getVanityStub: () => (/* binding */ getVanityStub),\n/* harmony export */   isAssetFilename: () => (/* binding */ isAssetFilename),\n/* harmony export */   isAssetId: () => (/* binding */ isAssetId),\n/* harmony export */   isAssetIdStub: () => (/* binding */ isAssetIdStub),\n/* harmony export */   isAssetObjectStub: () => (/* binding */ isAssetObjectStub),\n/* harmony export */   isAssetPathStub: () => (/* binding */ isAssetPathStub),\n/* harmony export */   isAssetUrlStub: () => (/* binding */ isAssetUrlStub),\n/* harmony export */   isDefaultCrop: () => (/* binding */ isDefaultCrop),\n/* harmony export */   isDefaultHotspot: () => (/* binding */ isDefaultHotspot),\n/* harmony export */   isFileAssetFilename: () => (/* binding */ isFileAssetFilename),\n/* harmony export */   isFileAssetId: () => (/* binding */ isFileAssetId),\n/* harmony export */   isFileSource: () => (/* binding */ isFileSource),\n/* harmony export */   isImageAssetFilename: () => (/* binding */ isImageAssetFilename),\n/* harmony export */   isImageAssetId: () => (/* binding */ isImageAssetId),\n/* harmony export */   isImageSource: () => (/* binding */ isImageSource),\n/* harmony export */   isInProgressUpload: () => (/* binding */ isInProgressUpload),\n/* harmony export */   isReference: () => (/* binding */ isReference),\n/* harmony export */   isSanityAssetUrl: () => (/* binding */ isSanityAssetUrl),\n/* harmony export */   isSanityFileAsset: () => (/* binding */ isSanityFileAsset),\n/* harmony export */   isSanityFileUrl: () => (/* binding */ isSanityFileUrl),\n/* harmony export */   isSanityImageAsset: () => (/* binding */ isSanityImageAsset),\n/* harmony export */   isSanityImageUrl: () => (/* binding */ isSanityImageUrl),\n/* harmony export */   isUnresolvableError: () => (/* binding */ isUnresolvableError),\n/* harmony export */   isValidFilename: () => (/* binding */ isValidFilename),\n/* harmony export */   parseAssetFilename: () => (/* binding */ parseAssetFilename),\n/* harmony export */   parseAssetId: () => (/* binding */ parseAssetId),\n/* harmony export */   parseAssetUrl: () => (/* binding */ parseAssetUrl),\n/* harmony export */   parseFileAssetId: () => (/* binding */ parseFileAssetId),\n/* harmony export */   parseFileAssetUrl: () => (/* binding */ parseFileAssetUrl),\n/* harmony export */   parseImageAssetId: () => (/* binding */ parseImageAssetId),\n/* harmony export */   parseImageAssetUrl: () => (/* binding */ parseImageAssetUrl),\n/* harmony export */   tryGetAssetDocumentId: () => (/* binding */ tryGetAssetDocumentId),\n/* harmony export */   tryGetAssetPath: () => (/* binding */ tryGetAssetPath),\n/* harmony export */   tryGetExtension: () => (/* binding */ tryGetExtension),\n/* harmony export */   tryGetFile: () => (/* binding */ tryGetFile),\n/* harmony export */   tryGetFileAsset: () => (/* binding */ tryGetFileAsset),\n/* harmony export */   tryGetIdFromString: () => (/* binding */ tryGetIdFromString),\n/* harmony export */   tryGetImage: () => (/* binding */ tryGetImage),\n/* harmony export */   tryGetImageAsset: () => (/* binding */ tryGetImageAsset),\n/* harmony export */   tryGetImageDimensions: () => (/* binding */ tryGetImageDimensions),\n/* harmony export */   tryGetProject: () => (/* binding */ tryGetProject),\n/* harmony export */   tryGetUrlFilename: () => (/* binding */ tryGetUrlFilename),\n/* harmony export */   tryGetUrlPath: () => (/* binding */ tryGetUrlPath)\n/* harmony export */ });\nconst cdnUrl = \"https://cdn.sanity.io\", cdnUrlPattern = /^https:\\/\\/cdn\\.sanity\\./, customCdnUrlPattern = /^https:\\/\\/cdn\\.[^/]+\\/(images|files)\\/[^/]+\\/.*?[a-zA-Z0-9_]{24,40}.*$/, fileAssetFilenamePattern = /^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\\.[a-z0-9]+$/, fileAssetIdPattern = /^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/, imageAssetFilenamePattern = /^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\\d+x\\d+\\.[a-z0-9]+$/, imageAssetIdPattern = /^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+-[a-z0-9]+$/, pathPattern = /^(images|files)\\/([a-z0-9]+)\\/([a-z0-9][-\\w]*)\\//, idPattern = /^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/, imageAssetType = \"sanity.imageAsset\", fileAssetType = \"sanity.fileAsset\", dummyProject = { projectId: \"a\", dataset: \"b\" }, inProgressAssetId = \"upload-in-progress-placeholder\", inProgressAssetAssetId = \"upload-in-progress\", inProgressAssetExtension = \"tmp\";\nclass UnresolvableError extends Error {\n  constructor(inputSource, message = \"Failed to resolve asset ID from source\") {\n    super(message), this.unresolvable = !0, this.input = inputSource;\n  }\n}\nfunction isUnresolvableError(err) {\n  const error = err;\n  return !!(error.unresolvable && \"input\" in error);\n}\nfunction getForgivingResolver(method) {\n  return (...args) => {\n    try {\n      return method(...args);\n    } catch (err) {\n      if (isUnresolvableError(err))\n        return;\n      throw err;\n    }\n  };\n}\nfunction isObject(obj) {\n  return obj !== null && !Array.isArray(obj) && typeof obj == \"object\";\n}\nfunction isReference(ref) {\n  return isObject(ref) && typeof ref._ref == \"string\";\n}\nfunction isAssetIdStub(stub) {\n  return isObject(stub) && typeof stub._id == \"string\";\n}\nfunction isAssetPathStub(stub) {\n  return isObject(stub) && typeof stub.path == \"string\";\n}\nfunction isAssetUrlStub(stub) {\n  return isObject(stub) && typeof stub.url == \"string\";\n}\nfunction isSanityFileAsset(src) {\n  return isObject(src) && src._type === \"sanity.fileAsset\";\n}\nfunction isSanityImageAsset(src) {\n  return isObject(src) && src._type === \"sanity.imageAsset\";\n}\nfunction isImageAssetId(documentId) {\n  return imageAssetIdPattern.test(documentId);\n}\nfunction isFileAssetId(documentId) {\n  return fileAssetIdPattern.test(documentId);\n}\nfunction isAssetId(documentId) {\n  return isImageAssetId(documentId) || isFileAssetId(documentId);\n}\nfunction isAssetObjectStub(stub) {\n  const item = stub;\n  return isObject(item) && !!item.asset && typeof item.asset == \"object\";\n}\nfunction isInProgressUpload(stub) {\n  const item = stub;\n  return isObject(item) && !!item._upload && !(\"asset\" in item);\n}\nfunction isCdnUrl(url) {\n  return cdnUrlPattern.test(url) || customCdnUrlPattern.test(url);\n}\nconst DEFAULT_CROP = Object.freeze({\n  left: 0,\n  top: 0,\n  bottom: 0,\n  right: 0\n}), DEFAULT_HOTSPOT = Object.freeze({\n  x: 0.5,\n  y: 0.5,\n  height: 1,\n  width: 1\n}), getDefaultCrop = () => ({ ...DEFAULT_CROP }), getDefaultHotspot = () => ({ ...DEFAULT_HOTSPOT }), isDefaultCrop = (crop) => {\n  const { top, bottom, left, right } = crop, {\n    top: defaultTop,\n    bottom: defaultBottom,\n    left: defaultLeft,\n    right: defaultRight\n  } = DEFAULT_CROP;\n  return top === defaultTop && bottom === defaultBottom && left === defaultLeft && right === defaultRight;\n}, isDefaultHotspot = (hotspot) => {\n  const { x, y, width, height } = hotspot, { x: defaultX, y: defaultY, width: defaultWidth, height: defaultHeight } = DEFAULT_HOTSPOT;\n  return x === defaultX && y === defaultY && width === defaultWidth && height === defaultHeight;\n};\nfunction buildImagePath(asset, options) {\n  const projectId = options?.projectId || asset.projectId, dataset = options?.dataset || asset.dataset;\n  if (!projectId || !dataset)\n    throw new Error(\"Project details (projectId and dataset) required to resolve path for image\");\n  const dimensions = \"metadata\" in asset ? asset.metadata.dimensions : { width: asset.width, height: asset.height }, originalFilename = \"originalFilename\" in asset ? asset.originalFilename : void 0, { assetId, extension, vanityFilename } = asset, { width, height } = dimensions, vanity = getVanityStub(originalFilename, vanityFilename, options);\n  return `images/${projectId}/${dataset}/${assetId}-${width}x${height}.${extension}${vanity}`;\n}\nfunction buildImageUrl(asset, options) {\n  return `${options?.baseUrl || cdnUrl}/${buildImagePath(asset, options)}`;\n}\nfunction buildFilePath(asset, options) {\n  const projectId = options?.projectId || asset.projectId, dataset = options?.dataset || asset.dataset;\n  if (!projectId || !dataset)\n    throw new Error(\"Project details (projectId and dataset) required to resolve path for file\");\n  const originalFilename = \"originalFilename\" in asset ? asset.originalFilename : void 0, { assetId, extension, vanityFilename } = asset, vanity = getVanityStub(originalFilename, vanityFilename, options);\n  return `files/${projectId}/${dataset}/${assetId}.${extension}${vanity}`;\n}\nfunction buildFileUrl(asset, options) {\n  return `${options?.baseUrl || cdnUrl}/${buildFilePath(asset, options)}`;\n}\nfunction hasPath(urlOrPath) {\n  return pathPattern.test(tryGetUrlPath(urlOrPath) || \"\");\n}\nfunction tryGetAssetPath(src) {\n  if (isAssetObjectStub(src))\n    return tryGetAssetPath(src.asset);\n  if (!isReference(src)) {\n    if (typeof src == \"string\")\n      return hasPath(src) ? getUrlPath(src) : void 0;\n    if (isAssetPathStub(src))\n      return src.path;\n    if (isAssetUrlStub(src))\n      return getUrlPath(src.url);\n  }\n}\nfunction getUrlPath(url) {\n  if (pathPattern.test(url))\n    return url;\n  if (!isCdnUrl(url))\n    throw new UnresolvableError(`Failed to resolve path from URL \"${url}\"`);\n  return new URL(url).pathname.replace(/^\\/+/, \"\");\n}\nconst tryGetUrlPath = getForgivingResolver(getUrlPath);\nfunction getUrlFilename(url) {\n  const filename = (tryGetUrlPath(url) || url).replace(/^(images|files)\\/[a-z0-9]+\\/[a-z0-9][-\\w]\\/*/, \"\");\n  if (!isValidFilename(filename))\n    throw new UnresolvableError(`Failed to resolve filename from URL \"${url}\"`);\n  return filename;\n}\nconst tryGetUrlFilename = getForgivingResolver(getUrlFilename);\nfunction isValidFilename(filename) {\n  return fileAssetFilenamePattern.test(filename) || imageAssetFilenamePattern.test(filename);\n}\nfunction getVanityStub(originalFilename, vanityFilename, options) {\n  const vanity = vanityFilename || originalFilename;\n  return options?.useVanityName === !1 || !vanity ? \"\" : `/${vanity}`;\n}\nconst exampleFileId = \"file-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-pdf\", exampleImageId = \"image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg\";\nfunction parseAssetId(documentId) {\n  if (imageAssetIdPattern.test(documentId))\n    return parseImageAssetId(documentId);\n  if (fileAssetIdPattern.test(documentId))\n    return parseFileAssetId(documentId);\n  throw new Error(`Invalid image/file asset ID: ${documentId}`);\n}\nfunction parseFileAssetId(documentId) {\n  if (!fileAssetIdPattern.test(documentId))\n    throw new Error(\n      `Malformed file asset ID '${documentId}'. Expected an id like \"${exampleFileId}\"`\n    );\n  const [, assetId, extension] = documentId.split(\"-\");\n  return { type: \"file\", assetId, extension };\n}\nfunction parseImageAssetId(documentId) {\n  const [, assetId, dimensionString, extension] = documentId.split(\"-\"), [width, height] = (dimensionString || \"\").split(\"x\").map(Number);\n  if (!assetId || !dimensionString || !extension || !(width > 0) || !(height > 0))\n    throw new Error(`Malformed asset ID '${documentId}'. Expected an id like \"${exampleImageId}\".`);\n  return { type: \"image\", assetId, width, height, extension };\n}\nfunction parseAssetFilename(filename) {\n  const file = tryGetUrlFilename(filename) || \"\";\n  if (!isValidFilename(file))\n    throw new Error(`Invalid image/file asset filename: ${filename}`);\n  try {\n    const type = imageAssetFilenamePattern.test(file) ? \"image\" : \"file\", assetId = file.replace(/\\.([a-z0-9+]+)$/i, \"-$1\");\n    return parseAssetId(`${type}-${assetId}`);\n  } catch {\n    throw new Error(`Invalid image/file asset filename: ${filename}`);\n  }\n}\nfunction parseAssetUrl(url) {\n  if (!isCdnUrl(url))\n    throw new Error(`URL is not a valid Sanity asset URL: ${url}`);\n  const path = new URL(url).pathname.replace(/^\\/+/, \"\"), [projectPath, , projectId, dataset] = path.match(pathPattern) || [];\n  if (!projectPath || !projectId || !dataset)\n    throw new Error(`URL is not a valid Sanity asset URL: ${url}`);\n  const [filename, vanityFilename] = path.slice(projectPath.length).split(\"/\");\n  return {\n    ...parseAssetFilename(filename),\n    projectId,\n    dataset,\n    vanityFilename\n  };\n}\nfunction parseImageAssetUrl(url) {\n  const parsed = parseAssetUrl(url);\n  if (parsed.type !== \"image\")\n    throw new Error(`URL is not a valid Sanity image asset URL: ${url}`);\n  return parsed;\n}\nfunction parseFileAssetUrl(url) {\n  const parsed = parseAssetUrl(url);\n  if (parsed.type !== \"file\")\n    throw new Error(`URL is not a valid Sanity file asset URL: ${url}`);\n  return parsed;\n}\nfunction getAssetUrlType(url) {\n  try {\n    return parseAssetUrl(url).type;\n  } catch {\n    return !1;\n  }\n}\nfunction getImageDimensions(src) {\n  if (isInProgressUpload(src))\n    return { width: 0, height: 0, aspectRatio: 0 };\n  const imageId = getAssetDocumentId(src), { width, height } = parseImageAssetId(imageId), aspectRatio = width / height;\n  return { width, height, aspectRatio };\n}\nconst tryGetImageDimensions = getForgivingResolver(getImageDimensions);\nfunction getExtension(src) {\n  return isInProgressUpload(src) ? inProgressAssetExtension : isFileSource(src) ? getFile(src, dummyProject).asset.extension : getImage(src, dummyProject).asset.extension;\n}\nconst tryGetExtension = getForgivingResolver(getExtension);\nfunction getImage(src, project) {\n  if (isInProgressUpload(src))\n    return {\n      asset: {\n        _id: inProgressAssetId,\n        _type: imageAssetType,\n        assetId: inProgressAssetAssetId,\n        extension: inProgressAssetExtension,\n        url: \"\",\n        path: \"\",\n        metadata: {\n          dimensions: { width: 1, height: 1, aspectRatio: 1 }\n        }\n      },\n      crop: getDefaultCrop(),\n      hotspot: getDefaultHotspot()\n    };\n  const projectDetails = project || tryGetProject(src), asset = getImageAsset(src, projectDetails), img = src;\n  return {\n    asset,\n    crop: img.crop || getDefaultCrop(),\n    hotspot: img.hotspot || getDefaultHotspot()\n  };\n}\nconst tryGetImage = getForgivingResolver(getImage);\nfunction getImageAsset(src, project) {\n  const pathOptions = { ...project || getProject(src), useVanityName: !1 }, _id = getAssetDocumentId(src), metadata = (src.asset || src).metadata || {}, { assetId, width, height, extension } = parseImageAssetId(_id), aspectRatio = width / height, baseAsset = {\n    ...isSanityImageAsset(src) ? src : {},\n    _id,\n    _type: \"sanity.imageAsset\",\n    assetId,\n    extension,\n    metadata: {\n      ...metadata,\n      dimensions: { width, height, aspectRatio }\n    },\n    // Placeholders, overwritten below\n    url: \"\",\n    path: \"\"\n  };\n  return {\n    ...baseAsset,\n    path: buildImagePath(baseAsset, pathOptions),\n    url: buildImageUrl(baseAsset, pathOptions)\n  };\n}\nconst tryGetImageAsset = getForgivingResolver(getImageAsset);\nfunction getFile(src, project) {\n  if (isInProgressUpload(src))\n    return {\n      asset: {\n        _id: inProgressAssetId,\n        _type: fileAssetType,\n        assetId: inProgressAssetAssetId,\n        extension: inProgressAssetExtension,\n        url: \"\",\n        path: \"\",\n        metadata: {}\n      }\n    };\n  const projectDetails = project || tryGetProject(src);\n  return { asset: getFileAsset(src, projectDetails) };\n}\nconst tryGetFile = getForgivingResolver(getFile);\nfunction getFileAsset(src, options) {\n  if (isInProgressUpload(src))\n    return {\n      assetId: inProgressAssetAssetId,\n      _id: inProgressAssetId,\n      _type: fileAssetType,\n      extension: inProgressAssetExtension,\n      metadata: {},\n      url: \"\",\n      path: \"\"\n    };\n  const projectDetails = { ...options || getProject(src), useVanityName: !1 }, _id = getAssetDocumentId(src), source = src.asset || src, { assetId, extension } = parseFileAssetId(_id), baseAsset = {\n    ...isSanityFileAsset(src) ? src : {},\n    _id,\n    _type: \"sanity.fileAsset\",\n    assetId,\n    extension,\n    metadata: source.metadata || {},\n    // Placeholders, overwritten below\n    url: \"\",\n    path: \"\"\n  };\n  return {\n    ...baseAsset,\n    path: buildFilePath(baseAsset, projectDetails),\n    url: buildFileUrl(baseAsset, projectDetails)\n  };\n}\nconst tryGetFileAsset = getForgivingResolver(getFileAsset);\nfunction getAssetDocumentId(src) {\n  if (isInProgressUpload(src))\n    return inProgressAssetId;\n  const source = isAssetObjectStub(src) ? src.asset : src;\n  let id = \"\";\n  if (typeof source == \"string\" ? id = getIdFromString(source) : isReference(source) ? id = source._ref : isAssetIdStub(source) ? id = source._id : isAssetPathStub(source) ? id = idFromUrl(`${cdnUrl}/${source.path}`) : isAssetUrlStub(source) && (id = idFromUrl(source.url)), !(id && idPattern.test(id)))\n    throw new UnresolvableError(src);\n  return id;\n}\nconst tryGetAssetDocumentId = getForgivingResolver(getAssetDocumentId);\nfunction getIdFromString(str) {\n  if (idPattern.test(str))\n    return str;\n  const path = isCdnUrl(str) ? new URL(str).pathname : str;\n  if (path.indexOf(\"/images\") === 0 || path.indexOf(\"/files\") === 0)\n    return idFromUrl(str);\n  if (pathPattern.test(str))\n    return idFromUrl(`${cdnUrl}/${str}`);\n  if (isFileAssetFilename(str))\n    return idFromUrl(`${cdnUrl}/files/a/b/${str}`);\n  if (isImageAssetFilename(str))\n    return idFromUrl(`${cdnUrl}/images/a/b/${str}`);\n  throw new UnresolvableError(str);\n}\nconst tryGetIdFromString = getForgivingResolver(getIdFromString);\nfunction idFromUrl(url) {\n  const path = getUrlPath(url), [type, , , fileName] = path.split(\"/\");\n  return `${type.replace(/s$/, \"\")}-${fileName.replace(/\\./g, \"-\")}`;\n}\nfunction getProject(src) {\n  const path = tryGetAssetPath(src);\n  if (!path)\n    throw new UnresolvableError(src, \"Failed to resolve project ID and dataset from source\");\n  const [, , projectId, dataset] = path.match(pathPattern) || [];\n  if (!projectId || !dataset)\n    throw new UnresolvableError(src, \"Failed to resolve project ID and dataset from source\");\n  return { projectId, dataset };\n}\nconst tryGetProject = getForgivingResolver(getProject);\nfunction isImageAssetFilename(filename) {\n  return imageAssetFilenamePattern.test(filename);\n}\nfunction isFileAssetFilename(filename) {\n  return fileAssetFilenamePattern.test(filename);\n}\nfunction isAssetFilename(filename) {\n  return isImageAssetFilename(filename) || isFileAssetFilename(filename);\n}\nfunction isFileSource(src) {\n  const assetId = tryGetAssetDocumentId(src);\n  return assetId ? assetId.startsWith(\"file-\") : !1;\n}\nfunction isImageSource(src) {\n  const assetId = tryGetAssetDocumentId(src);\n  return assetId ? assetId.startsWith(\"image-\") : !1;\n}\nfunction isSanityAssetUrl(url) {\n  return getAssetUrlType(url) !== !1;\n}\nfunction isSanityImageUrl(url) {\n  return getAssetUrlType(url) === \"image\";\n}\nfunction isSanityFileUrl(url) {\n  return getAssetUrlType(url) === \"file\";\n}\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrYXNzZXQtdXRpbHNAMi4zLjAvbm9kZV9tb2R1bGVzL0BzYW5pdHkvYXNzZXQtdXRpbHMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUtBQXlLLE1BQU0saURBQWlELE1BQU0sVUFBVSxHQUFHLDJEQUEyRCxNQUFNLFVBQVUsR0FBRyw0REFBNEQsTUFBTSxVQUFVLEdBQUcsb0VBQW9FLE1BQU0sVUFBVSxHQUFHLGlJQUFpSSxNQUFNLFVBQVUsR0FBRywwQ0FBMEMsTUFBTSxVQUFVLEdBQUcsNEdBQTRHLDhCQUE4QjtBQUNsMEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDZCQUE2QixpQkFBaUIsZ0NBQWdDLG9CQUFvQjtBQUNuRyxVQUFVLDJCQUEyQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLENBQUM7QUFDRCxVQUFVLHNCQUFzQixhQUFhLHVFQUF1RTtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLEdBQUcsSUFBSTtBQUN0QztBQUNBLHdCQUF3QixPQUFPLGFBQWEsSUFBSTtBQUNoRDtBQUNBLHdCQUF3QixPQUFPLGNBQWMsSUFBSTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUIsR0FBRyw2QkFBNkI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtFRTtBQUNGIiwic291cmNlcyI6WyJEOlxcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHNhbml0eSthc3NldC11dGlsc0AyLjMuMFxcbm9kZV9tb2R1bGVzXFxAc2FuaXR5XFxhc3NldC11dGlsc1xcZGlzdFxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2RuVXJsID0gXCJodHRwczovL2Nkbi5zYW5pdHkuaW9cIiwgY2RuVXJsUGF0dGVybiA9IC9eaHR0cHM6XFwvXFwvY2RuXFwuc2FuaXR5XFwuLywgY3VzdG9tQ2RuVXJsUGF0dGVybiA9IC9eaHR0cHM6XFwvXFwvY2RuXFwuW14vXStcXC8oaW1hZ2VzfGZpbGVzKVxcL1teL10rXFwvLio/W2EtekEtWjAtOV9dezI0LDQwfS4qJC8sIGZpbGVBc3NldEZpbGVuYW1lUGF0dGVybiA9IC9eKFthLXpBLVowLTlfXXsyNCw0MH18W2EtZjAtOV17NDB9KStcXC5bYS16MC05XSskLywgZmlsZUFzc2V0SWRQYXR0ZXJuID0gL15maWxlLShbYS16QS1aMC05X117MjQsNDB9fFthLWYwLTldezQwfSkrLVthLXowLTldKyQvLCBpbWFnZUFzc2V0RmlsZW5hbWVQYXR0ZXJuID0gL14oW2EtekEtWjAtOV9dezI0LDQwfXxbYS1mMC05XXs0MH0pLVxcZCt4XFxkK1xcLlthLXowLTldKyQvLCBpbWFnZUFzc2V0SWRQYXR0ZXJuID0gL15pbWFnZS0oW2EtekEtWjAtOV9dezI0LDQwfXxbYS1mMC05XXs0MH0pKy1cXGQreFxcZCstW2EtejAtOV0rJC8sIHBhdGhQYXR0ZXJuID0gL14oaW1hZ2VzfGZpbGVzKVxcLyhbYS16MC05XSspXFwvKFthLXowLTldWy1cXHddKilcXC8vLCBpZFBhdHRlcm4gPSAvXig/OmltYWdlLSg/OlthLXpBLVowLTlfXXsyNCw0MH18W2EtZjAtOV17NDB9KSstXFxkK3hcXGQrLVthLXowLTldK3xmaWxlLSg/OlthLXpBLVowLTlfXXsyNCw0MH18W2EtZjAtOV17NDB9KSstW2EtejAtOV0rKSQvLCBpbWFnZUFzc2V0VHlwZSA9IFwic2FuaXR5LmltYWdlQXNzZXRcIiwgZmlsZUFzc2V0VHlwZSA9IFwic2FuaXR5LmZpbGVBc3NldFwiLCBkdW1teVByb2plY3QgPSB7IHByb2plY3RJZDogXCJhXCIsIGRhdGFzZXQ6IFwiYlwiIH0sIGluUHJvZ3Jlc3NBc3NldElkID0gXCJ1cGxvYWQtaW4tcHJvZ3Jlc3MtcGxhY2Vob2xkZXJcIiwgaW5Qcm9ncmVzc0Fzc2V0QXNzZXRJZCA9IFwidXBsb2FkLWluLXByb2dyZXNzXCIsIGluUHJvZ3Jlc3NBc3NldEV4dGVuc2lvbiA9IFwidG1wXCI7XG5jbGFzcyBVbnJlc29sdmFibGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoaW5wdXRTb3VyY2UsIG1lc3NhZ2UgPSBcIkZhaWxlZCB0byByZXNvbHZlIGFzc2V0IElEIGZyb20gc291cmNlXCIpIHtcbiAgICBzdXBlcihtZXNzYWdlKSwgdGhpcy51bnJlc29sdmFibGUgPSAhMCwgdGhpcy5pbnB1dCA9IGlucHV0U291cmNlO1xuICB9XG59XG5mdW5jdGlvbiBpc1VucmVzb2x2YWJsZUVycm9yKGVycikge1xuICBjb25zdCBlcnJvciA9IGVycjtcbiAgcmV0dXJuICEhKGVycm9yLnVucmVzb2x2YWJsZSAmJiBcImlucHV0XCIgaW4gZXJyb3IpO1xufVxuZnVuY3Rpb24gZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIobWV0aG9kKSB7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbWV0aG9kKC4uLmFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGlzVW5yZXNvbHZhYmxlRXJyb3IoZXJyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaikgJiYgdHlwZW9mIG9iaiA9PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gaXNSZWZlcmVuY2UocmVmKSB7XG4gIHJldHVybiBpc09iamVjdChyZWYpICYmIHR5cGVvZiByZWYuX3JlZiA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNBc3NldElkU3R1YihzdHViKSB7XG4gIHJldHVybiBpc09iamVjdChzdHViKSAmJiB0eXBlb2Ygc3R1Yi5faWQgPT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzQXNzZXRQYXRoU3R1YihzdHViKSB7XG4gIHJldHVybiBpc09iamVjdChzdHViKSAmJiB0eXBlb2Ygc3R1Yi5wYXRoID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0Fzc2V0VXJsU3R1YihzdHViKSB7XG4gIHJldHVybiBpc09iamVjdChzdHViKSAmJiB0eXBlb2Ygc3R1Yi51cmwgPT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzU2FuaXR5RmlsZUFzc2V0KHNyYykge1xuICByZXR1cm4gaXNPYmplY3Qoc3JjKSAmJiBzcmMuX3R5cGUgPT09IFwic2FuaXR5LmZpbGVBc3NldFwiO1xufVxuZnVuY3Rpb24gaXNTYW5pdHlJbWFnZUFzc2V0KHNyYykge1xuICByZXR1cm4gaXNPYmplY3Qoc3JjKSAmJiBzcmMuX3R5cGUgPT09IFwic2FuaXR5LmltYWdlQXNzZXRcIjtcbn1cbmZ1bmN0aW9uIGlzSW1hZ2VBc3NldElkKGRvY3VtZW50SWQpIHtcbiAgcmV0dXJuIGltYWdlQXNzZXRJZFBhdHRlcm4udGVzdChkb2N1bWVudElkKTtcbn1cbmZ1bmN0aW9uIGlzRmlsZUFzc2V0SWQoZG9jdW1lbnRJZCkge1xuICByZXR1cm4gZmlsZUFzc2V0SWRQYXR0ZXJuLnRlc3QoZG9jdW1lbnRJZCk7XG59XG5mdW5jdGlvbiBpc0Fzc2V0SWQoZG9jdW1lbnRJZCkge1xuICByZXR1cm4gaXNJbWFnZUFzc2V0SWQoZG9jdW1lbnRJZCkgfHwgaXNGaWxlQXNzZXRJZChkb2N1bWVudElkKTtcbn1cbmZ1bmN0aW9uIGlzQXNzZXRPYmplY3RTdHViKHN0dWIpIHtcbiAgY29uc3QgaXRlbSA9IHN0dWI7XG4gIHJldHVybiBpc09iamVjdChpdGVtKSAmJiAhIWl0ZW0uYXNzZXQgJiYgdHlwZW9mIGl0ZW0uYXNzZXQgPT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIGlzSW5Qcm9ncmVzc1VwbG9hZChzdHViKSB7XG4gIGNvbnN0IGl0ZW0gPSBzdHViO1xuICByZXR1cm4gaXNPYmplY3QoaXRlbSkgJiYgISFpdGVtLl91cGxvYWQgJiYgIShcImFzc2V0XCIgaW4gaXRlbSk7XG59XG5mdW5jdGlvbiBpc0NkblVybCh1cmwpIHtcbiAgcmV0dXJuIGNkblVybFBhdHRlcm4udGVzdCh1cmwpIHx8IGN1c3RvbUNkblVybFBhdHRlcm4udGVzdCh1cmwpO1xufVxuY29uc3QgREVGQVVMVF9DUk9QID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGxlZnQ6IDAsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxuICByaWdodDogMFxufSksIERFRkFVTFRfSE9UU1BPVCA9IE9iamVjdC5mcmVlemUoe1xuICB4OiAwLjUsXG4gIHk6IDAuNSxcbiAgaGVpZ2h0OiAxLFxuICB3aWR0aDogMVxufSksIGdldERlZmF1bHRDcm9wID0gKCkgPT4gKHsgLi4uREVGQVVMVF9DUk9QIH0pLCBnZXREZWZhdWx0SG90c3BvdCA9ICgpID0+ICh7IC4uLkRFRkFVTFRfSE9UU1BPVCB9KSwgaXNEZWZhdWx0Q3JvcCA9IChjcm9wKSA9PiB7XG4gIGNvbnN0IHsgdG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0IH0gPSBjcm9wLCB7XG4gICAgdG9wOiBkZWZhdWx0VG9wLFxuICAgIGJvdHRvbTogZGVmYXVsdEJvdHRvbSxcbiAgICBsZWZ0OiBkZWZhdWx0TGVmdCxcbiAgICByaWdodDogZGVmYXVsdFJpZ2h0XG4gIH0gPSBERUZBVUxUX0NST1A7XG4gIHJldHVybiB0b3AgPT09IGRlZmF1bHRUb3AgJiYgYm90dG9tID09PSBkZWZhdWx0Qm90dG9tICYmIGxlZnQgPT09IGRlZmF1bHRMZWZ0ICYmIHJpZ2h0ID09PSBkZWZhdWx0UmlnaHQ7XG59LCBpc0RlZmF1bHRIb3RzcG90ID0gKGhvdHNwb3QpID0+IHtcbiAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBob3RzcG90LCB7IHg6IGRlZmF1bHRYLCB5OiBkZWZhdWx0WSwgd2lkdGg6IGRlZmF1bHRXaWR0aCwgaGVpZ2h0OiBkZWZhdWx0SGVpZ2h0IH0gPSBERUZBVUxUX0hPVFNQT1Q7XG4gIHJldHVybiB4ID09PSBkZWZhdWx0WCAmJiB5ID09PSBkZWZhdWx0WSAmJiB3aWR0aCA9PT0gZGVmYXVsdFdpZHRoICYmIGhlaWdodCA9PT0gZGVmYXVsdEhlaWdodDtcbn07XG5mdW5jdGlvbiBidWlsZEltYWdlUGF0aChhc3NldCwgb3B0aW9ucykge1xuICBjb25zdCBwcm9qZWN0SWQgPSBvcHRpb25zPy5wcm9qZWN0SWQgfHwgYXNzZXQucHJvamVjdElkLCBkYXRhc2V0ID0gb3B0aW9ucz8uZGF0YXNldCB8fCBhc3NldC5kYXRhc2V0O1xuICBpZiAoIXByb2plY3RJZCB8fCAhZGF0YXNldClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9qZWN0IGRldGFpbHMgKHByb2plY3RJZCBhbmQgZGF0YXNldCkgcmVxdWlyZWQgdG8gcmVzb2x2ZSBwYXRoIGZvciBpbWFnZVwiKTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IFwibWV0YWRhdGFcIiBpbiBhc3NldCA/IGFzc2V0Lm1ldGFkYXRhLmRpbWVuc2lvbnMgOiB7IHdpZHRoOiBhc3NldC53aWR0aCwgaGVpZ2h0OiBhc3NldC5oZWlnaHQgfSwgb3JpZ2luYWxGaWxlbmFtZSA9IFwib3JpZ2luYWxGaWxlbmFtZVwiIGluIGFzc2V0ID8gYXNzZXQub3JpZ2luYWxGaWxlbmFtZSA6IHZvaWQgMCwgeyBhc3NldElkLCBleHRlbnNpb24sIHZhbml0eUZpbGVuYW1lIH0gPSBhc3NldCwgeyB3aWR0aCwgaGVpZ2h0IH0gPSBkaW1lbnNpb25zLCB2YW5pdHkgPSBnZXRWYW5pdHlTdHViKG9yaWdpbmFsRmlsZW5hbWUsIHZhbml0eUZpbGVuYW1lLCBvcHRpb25zKTtcbiAgcmV0dXJuIGBpbWFnZXMvJHtwcm9qZWN0SWR9LyR7ZGF0YXNldH0vJHthc3NldElkfS0ke3dpZHRofXgke2hlaWdodH0uJHtleHRlbnNpb259JHt2YW5pdHl9YDtcbn1cbmZ1bmN0aW9uIGJ1aWxkSW1hZ2VVcmwoYXNzZXQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGAke29wdGlvbnM/LmJhc2VVcmwgfHwgY2RuVXJsfS8ke2J1aWxkSW1hZ2VQYXRoKGFzc2V0LCBvcHRpb25zKX1gO1xufVxuZnVuY3Rpb24gYnVpbGRGaWxlUGF0aChhc3NldCwgb3B0aW9ucykge1xuICBjb25zdCBwcm9qZWN0SWQgPSBvcHRpb25zPy5wcm9qZWN0SWQgfHwgYXNzZXQucHJvamVjdElkLCBkYXRhc2V0ID0gb3B0aW9ucz8uZGF0YXNldCB8fCBhc3NldC5kYXRhc2V0O1xuICBpZiAoIXByb2plY3RJZCB8fCAhZGF0YXNldClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9qZWN0IGRldGFpbHMgKHByb2plY3RJZCBhbmQgZGF0YXNldCkgcmVxdWlyZWQgdG8gcmVzb2x2ZSBwYXRoIGZvciBmaWxlXCIpO1xuICBjb25zdCBvcmlnaW5hbEZpbGVuYW1lID0gXCJvcmlnaW5hbEZpbGVuYW1lXCIgaW4gYXNzZXQgPyBhc3NldC5vcmlnaW5hbEZpbGVuYW1lIDogdm9pZCAwLCB7IGFzc2V0SWQsIGV4dGVuc2lvbiwgdmFuaXR5RmlsZW5hbWUgfSA9IGFzc2V0LCB2YW5pdHkgPSBnZXRWYW5pdHlTdHViKG9yaWdpbmFsRmlsZW5hbWUsIHZhbml0eUZpbGVuYW1lLCBvcHRpb25zKTtcbiAgcmV0dXJuIGBmaWxlcy8ke3Byb2plY3RJZH0vJHtkYXRhc2V0fS8ke2Fzc2V0SWR9LiR7ZXh0ZW5zaW9ufSR7dmFuaXR5fWA7XG59XG5mdW5jdGlvbiBidWlsZEZpbGVVcmwoYXNzZXQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGAke29wdGlvbnM/LmJhc2VVcmwgfHwgY2RuVXJsfS8ke2J1aWxkRmlsZVBhdGgoYXNzZXQsIG9wdGlvbnMpfWA7XG59XG5mdW5jdGlvbiBoYXNQYXRoKHVybE9yUGF0aCkge1xuICByZXR1cm4gcGF0aFBhdHRlcm4udGVzdCh0cnlHZXRVcmxQYXRoKHVybE9yUGF0aCkgfHwgXCJcIik7XG59XG5mdW5jdGlvbiB0cnlHZXRBc3NldFBhdGgoc3JjKSB7XG4gIGlmIChpc0Fzc2V0T2JqZWN0U3R1YihzcmMpKVxuICAgIHJldHVybiB0cnlHZXRBc3NldFBhdGgoc3JjLmFzc2V0KTtcbiAgaWYgKCFpc1JlZmVyZW5jZShzcmMpKSB7XG4gICAgaWYgKHR5cGVvZiBzcmMgPT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiBoYXNQYXRoKHNyYykgPyBnZXRVcmxQYXRoKHNyYykgOiB2b2lkIDA7XG4gICAgaWYgKGlzQXNzZXRQYXRoU3R1YihzcmMpKVxuICAgICAgcmV0dXJuIHNyYy5wYXRoO1xuICAgIGlmIChpc0Fzc2V0VXJsU3R1YihzcmMpKVxuICAgICAgcmV0dXJuIGdldFVybFBhdGgoc3JjLnVybCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFVybFBhdGgodXJsKSB7XG4gIGlmIChwYXRoUGF0dGVybi50ZXN0KHVybCkpXG4gICAgcmV0dXJuIHVybDtcbiAgaWYgKCFpc0NkblVybCh1cmwpKVxuICAgIHRocm93IG5ldyBVbnJlc29sdmFibGVFcnJvcihgRmFpbGVkIHRvIHJlc29sdmUgcGF0aCBmcm9tIFVSTCBcIiR7dXJsfVwiYCk7XG4gIHJldHVybiBuZXcgVVJMKHVybCkucGF0aG5hbWUucmVwbGFjZSgvXlxcLysvLCBcIlwiKTtcbn1cbmNvbnN0IHRyeUdldFVybFBhdGggPSBnZXRGb3JnaXZpbmdSZXNvbHZlcihnZXRVcmxQYXRoKTtcbmZ1bmN0aW9uIGdldFVybEZpbGVuYW1lKHVybCkge1xuICBjb25zdCBmaWxlbmFtZSA9ICh0cnlHZXRVcmxQYXRoKHVybCkgfHwgdXJsKS5yZXBsYWNlKC9eKGltYWdlc3xmaWxlcylcXC9bYS16MC05XStcXC9bYS16MC05XVstXFx3XVxcLyovLCBcIlwiKTtcbiAgaWYgKCFpc1ZhbGlkRmlsZW5hbWUoZmlsZW5hbWUpKVxuICAgIHRocm93IG5ldyBVbnJlc29sdmFibGVFcnJvcihgRmFpbGVkIHRvIHJlc29sdmUgZmlsZW5hbWUgZnJvbSBVUkwgXCIke3VybH1cImApO1xuICByZXR1cm4gZmlsZW5hbWU7XG59XG5jb25zdCB0cnlHZXRVcmxGaWxlbmFtZSA9IGdldEZvcmdpdmluZ1Jlc29sdmVyKGdldFVybEZpbGVuYW1lKTtcbmZ1bmN0aW9uIGlzVmFsaWRGaWxlbmFtZShmaWxlbmFtZSkge1xuICByZXR1cm4gZmlsZUFzc2V0RmlsZW5hbWVQYXR0ZXJuLnRlc3QoZmlsZW5hbWUpIHx8IGltYWdlQXNzZXRGaWxlbmFtZVBhdHRlcm4udGVzdChmaWxlbmFtZSk7XG59XG5mdW5jdGlvbiBnZXRWYW5pdHlTdHViKG9yaWdpbmFsRmlsZW5hbWUsIHZhbml0eUZpbGVuYW1lLCBvcHRpb25zKSB7XG4gIGNvbnN0IHZhbml0eSA9IHZhbml0eUZpbGVuYW1lIHx8IG9yaWdpbmFsRmlsZW5hbWU7XG4gIHJldHVybiBvcHRpb25zPy51c2VWYW5pdHlOYW1lID09PSAhMSB8fCAhdmFuaXR5ID8gXCJcIiA6IGAvJHt2YW5pdHl9YDtcbn1cbmNvbnN0IGV4YW1wbGVGaWxlSWQgPSBcImZpbGUtMDI3NDAxZjMxYzNhYzFlNmQ3OGM1ZDUzOWNjZDFiZWZmNzJiOWIxMS1wZGZcIiwgZXhhbXBsZUltYWdlSWQgPSBcImltYWdlLTAyNzQwMWYzMWMzYWMxZTZkNzhjNWQ1MzljY2QxYmVmZjcyYjliMTEtMjAwMHgzMDAwLWpwZ1wiO1xuZnVuY3Rpb24gcGFyc2VBc3NldElkKGRvY3VtZW50SWQpIHtcbiAgaWYgKGltYWdlQXNzZXRJZFBhdHRlcm4udGVzdChkb2N1bWVudElkKSlcbiAgICByZXR1cm4gcGFyc2VJbWFnZUFzc2V0SWQoZG9jdW1lbnRJZCk7XG4gIGlmIChmaWxlQXNzZXRJZFBhdHRlcm4udGVzdChkb2N1bWVudElkKSlcbiAgICByZXR1cm4gcGFyc2VGaWxlQXNzZXRJZChkb2N1bWVudElkKTtcbiAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGltYWdlL2ZpbGUgYXNzZXQgSUQ6ICR7ZG9jdW1lbnRJZH1gKTtcbn1cbmZ1bmN0aW9uIHBhcnNlRmlsZUFzc2V0SWQoZG9jdW1lbnRJZCkge1xuICBpZiAoIWZpbGVBc3NldElkUGF0dGVybi50ZXN0KGRvY3VtZW50SWQpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBNYWxmb3JtZWQgZmlsZSBhc3NldCBJRCAnJHtkb2N1bWVudElkfScuIEV4cGVjdGVkIGFuIGlkIGxpa2UgXCIke2V4YW1wbGVGaWxlSWR9XCJgXG4gICAgKTtcbiAgY29uc3QgWywgYXNzZXRJZCwgZXh0ZW5zaW9uXSA9IGRvY3VtZW50SWQuc3BsaXQoXCItXCIpO1xuICByZXR1cm4geyB0eXBlOiBcImZpbGVcIiwgYXNzZXRJZCwgZXh0ZW5zaW9uIH07XG59XG5mdW5jdGlvbiBwYXJzZUltYWdlQXNzZXRJZChkb2N1bWVudElkKSB7XG4gIGNvbnN0IFssIGFzc2V0SWQsIGRpbWVuc2lvblN0cmluZywgZXh0ZW5zaW9uXSA9IGRvY3VtZW50SWQuc3BsaXQoXCItXCIpLCBbd2lkdGgsIGhlaWdodF0gPSAoZGltZW5zaW9uU3RyaW5nIHx8IFwiXCIpLnNwbGl0KFwieFwiKS5tYXAoTnVtYmVyKTtcbiAgaWYgKCFhc3NldElkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWV4dGVuc2lvbiB8fCAhKHdpZHRoID4gMCkgfHwgIShoZWlnaHQgPiAwKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCBhc3NldCBJRCAnJHtkb2N1bWVudElkfScuIEV4cGVjdGVkIGFuIGlkIGxpa2UgXCIke2V4YW1wbGVJbWFnZUlkfVwiLmApO1xuICByZXR1cm4geyB0eXBlOiBcImltYWdlXCIsIGFzc2V0SWQsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbiB9O1xufVxuZnVuY3Rpb24gcGFyc2VBc3NldEZpbGVuYW1lKGZpbGVuYW1lKSB7XG4gIGNvbnN0IGZpbGUgPSB0cnlHZXRVcmxGaWxlbmFtZShmaWxlbmFtZSkgfHwgXCJcIjtcbiAgaWYgKCFpc1ZhbGlkRmlsZW5hbWUoZmlsZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGltYWdlL2ZpbGUgYXNzZXQgZmlsZW5hbWU6ICR7ZmlsZW5hbWV9YCk7XG4gIHRyeSB7XG4gICAgY29uc3QgdHlwZSA9IGltYWdlQXNzZXRGaWxlbmFtZVBhdHRlcm4udGVzdChmaWxlKSA/IFwiaW1hZ2VcIiA6IFwiZmlsZVwiLCBhc3NldElkID0gZmlsZS5yZXBsYWNlKC9cXC4oW2EtejAtOStdKykkL2ksIFwiLSQxXCIpO1xuICAgIHJldHVybiBwYXJzZUFzc2V0SWQoYCR7dHlwZX0tJHthc3NldElkfWApO1xuICB9IGNhdGNoIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW1hZ2UvZmlsZSBhc3NldCBmaWxlbmFtZTogJHtmaWxlbmFtZX1gKTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VBc3NldFVybCh1cmwpIHtcbiAgaWYgKCFpc0NkblVybCh1cmwpKVxuICAgIHRocm93IG5ldyBFcnJvcihgVVJMIGlzIG5vdCBhIHZhbGlkIFNhbml0eSBhc3NldCBVUkw6ICR7dXJsfWApO1xuICBjb25zdCBwYXRoID0gbmV3IFVSTCh1cmwpLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8rLywgXCJcIiksIFtwcm9qZWN0UGF0aCwgLCBwcm9qZWN0SWQsIGRhdGFzZXRdID0gcGF0aC5tYXRjaChwYXRoUGF0dGVybikgfHwgW107XG4gIGlmICghcHJvamVjdFBhdGggfHwgIXByb2plY3RJZCB8fCAhZGF0YXNldClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVSTCBpcyBub3QgYSB2YWxpZCBTYW5pdHkgYXNzZXQgVVJMOiAke3VybH1gKTtcbiAgY29uc3QgW2ZpbGVuYW1lLCB2YW5pdHlGaWxlbmFtZV0gPSBwYXRoLnNsaWNlKHByb2plY3RQYXRoLmxlbmd0aCkuc3BsaXQoXCIvXCIpO1xuICByZXR1cm4ge1xuICAgIC4uLnBhcnNlQXNzZXRGaWxlbmFtZShmaWxlbmFtZSksXG4gICAgcHJvamVjdElkLFxuICAgIGRhdGFzZXQsXG4gICAgdmFuaXR5RmlsZW5hbWVcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlSW1hZ2VBc3NldFVybCh1cmwpIHtcbiAgY29uc3QgcGFyc2VkID0gcGFyc2VBc3NldFVybCh1cmwpO1xuICBpZiAocGFyc2VkLnR5cGUgIT09IFwiaW1hZ2VcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVSTCBpcyBub3QgYSB2YWxpZCBTYW5pdHkgaW1hZ2UgYXNzZXQgVVJMOiAke3VybH1gKTtcbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIHBhcnNlRmlsZUFzc2V0VXJsKHVybCkge1xuICBjb25zdCBwYXJzZWQgPSBwYXJzZUFzc2V0VXJsKHVybCk7XG4gIGlmIChwYXJzZWQudHlwZSAhPT0gXCJmaWxlXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBVUkwgaXMgbm90IGEgdmFsaWQgU2FuaXR5IGZpbGUgYXNzZXQgVVJMOiAke3VybH1gKTtcbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGdldEFzc2V0VXJsVHlwZSh1cmwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGFyc2VBc3NldFVybCh1cmwpLnR5cGU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0SW1hZ2VEaW1lbnNpb25zKHNyYykge1xuICBpZiAoaXNJblByb2dyZXNzVXBsb2FkKHNyYykpXG4gICAgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCwgYXNwZWN0UmF0aW86IDAgfTtcbiAgY29uc3QgaW1hZ2VJZCA9IGdldEFzc2V0RG9jdW1lbnRJZChzcmMpLCB7IHdpZHRoLCBoZWlnaHQgfSA9IHBhcnNlSW1hZ2VBc3NldElkKGltYWdlSWQpLCBhc3BlY3RSYXRpbyA9IHdpZHRoIC8gaGVpZ2h0O1xuICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0LCBhc3BlY3RSYXRpbyB9O1xufVxuY29uc3QgdHJ5R2V0SW1hZ2VEaW1lbnNpb25zID0gZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0SW1hZ2VEaW1lbnNpb25zKTtcbmZ1bmN0aW9uIGdldEV4dGVuc2lvbihzcmMpIHtcbiAgcmV0dXJuIGlzSW5Qcm9ncmVzc1VwbG9hZChzcmMpID8gaW5Qcm9ncmVzc0Fzc2V0RXh0ZW5zaW9uIDogaXNGaWxlU291cmNlKHNyYykgPyBnZXRGaWxlKHNyYywgZHVtbXlQcm9qZWN0KS5hc3NldC5leHRlbnNpb24gOiBnZXRJbWFnZShzcmMsIGR1bW15UHJvamVjdCkuYXNzZXQuZXh0ZW5zaW9uO1xufVxuY29uc3QgdHJ5R2V0RXh0ZW5zaW9uID0gZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0RXh0ZW5zaW9uKTtcbmZ1bmN0aW9uIGdldEltYWdlKHNyYywgcHJvamVjdCkge1xuICBpZiAoaXNJblByb2dyZXNzVXBsb2FkKHNyYykpXG4gICAgcmV0dXJuIHtcbiAgICAgIGFzc2V0OiB7XG4gICAgICAgIF9pZDogaW5Qcm9ncmVzc0Fzc2V0SWQsXG4gICAgICAgIF90eXBlOiBpbWFnZUFzc2V0VHlwZSxcbiAgICAgICAgYXNzZXRJZDogaW5Qcm9ncmVzc0Fzc2V0QXNzZXRJZCxcbiAgICAgICAgZXh0ZW5zaW9uOiBpblByb2dyZXNzQXNzZXRFeHRlbnNpb24sXG4gICAgICAgIHVybDogXCJcIixcbiAgICAgICAgcGF0aDogXCJcIixcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBkaW1lbnNpb25zOiB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEsIGFzcGVjdFJhdGlvOiAxIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNyb3A6IGdldERlZmF1bHRDcm9wKCksXG4gICAgICBob3RzcG90OiBnZXREZWZhdWx0SG90c3BvdCgpXG4gICAgfTtcbiAgY29uc3QgcHJvamVjdERldGFpbHMgPSBwcm9qZWN0IHx8IHRyeUdldFByb2plY3Qoc3JjKSwgYXNzZXQgPSBnZXRJbWFnZUFzc2V0KHNyYywgcHJvamVjdERldGFpbHMpLCBpbWcgPSBzcmM7XG4gIHJldHVybiB7XG4gICAgYXNzZXQsXG4gICAgY3JvcDogaW1nLmNyb3AgfHwgZ2V0RGVmYXVsdENyb3AoKSxcbiAgICBob3RzcG90OiBpbWcuaG90c3BvdCB8fCBnZXREZWZhdWx0SG90c3BvdCgpXG4gIH07XG59XG5jb25zdCB0cnlHZXRJbWFnZSA9IGdldEZvcmdpdmluZ1Jlc29sdmVyKGdldEltYWdlKTtcbmZ1bmN0aW9uIGdldEltYWdlQXNzZXQoc3JjLCBwcm9qZWN0KSB7XG4gIGNvbnN0IHBhdGhPcHRpb25zID0geyAuLi5wcm9qZWN0IHx8IGdldFByb2plY3Qoc3JjKSwgdXNlVmFuaXR5TmFtZTogITEgfSwgX2lkID0gZ2V0QXNzZXREb2N1bWVudElkKHNyYyksIG1ldGFkYXRhID0gKHNyYy5hc3NldCB8fCBzcmMpLm1ldGFkYXRhIHx8IHt9LCB7IGFzc2V0SWQsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbiB9ID0gcGFyc2VJbWFnZUFzc2V0SWQoX2lkKSwgYXNwZWN0UmF0aW8gPSB3aWR0aCAvIGhlaWdodCwgYmFzZUFzc2V0ID0ge1xuICAgIC4uLmlzU2FuaXR5SW1hZ2VBc3NldChzcmMpID8gc3JjIDoge30sXG4gICAgX2lkLFxuICAgIF90eXBlOiBcInNhbml0eS5pbWFnZUFzc2V0XCIsXG4gICAgYXNzZXRJZCxcbiAgICBleHRlbnNpb24sXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aCwgaGVpZ2h0LCBhc3BlY3RSYXRpbyB9XG4gICAgfSxcbiAgICAvLyBQbGFjZWhvbGRlcnMsIG92ZXJ3cml0dGVuIGJlbG93XG4gICAgdXJsOiBcIlwiLFxuICAgIHBhdGg6IFwiXCJcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICAuLi5iYXNlQXNzZXQsXG4gICAgcGF0aDogYnVpbGRJbWFnZVBhdGgoYmFzZUFzc2V0LCBwYXRoT3B0aW9ucyksXG4gICAgdXJsOiBidWlsZEltYWdlVXJsKGJhc2VBc3NldCwgcGF0aE9wdGlvbnMpXG4gIH07XG59XG5jb25zdCB0cnlHZXRJbWFnZUFzc2V0ID0gZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0SW1hZ2VBc3NldCk7XG5mdW5jdGlvbiBnZXRGaWxlKHNyYywgcHJvamVjdCkge1xuICBpZiAoaXNJblByb2dyZXNzVXBsb2FkKHNyYykpXG4gICAgcmV0dXJuIHtcbiAgICAgIGFzc2V0OiB7XG4gICAgICAgIF9pZDogaW5Qcm9ncmVzc0Fzc2V0SWQsXG4gICAgICAgIF90eXBlOiBmaWxlQXNzZXRUeXBlLFxuICAgICAgICBhc3NldElkOiBpblByb2dyZXNzQXNzZXRBc3NldElkLFxuICAgICAgICBleHRlbnNpb246IGluUHJvZ3Jlc3NBc3NldEV4dGVuc2lvbixcbiAgICAgICAgdXJsOiBcIlwiLFxuICAgICAgICBwYXRoOiBcIlwiLFxuICAgICAgICBtZXRhZGF0YToge31cbiAgICAgIH1cbiAgICB9O1xuICBjb25zdCBwcm9qZWN0RGV0YWlscyA9IHByb2plY3QgfHwgdHJ5R2V0UHJvamVjdChzcmMpO1xuICByZXR1cm4geyBhc3NldDogZ2V0RmlsZUFzc2V0KHNyYywgcHJvamVjdERldGFpbHMpIH07XG59XG5jb25zdCB0cnlHZXRGaWxlID0gZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0RmlsZSk7XG5mdW5jdGlvbiBnZXRGaWxlQXNzZXQoc3JjLCBvcHRpb25zKSB7XG4gIGlmIChpc0luUHJvZ3Jlc3NVcGxvYWQoc3JjKSlcbiAgICByZXR1cm4ge1xuICAgICAgYXNzZXRJZDogaW5Qcm9ncmVzc0Fzc2V0QXNzZXRJZCxcbiAgICAgIF9pZDogaW5Qcm9ncmVzc0Fzc2V0SWQsXG4gICAgICBfdHlwZTogZmlsZUFzc2V0VHlwZSxcbiAgICAgIGV4dGVuc2lvbjogaW5Qcm9ncmVzc0Fzc2V0RXh0ZW5zaW9uLFxuICAgICAgbWV0YWRhdGE6IHt9LFxuICAgICAgdXJsOiBcIlwiLFxuICAgICAgcGF0aDogXCJcIlxuICAgIH07XG4gIGNvbnN0IHByb2plY3REZXRhaWxzID0geyAuLi5vcHRpb25zIHx8IGdldFByb2plY3Qoc3JjKSwgdXNlVmFuaXR5TmFtZTogITEgfSwgX2lkID0gZ2V0QXNzZXREb2N1bWVudElkKHNyYyksIHNvdXJjZSA9IHNyYy5hc3NldCB8fCBzcmMsIHsgYXNzZXRJZCwgZXh0ZW5zaW9uIH0gPSBwYXJzZUZpbGVBc3NldElkKF9pZCksIGJhc2VBc3NldCA9IHtcbiAgICAuLi5pc1Nhbml0eUZpbGVBc3NldChzcmMpID8gc3JjIDoge30sXG4gICAgX2lkLFxuICAgIF90eXBlOiBcInNhbml0eS5maWxlQXNzZXRcIixcbiAgICBhc3NldElkLFxuICAgIGV4dGVuc2lvbixcbiAgICBtZXRhZGF0YTogc291cmNlLm1ldGFkYXRhIHx8IHt9LFxuICAgIC8vIFBsYWNlaG9sZGVycywgb3ZlcndyaXR0ZW4gYmVsb3dcbiAgICB1cmw6IFwiXCIsXG4gICAgcGF0aDogXCJcIlxuICB9O1xuICByZXR1cm4ge1xuICAgIC4uLmJhc2VBc3NldCxcbiAgICBwYXRoOiBidWlsZEZpbGVQYXRoKGJhc2VBc3NldCwgcHJvamVjdERldGFpbHMpLFxuICAgIHVybDogYnVpbGRGaWxlVXJsKGJhc2VBc3NldCwgcHJvamVjdERldGFpbHMpXG4gIH07XG59XG5jb25zdCB0cnlHZXRGaWxlQXNzZXQgPSBnZXRGb3JnaXZpbmdSZXNvbHZlcihnZXRGaWxlQXNzZXQpO1xuZnVuY3Rpb24gZ2V0QXNzZXREb2N1bWVudElkKHNyYykge1xuICBpZiAoaXNJblByb2dyZXNzVXBsb2FkKHNyYykpXG4gICAgcmV0dXJuIGluUHJvZ3Jlc3NBc3NldElkO1xuICBjb25zdCBzb3VyY2UgPSBpc0Fzc2V0T2JqZWN0U3R1YihzcmMpID8gc3JjLmFzc2V0IDogc3JjO1xuICBsZXQgaWQgPSBcIlwiO1xuICBpZiAodHlwZW9mIHNvdXJjZSA9PSBcInN0cmluZ1wiID8gaWQgPSBnZXRJZEZyb21TdHJpbmcoc291cmNlKSA6IGlzUmVmZXJlbmNlKHNvdXJjZSkgPyBpZCA9IHNvdXJjZS5fcmVmIDogaXNBc3NldElkU3R1Yihzb3VyY2UpID8gaWQgPSBzb3VyY2UuX2lkIDogaXNBc3NldFBhdGhTdHViKHNvdXJjZSkgPyBpZCA9IGlkRnJvbVVybChgJHtjZG5Vcmx9LyR7c291cmNlLnBhdGh9YCkgOiBpc0Fzc2V0VXJsU3R1Yihzb3VyY2UpICYmIChpZCA9IGlkRnJvbVVybChzb3VyY2UudXJsKSksICEoaWQgJiYgaWRQYXR0ZXJuLnRlc3QoaWQpKSlcbiAgICB0aHJvdyBuZXcgVW5yZXNvbHZhYmxlRXJyb3Ioc3JjKTtcbiAgcmV0dXJuIGlkO1xufVxuY29uc3QgdHJ5R2V0QXNzZXREb2N1bWVudElkID0gZ2V0Rm9yZ2l2aW5nUmVzb2x2ZXIoZ2V0QXNzZXREb2N1bWVudElkKTtcbmZ1bmN0aW9uIGdldElkRnJvbVN0cmluZyhzdHIpIHtcbiAgaWYgKGlkUGF0dGVybi50ZXN0KHN0cikpXG4gICAgcmV0dXJuIHN0cjtcbiAgY29uc3QgcGF0aCA9IGlzQ2RuVXJsKHN0cikgPyBuZXcgVVJMKHN0cikucGF0aG5hbWUgOiBzdHI7XG4gIGlmIChwYXRoLmluZGV4T2YoXCIvaW1hZ2VzXCIpID09PSAwIHx8IHBhdGguaW5kZXhPZihcIi9maWxlc1wiKSA9PT0gMClcbiAgICByZXR1cm4gaWRGcm9tVXJsKHN0cik7XG4gIGlmIChwYXRoUGF0dGVybi50ZXN0KHN0cikpXG4gICAgcmV0dXJuIGlkRnJvbVVybChgJHtjZG5Vcmx9LyR7c3RyfWApO1xuICBpZiAoaXNGaWxlQXNzZXRGaWxlbmFtZShzdHIpKVxuICAgIHJldHVybiBpZEZyb21VcmwoYCR7Y2RuVXJsfS9maWxlcy9hL2IvJHtzdHJ9YCk7XG4gIGlmIChpc0ltYWdlQXNzZXRGaWxlbmFtZShzdHIpKVxuICAgIHJldHVybiBpZEZyb21VcmwoYCR7Y2RuVXJsfS9pbWFnZXMvYS9iLyR7c3RyfWApO1xuICB0aHJvdyBuZXcgVW5yZXNvbHZhYmxlRXJyb3Ioc3RyKTtcbn1cbmNvbnN0IHRyeUdldElkRnJvbVN0cmluZyA9IGdldEZvcmdpdmluZ1Jlc29sdmVyKGdldElkRnJvbVN0cmluZyk7XG5mdW5jdGlvbiBpZEZyb21VcmwodXJsKSB7XG4gIGNvbnN0IHBhdGggPSBnZXRVcmxQYXRoKHVybCksIFt0eXBlLCAsICwgZmlsZU5hbWVdID0gcGF0aC5zcGxpdChcIi9cIik7XG4gIHJldHVybiBgJHt0eXBlLnJlcGxhY2UoL3MkLywgXCJcIil9LSR7ZmlsZU5hbWUucmVwbGFjZSgvXFwuL2csIFwiLVwiKX1gO1xufVxuZnVuY3Rpb24gZ2V0UHJvamVjdChzcmMpIHtcbiAgY29uc3QgcGF0aCA9IHRyeUdldEFzc2V0UGF0aChzcmMpO1xuICBpZiAoIXBhdGgpXG4gICAgdGhyb3cgbmV3IFVucmVzb2x2YWJsZUVycm9yKHNyYywgXCJGYWlsZWQgdG8gcmVzb2x2ZSBwcm9qZWN0IElEIGFuZCBkYXRhc2V0IGZyb20gc291cmNlXCIpO1xuICBjb25zdCBbLCAsIHByb2plY3RJZCwgZGF0YXNldF0gPSBwYXRoLm1hdGNoKHBhdGhQYXR0ZXJuKSB8fCBbXTtcbiAgaWYgKCFwcm9qZWN0SWQgfHwgIWRhdGFzZXQpXG4gICAgdGhyb3cgbmV3IFVucmVzb2x2YWJsZUVycm9yKHNyYywgXCJGYWlsZWQgdG8gcmVzb2x2ZSBwcm9qZWN0IElEIGFuZCBkYXRhc2V0IGZyb20gc291cmNlXCIpO1xuICByZXR1cm4geyBwcm9qZWN0SWQsIGRhdGFzZXQgfTtcbn1cbmNvbnN0IHRyeUdldFByb2plY3QgPSBnZXRGb3JnaXZpbmdSZXNvbHZlcihnZXRQcm9qZWN0KTtcbmZ1bmN0aW9uIGlzSW1hZ2VBc3NldEZpbGVuYW1lKGZpbGVuYW1lKSB7XG4gIHJldHVybiBpbWFnZUFzc2V0RmlsZW5hbWVQYXR0ZXJuLnRlc3QoZmlsZW5hbWUpO1xufVxuZnVuY3Rpb24gaXNGaWxlQXNzZXRGaWxlbmFtZShmaWxlbmFtZSkge1xuICByZXR1cm4gZmlsZUFzc2V0RmlsZW5hbWVQYXR0ZXJuLnRlc3QoZmlsZW5hbWUpO1xufVxuZnVuY3Rpb24gaXNBc3NldEZpbGVuYW1lKGZpbGVuYW1lKSB7XG4gIHJldHVybiBpc0ltYWdlQXNzZXRGaWxlbmFtZShmaWxlbmFtZSkgfHwgaXNGaWxlQXNzZXRGaWxlbmFtZShmaWxlbmFtZSk7XG59XG5mdW5jdGlvbiBpc0ZpbGVTb3VyY2Uoc3JjKSB7XG4gIGNvbnN0IGFzc2V0SWQgPSB0cnlHZXRBc3NldERvY3VtZW50SWQoc3JjKTtcbiAgcmV0dXJuIGFzc2V0SWQgPyBhc3NldElkLnN0YXJ0c1dpdGgoXCJmaWxlLVwiKSA6ICExO1xufVxuZnVuY3Rpb24gaXNJbWFnZVNvdXJjZShzcmMpIHtcbiAgY29uc3QgYXNzZXRJZCA9IHRyeUdldEFzc2V0RG9jdW1lbnRJZChzcmMpO1xuICByZXR1cm4gYXNzZXRJZCA/IGFzc2V0SWQuc3RhcnRzV2l0aChcImltYWdlLVwiKSA6ICExO1xufVxuZnVuY3Rpb24gaXNTYW5pdHlBc3NldFVybCh1cmwpIHtcbiAgcmV0dXJuIGdldEFzc2V0VXJsVHlwZSh1cmwpICE9PSAhMTtcbn1cbmZ1bmN0aW9uIGlzU2FuaXR5SW1hZ2VVcmwodXJsKSB7XG4gIHJldHVybiBnZXRBc3NldFVybFR5cGUodXJsKSA9PT0gXCJpbWFnZVwiO1xufVxuZnVuY3Rpb24gaXNTYW5pdHlGaWxlVXJsKHVybCkge1xuICByZXR1cm4gZ2V0QXNzZXRVcmxUeXBlKHVybCkgPT09IFwiZmlsZVwiO1xufVxuZXhwb3J0IHtcbiAgREVGQVVMVF9DUk9QLFxuICBERUZBVUxUX0hPVFNQT1QsXG4gIFVucmVzb2x2YWJsZUVycm9yLFxuICBidWlsZEZpbGVQYXRoLFxuICBidWlsZEZpbGVVcmwsXG4gIGJ1aWxkSW1hZ2VQYXRoLFxuICBidWlsZEltYWdlVXJsLFxuICBnZXRBc3NldERvY3VtZW50SWQsXG4gIGdldEFzc2V0VXJsVHlwZSxcbiAgZ2V0RGVmYXVsdENyb3AsXG4gIGdldERlZmF1bHRIb3RzcG90LFxuICBnZXRFeHRlbnNpb24sXG4gIGdldEZpbGUsXG4gIGdldEZpbGVBc3NldCxcbiAgZ2V0SWRGcm9tU3RyaW5nLFxuICBnZXRJbWFnZSxcbiAgZ2V0SW1hZ2VBc3NldCxcbiAgZ2V0SW1hZ2VEaW1lbnNpb25zLFxuICBnZXRQcm9qZWN0LFxuICBnZXRVcmxGaWxlbmFtZSxcbiAgZ2V0VXJsUGF0aCxcbiAgZ2V0VmFuaXR5U3R1YixcbiAgaXNBc3NldEZpbGVuYW1lLFxuICBpc0Fzc2V0SWQsXG4gIGlzQXNzZXRJZFN0dWIsXG4gIGlzQXNzZXRPYmplY3RTdHViLFxuICBpc0Fzc2V0UGF0aFN0dWIsXG4gIGlzQXNzZXRVcmxTdHViLFxuICBpc0RlZmF1bHRDcm9wLFxuICBpc0RlZmF1bHRIb3RzcG90LFxuICBpc0ZpbGVBc3NldEZpbGVuYW1lLFxuICBpc0ZpbGVBc3NldElkLFxuICBpc0ZpbGVTb3VyY2UsXG4gIGlzSW1hZ2VBc3NldEZpbGVuYW1lLFxuICBpc0ltYWdlQXNzZXRJZCxcbiAgaXNJbWFnZVNvdXJjZSxcbiAgaXNJblByb2dyZXNzVXBsb2FkLFxuICBpc1JlZmVyZW5jZSxcbiAgaXNTYW5pdHlBc3NldFVybCxcbiAgaXNTYW5pdHlGaWxlQXNzZXQsXG4gIGlzU2FuaXR5RmlsZVVybCxcbiAgaXNTYW5pdHlJbWFnZUFzc2V0LFxuICBpc1Nhbml0eUltYWdlVXJsLFxuICBpc1VucmVzb2x2YWJsZUVycm9yLFxuICBpc1ZhbGlkRmlsZW5hbWUsXG4gIHBhcnNlQXNzZXRGaWxlbmFtZSxcbiAgcGFyc2VBc3NldElkLFxuICBwYXJzZUFzc2V0VXJsLFxuICBwYXJzZUZpbGVBc3NldElkLFxuICBwYXJzZUZpbGVBc3NldFVybCxcbiAgcGFyc2VJbWFnZUFzc2V0SWQsXG4gIHBhcnNlSW1hZ2VBc3NldFVybCxcbiAgdHJ5R2V0QXNzZXREb2N1bWVudElkLFxuICB0cnlHZXRBc3NldFBhdGgsXG4gIHRyeUdldEV4dGVuc2lvbixcbiAgdHJ5R2V0RmlsZSxcbiAgdHJ5R2V0RmlsZUFzc2V0LFxuICB0cnlHZXRJZEZyb21TdHJpbmcsXG4gIHRyeUdldEltYWdlLFxuICB0cnlHZXRJbWFnZUFzc2V0LFxuICB0cnlHZXRJbWFnZURpbWVuc2lvbnMsXG4gIHRyeUdldFByb2plY3QsXG4gIHRyeUdldFVybEZpbGVuYW1lLFxuICB0cnlHZXRVcmxQYXRoXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/.pnpm/@sanity+asset-utils@2.3.0/node_modules/@sanity/asset-utils/dist/index.js\n");

/***/ })

};
;